---
layout: post
title: "카드 이미지 매핑 방법"
subtitle: "etc"

date: "2023-11-20-13:54:51 +0900"
categories: etc
tags: etc
comments: true
---


<< 카드 이미지 업데이트 방법 >>

[ 시작 전 필요 자료 ]

<br>

**다운받은 카드 이미지 매핑 파일들 => 카드이미지_[날짜].zip**
<br>

**기존에 분류된 카드 이미지 파일들 => 백업용**

<br>

**카드 이미지 기관별 분류 프로그램**

<br>

### 외부망

1 . 외부망 플로우 > [마이데이터] 카드명/이미지 매핑 
![image](https://github.com/Soliloquiess/soliloquiess.github.io/assets/37941513/81ae34fd-e02c-4cb1-aa83-7d62fee631e9)

![image](https://github.com/Soliloquiess/soliloquiess.github.io/assets/37941513/81c8c7c8-ecc0-4fed-bba3-5f1e95e0b71b)

- 카드이미지 리스트에서 가장 최근에 업로드된 카드 이미지 매핑 파일들을 다운받는다.

2 . 다운받은 카드 이미지 매핑 파일들을 망전송을 통해서 내부망으로 옮긴다.



<br>

### 내부망 


3 . 다운받은 카드이미지_[날짜].zip를 카드 이미지 기관별 분류 프로그램을 통해서 분류시킨다.

##### 3-1 . 분류프로그램 처음 설정 방법
- 1 . 이클립스 프로젝트 새로 생성(본래 있던 PLUGIN폴더나 다른 폴더를 사용해도 되나, 혹시 모르니까 새 프로젝트 생성하여 진행.)

- 2 . 문서 폴더에 카드 이미지라는 폴더 넣고 카드 이미지 분류/ 카드 이미지 업데이트 폴더 생성
- 2-1 . 인터넷망에서 넘겨받은 카드 이미지 리스트 , 카드 이미지.zip 파일을 해당 날짜 폴더 생성 후 넣는다(ex.20231116)
- 2-2 . 해당 카드 이미지를 폴더에 다 푼 후 안 의 내용들을 c 드라이브 아래 card_img 폴더 안에 옮긴다.

- 3 . 프로젝트 생성 후 java는 1.8, 패키지명은 com.javalec.mune으로 설정 후, makeDir.java를 src 디폴트 폴더에 넣는다.
- 3-1 . commons-io-2.11.0.jar폴더는 Referenced Libarares에 들어가 있어야 한다.
- 3-2 . 위 과정은 java build path에서 확인
- 3-3 . 설정 시 makeDir 클래스 파일 안에 이미지 경로(IMG_PATH= "C: \ \card_img \ \") 확인 및 실행 전 로컬 폴더에 card_img 폴더 만들어야 한다.
- 3-4 . 이후 java application으로 자바 파일 실행
- 3-5 . card_img폴더에 각 카드 번호별로 폴더가 생성되었는지 확인한다.


4 . 분류시킨 카드 이미지들을 분류 카드 이미지 목록에 덮어씌운다. => **백업용**

- 4-1 . 분류 폴더는 전에 있던 이미지들 다 합해진 것.(인터넷망 flow에서 받은 이미지 zip파일은 새로 추가된 카드들의 이미지, 분류 폴더는 이미 전부터 계속 존재하던 이미지. 여기에 4. 에서 카드 이미지 목록에 덮어 씌우는 것)



5 . 개발서버에 접근하여 /webRoot/plugin/src/img/logo/card/ 에 분류시킨 카드 이미지들을 업로드한다.

6 . 분류시킨 카드 이미지들을 중앙단말망으로 옮긴다.

<br>

### 중요단말망 


7 . 분류시킨 카드 이미지들을 WEB 운영서버(35,36,37,38)에 접근하여 /webRoot/plugin/src/img/logo/card/ 에 분류시킨 카드 이미지들을 업로드한다.

<br>

--------------

<< 카드 매핑 진행 >>

[ 시작 전 필요 자료 ]


**구글 스프레드 시트 두 개**
	- [카드]금융상품수집 Admin 운영관리 > 카드이미지리스트_마이데이터카드명 매핑
	- 카드 이미지 매핑 현황
    - 내부망 내 마이데이터 어드민 사이트

**카드_이미지_리스트_[날짜].xlsx**
**분류한 카드 이미지 목록**

##### 참고. 매주 월요일 또는 본인이 주기적으로 할 수 있는 시간대를 정해서 카드 이미지 매핑 작업을 진행하면 됨.

### 외부망 


1 . 구글 스프레드 시트의 "[카드]금융상품수집 Admin 운영관리 > 카드이미지리스트_마이데이터카드명 매핑"을 참고로 하여 "카드 이미지 매핑 현황"을 업데이트 한다.

https://docs.google.com/spreadsheets/d/13tgWIenEDR4vBhpUPu0EDQK4wkO4Gq7dTuQCzkXZ-xY/edit#gid=1307818014

https://docs.google.com/spreadsheets/d/121pET0hEVHBDXCpYhgh5_nHjgboRpHc3zkCDqadH8Uw/edit#gid=652393481

- 1-1. 만약 [카드]금융상품수집 Admin 운영관리의 '카드 이미지리스트_마이데이터 카드명 매핑' 8953 line/ 카드 이미지 매핑 현황의 3411 line 어디로든 그린카드까지 되어있었다면, 금융상품수집 Admin운영 관리의 8953 line 이후를 copy 후, 카드 이미지 매핑현황 가장 아래로 paste 한다.


<br>

2 . 마이데이터 어드민 서비스 운영서버에 접속하여 "카드 이미지" 접근, "카드_이미지_리스트_[날짜].xlsx" 파일과 구글 스프레드 시트 "카드 이미지 매핑 현황"도 같이 연다.

- 2-1 . 마이 어드민 서비스 운영 서버는 내부망에서 접근
	- plugin-admin.coocon.net:9443 (주소창에 dev 넣었는지 확인. dev일시 개발서버)

- 2-2 . 운영 서버 계정 로그인 진행
	- 운영 서버에도 dashboard계정, 관리자 계정 존재
	- 

<br>


### 내부망 


3 .  구글 스프레드 시트 "카드 이미지 매핑 현황"에서 매핑 안된 카드 이미지에서 기관번호, 카드번호를 "카드_이미지_리스트_[날짜].xlsx" 파일에서 검색하고 존재한다면, 마이데이터 어드민 서비스 운영서버 > 카드 이미지에서 해당 카드를 검색한다.

3-1 . 카드 이미지 리스트 경로는 "문서 - 이미지 업데이트 - 20231116(이건 변경 가능)

<br>


검색한 카드가 미설정되었다면 분류한 카드 이미지에서 해당하는 카드의 이미지를 업로드하고, url은 엑셀 파일에서 그 카드에 해당하는 url을 적고 등록하면 된다.
<br>

- 구글 스프레드 시트 "카드 이미지 매핑 현황"에서 매핑 안된 카드 이미지는 색상이 칠하지 않았는데, 매핑에 성공하면 색을 칠하면 된다.

- 만일, 엑셀 또는 구글 스프레드 시트에 존재하는데 어드민에서 검색하였는데 존재하지 않는다면 붉은색을 칠해서 없다는 의미로 칠하면 된다.

