---
title: "[C] C lang 구조체, 공용체, 함수 포인터"
layout: post
subtitle: C
date: "2022-03-07-08:42:51 +0900"

categories: study
tags: C
# layout: post
# title:  WebFrontEnd
# subtitle:   "시작하기"
# categories: study
# tags: java
comments: true
---


### 구조체, 구조체의 필요성

#### 구조체란(structure)

1 . 클래스를 배우러 가는 과정에서 여러가지 형의 데이터만 모아둔 아이

2 . 클래스를 배운 뒤, 참조형이 아닌 값형인 커스텀 데이터형

<br>

-------


#### C에서 구조체는 첫번쨰 개념과 같다.
- 데이터의 집합. 멤버함수는 없다
- 여러 자료형을 가진 변수들을 하나의 패키지로 만들어 둔 것.


<br>

------

#### 구조체는 참조형 아니면 값형?

- C에서는 모든 자료형이 값형(모든 데이터!)
- 하지만 주소 전달하면 참조형 처럼 사용 가능(참조형 처럼 쓰고 싶으면 주소 전달하면 됨)
- 즉, 주소를 전달하지 않는 한 값형
- 일관적이여서 좋은 언어

<br>

-------

#### 구조체의 필요성

1 . 사람은 세상을 바라볼 떄 물체 단위로 봄.

size_t hour = 2; 
size_te minutes = 39;


2 . 구조체를 사용시 실수도 막을 수 있다.

```
if(is_monday(2043,10,1)){
    run_format();
}
```

위 코드가 틀렸을수도 있다.

![20221108_002433](https://user-images.githubusercontent.com/37941513/200347577-fe5206f1-5417-45bf-8e39-ce695876ab50.png)



<br>

------

#### 컴파일러는 뭐가 틀렸는지 알 수 없음.

같은 형의 데이터 여러개를 매개변수로 받을 때 순서 바뀌면 컴파일러가 실수 찾을 방법이 없다.

![20221108_002815](https://user-images.githubusercontent.com/37941513/200348448-ed06d653-81c6-4a06-89a5-2455cfe814be.png)

<br>


#### 묵시적으로 변환 가능한 자료형이 여러개일 떄도 마찬가지.

- 매개변수 길어지면 마찬가지로 문제
- 그냥 눈으로 보면 실수를 놓치기 쉽다.
- 중간에 매개변수 바꿔도 문제.

![20221108_002734](https://user-images.githubusercontent.com/37941513/200348272-5d69c39d-2630-4716-bae4-acf6bfe96c61.png)

<br>

#### 실수 막으려 또 다른 실수 초래가능

![20221108_002857](https://user-images.githubusercontent.com/37941513/200348677-281f13e3-bc80-4253-b3cc-adb203672a46.png)


<br>

**실수를 줄이려면 원자성을 보장하는 연산(atomic operation)을 사용하는 게 좋다.

<br>

---------


### 구조체의 선언 및 사용


#### 실수 없이 한번에 구하려면 구조체


![20221108_003229](https://user-images.githubusercontent.com/37941513/200349448-834181f6-8de9-424c-97c4-660b1ca19c8c.png)


![20221108_003351](https://user-images.githubusercontent.com/37941513/200349956-21b357b1-5003-4dc1-bfbb-6bb5f7350a11.png)


#### 당연히 지역변수 선언시 0으로 초기화 안된다.

![20221108_003532](https://user-images.githubusercontent.com/37941513/200350172-e20df57b-4655-415a-9ac1-d9ca3f0e3536.png)


<br>

#### 너무 장황한 구조체의 데이터형
 
```
struct date date
```

date라는 이름의 나만의 자료형을 만들어 쓰는줄 알았는데..
- 기본 자료형은 자료형 + 변수명인데( int date)

- 왜 구조체(내가 만든 형은) struct date가 자료형인가?