---
title: "[Springboot] Project 연습"
layout: post
subtitle: Springboot
date: "2021-07-06-04:58:53 +0900"
categories: study
tags: Springboot
# layout: post
# title:  WebFrontEnd
# subtitle:   "시작하기"
# categories: study
# tags: java
comments: true
---


### yml파일 이해하기

음료 공장 만드는 기술자.

1. 두번째 공장
2. 공장 입구는 서쪽
3. 음료요청은 전부 한글 문서로 변경해서 받는다.
4. 음료는 전부 콜라로 만들어서 출시된다.
5. 음료 창고는 컨테이너 박스를 사용한다.
6. 음료는 요청에 따라 페트,캔, 병으로 출시된다.
7. 공장이 재 가동시 기존에 만들어진 음료는 버리지 않는다.
8. 음료 요청시 A4용지 2장 이상의 문서는 받지 않는다.
9. 음료 요청은 아무나 할 수 없다. 암호 아는 사람만 요청한다.


yml은 스프링부트로 공장을 만들건데 그 공장을 만들기 위한 문서이다.


뷰 리졸버 설정

![20210706_020842](/assets/20210706_020842.png)

port-8080 = 입구 부분

![20210706_022539](/assets/20210706_022539.png)

결국 yml은 스프링이라는 성을 어떻게 구성할지 정하는게 yml(properties도 마찬가지.)

----------

### 컨트롤러란?(FrontController와 Dispatcher)
1. 요청을 할 때마다 java 파일이 호출된다.
2. 요청의 종류가 3개면 3개의 Java파일이 존재한다.
3. 하나의 Java파일에서 모든 요청을 받는 FrontController 사용
4. 너무 많은 요청이 한 곳으로 모이는 것을 위해 도메인 별로 분기
5. 분기의 일은 Dispatcher가 해준다.



로그인 요청과 회원가입, 게시글 처리를 FrontController에서 하나의 컨트롤러에서 처리 가능.
근데 너무 많은 요청이 한 곳으로 모이게 된다.


##### 도메인이란
이 세상에 남자 여자만 있다 이런 범주를 주는게 도메인이다.

로그인 , 회원가입은 UserController,
글쓰기 삭제, 구정 등 글 관련은 BoardController에서 처리하겠다.
상품 등록 ,목록, 보기 등은 ProductController에서 처리하겠다.

이런식으로 적당한 양이 쌓이게 된다.

![20210706_024016](/assets/20210706_024016.png)

여기서 문제는 로그인이 올떄 이런 요청이 들어올 때 이 요청들을 어디에 보내야 될지 분기가 필요한데 그게 Dispatcher가 한다.(정확히는 ServletDispatcher, RequestDispatcher라고도 한다.)

이 Dispatcher로 분기를 시킨다.

스프링 프레임워크는 이미 만들어져 있고(디스패쳐가) 컨트롤러도 미리 만들어져서 편하게 사용가능.

우리가 만들어야 되는건 컨트롤러만 만들면 된다.

![20210706_024400](/assets/20210706_024400.png)

컨트롤러를 잘 만들면 요청에 대한 처리가 다 가능하다.

----------

### HTTP 4가지 요청 방식

클라이언트가 웹 서버에 요청,
웹서버는 DB에 Select, Insert, Update, Delete 요청을 해서 응답

![20210706_025641](/assets/20210706_025641.png)


get 요청해서 웹서버로 보내면 웹 서버는 select 해서 db로 요청한다( 웹서버가 데이터를 들고 있지는 않기 때문)
그럼 디비가 응답하고 웹서버가 클라이언트로 응답한다.

브라우저는 .html로 이해해서 브라우저는 이해하지만

핸드폰으로 응답되면 망함(핸드폰은 html을 이해 못함)
.html이 파일이 아니라 문자열(데이터) 응답할 때 쿼리에 대한 결과를 레코드라 하고 웹서버(클라이언트)




이 4가지만 알면 거의 다 컨트롤 하고 만들 수 있다.

post,put은 꼭 기억해야되는게 http에 Body가 필요하다.
Body엔 데이터를 담아야 하고 어떤 데이터를 전송해야되는데 그게 Body에 담김, put도 수정해야되서 그 수정정보가 body에 담


![20210706_033521](/assets/20210706_033521.png)


 이걸 이렇게 받게 된다.(바꿔서)

 ![20210706_033838](/assets/20210706_033838.png)
