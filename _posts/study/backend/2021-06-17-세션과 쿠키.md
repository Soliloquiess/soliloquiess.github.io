---
title: "[backend] 세션과 쿠키"
layout: post
subtitle: backend
date: "2021-06-16-04:42:51 +0900"

categories: study
tags: backend
# layout: post
# title:  WebFrontEnd
# subtitle:   "시작하기"
# categories: study
# tags: java
comments: true
---


객체 바인딩 한 이유는 회원 가입 성공하면 다른 객체들도 회원가입 성공한 걸 알아야 하기 때문.

```

MemberDAO dao=new MemberDAO();
		String user_name=dao.memberLogin(vo); // 구현
		// user_name에 값이 있으면 인증에 성공한것이고, user_name에 값이 없으면 회원인증이 실해한 경우

		if(user_name !=null && !"".equals(user_name)) {
			// 성공

			//request.setAttribute("aaaa", "aaaa");
			HttpSession session=request.getSession();			
			session.setAttribute("userId", user_id);
			session.setAttribute("userName", user_name);			
		}else {
			// 실패
			request.getSession().setAttribute("userId", "");
			request.getSession().setAttribute("userName", "");
			request.getSession().setAttribute("msg", "사용자 정보가 올바르지 않습니다.");		
		}		
		return "redirect:"+ctx+"/memberList.do";


```

세션객체 하나 만들 수 있고 Http 세션 만들어서 이걸 가져오는게 getSession이다 그리고 userid의 로그인이 성공하면 그 아이디가 유저 아이디가 유저 네임에  setAttribute되고 객체바인딩이 됨.

회원 인증 확인해보려면 세션객체를 가지고 와서 userid에 있는 값을 꺼내와야된다.


한개의 PC에서 브라우저 두개를 띄우면 일단 서버입장에선 2명이 접속한거로 세션개념에선 이

![20210618_120003](/assets/20210618_120003.png)

로그인 성공했으면 이 기록을 읽어서 서비스 되고 실패했으면 다시 로그인 할수 있도록 로그인페이지로 돌아가야.

특정 메모리에 있는걸 가져가서 인증 성공하면 서비스 되야되는데 없으면 로그인 안된거니까 다시 로그인 페이지 가야됨.


 -----------

### 세션이란 무엇인가


앞전에 리퀘스트( 클라이너트가 맨처음에 요청하면) 리퀘스트와 리스폰스가 만들어지고 객체를 바인딩 하고 다른 페이지로 포워딩 하게 되면 이 객체에 바인딩 된 메모리 공간에 가져가서 getAttribute하면 이 객체에 바인딩 된 메모리공간에 가져가서 A페이지에선 회원가입 성공했다고 하고 가져가는데 리퀘스트는 가져갈 수 없음.

리퀘스트 객체 리퀘스트 객체에 바인딩 하고 넘겨줄떄만 사용가능. 이게 리퀘스트 바인딩 포워딩이다.

![20210618_145444](/assets/20210618_145444.png)

이 jsp는 뺴내갈 수 있고 그럼 A에서 인증하고 맞으면 서비스 하고 아니면 서비스 안하고 리턴한다(다시 되돌린다.)
