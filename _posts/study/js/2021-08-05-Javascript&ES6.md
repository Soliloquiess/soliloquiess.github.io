---
title: "[js] Javascript&ES6 "
layout: post
subtitle: JS
date: "2021-03-21-23:45:51 +0900"

categories: study
tags: JS
# layout: post
# title:  WebFrontEnd
# subtitle:   "시작하기"
# categories: study
# tags: java
comments: true
---



var function if for forEach eventListener

[Array] {Object} 자료만들고 수정하는 법

이렇게 배우신 후 수강하시면 수월합니다. 기초강의 듣고오시면 됩니다.

다른 언어 하다오신 분들은 그냥 들으셔도 무방합니다.



여러분의 JavaScript 공부 고민 1. 어려운 용어 사용



책이나 구글 검색결과보면 너무나도 어려운 표현들이 기다리고 있습니다.

인스턴스, 1급객체, 생성자, 뭘 리턴하니뭐니

뭔소린지 이해도 안되는 말로 설명하고 있으니 공부해도 기억에 안남는 것입니다.

그래서 강의는 7살도 이해가능한 표현을 사용합니다.

쓸데없이 어려운 프로그래밍 용어는 설명할 때 사용하지 않습니다.





당연히 주요 프로그래밍 용어 정리는 해드립니다.  

"이 생성자의 인스턴스를 뽑아서 객체의 프로토타입 상속기능을 구현하겠다 코딩허접들아"

이런 외계어로 강의 진행을 안한다는 소리입니다.

설명과정은 7살 수준 어휘력으로도 이해가능하도록 설명하겠습니다.

제 7살 조카도 제 설명 듣고 class, constructor, prototype 문법 이해했습니다.




여러분의 JavaScript 공부 고민 2. 알아보기 힘든 예제



역시 문법공부는 문법을 어떻게 쓰는지 알아야하기 때문에

예제를 찾아보기 마련인데 예제 조차 이해가 되지 않습니다.

책이든 구글이든 마찬가지입니다.

왜냐면 많이 배운 개발자일 수록 모듈화니 객체화니 뭐니 예제 어렵게 만드는 트레이닝을 많이 했기 때문입니다.



그래서 현 강의에선 foo bar myFunction 이런 의미없고 알아보기 힘든 변수명은 사용하지 않습니다.

그리고 중요한 변수명 함수명은 한글로 많이 표기할 예정입니다.

20년 전에 코딩배웠던 아조씨들이 변수 한글로 쓴다고 뭐라할 수 있는데 요즘 대부분의 언어들은 다국어 변수명 지원합니다.   



그리고 예제들이 실제 코딩생활에서 찾아볼 수 있는 예제들로 준비했습니다.

내 코드에서 this가 제대로 나오지 않는 이유는?

왜 다음 예제에서 setTimeout 함수가 제대로 동작하지 않을까?

실제 맥락에 맞게 문법예제들을 학습하실 수 있어서 실제 코드 창작에도 도움이 확실히 될 것입니다.

코딩테스트 이런거 좋아하는 분들을 위해 그런 류의 연습문제들도 가끔 출몰합니다.










여러분의 JavaScript 공부 고민 3. 배워봤자 활용을 못하는 문법들



아마 공감되실 겁니다. 문법 배워봤자 뭐해요 실제로 코드짜야될 땐 전혀 쓰질 못하는데 말이에요.

이건 여러분 문제가 아니라 가르치는 사람 문제입니다.

가르치는 사람이 문법의 용도와 목적을 설명해주어야합니다.





class 문법 언제 쓰는지 아십니까.

그냥 간지를 위해 쓰는거라고요? ㄴㄴ 이것도 정확한 용도가 있습니다.

class문법이 존재하는 목적과 이유를 아셔야 내가 정확한 부분에서 정확히 class 문법으로 작성하게 되고

나중에 코드 작성시에도 class 문법을 활용할 수 있죠.





그래서 ES6와 객체지향 문법 사용법만 알려드리는게 아니라

신문법을 쓰는 이유와 용도를 많이 설명해드리려고 노력하고 있습니다.

그냥 대충 "class 문법은 이렇게 씁니다 ㅅㄱ" 시연만 해주면 저도 편하고 좋겠지만

하지만 이 강의의 목적은 여러분 혼자서도 ES6문법으로 코딩 잘하는 것이기 때문에

문법설명 전에 이 문법이 쓰이는 이유와 용도를 많이 알려드리고 있습니다.












여러분의 JavaScript 공부 고민 1. 어려운 용어 사용



책이나 구글 검색결과보면 너무나도 어려운 표현들이 기다리고 있습니다.

인스턴스, 1급객체, 생성자, 뭘 리턴하니뭐니

뭔소린지 이해도 안되는 말로 설명하고 있으니 공부해도 기억에 안남는 것입니다.

그래서 강의는 7살도 이해가능한 표현을 사용합니다.

쓸데없이 어려운 프로그래밍 용어는 설명할 때 사용하지 않습니다.





당연히 주요 프로그래밍 용어 정리는 해드립니다.  

"이 생성자의 인스턴스를 뽑아서 객체의 프로토타입 상속기능을 구현하겠다 코딩허접들아"

이런 외계어로 강의 진행을 안한다는 소리입니다.

설명과정은 7살 수준 어휘력으로도 이해가능하도록 설명하겠습니다.

제 7살 조카도 제 설명 듣고 class, constructor, prototype 문법 이해했습니다.













여러분의 JavaScript 공부 고민 2. 알아보기 힘든 예제



역시 문법공부는 문법을 어떻게 쓰는지 알아야하기 때문에

예제를 찾아보기 마련인데 예제 조차 이해가 되지 않습니다.

책이든 구글이든 마찬가지입니다.

왜냐면 많이 배운 개발자일 수록 모듈화니 객체화니 뭐니 예제 어렵게 만드는 트레이닝을 많이 했기 때문입니다.





그래서 현 강의에선 foo bar myFunction 이런 의미없고 알아보기 힘든 변수명은 사용하지 않습니다.

그리고 중요한 변수명 함수명은 한글로 많이 표기할 예정입니다.

20년 전에 코딩배웠던 아조씨들이 변수 한글로 쓴다고 뭐라할 수 있는데 요즘 대부분의 언어들은 다국어 변수명 지원합니다.   



그리고 예제들이 실제 코딩생활에서 찾아볼 수 있는 예제들로 준비했습니다.

내 코드에서 this가 제대로 나오지 않는 이유는?

왜 다음 예제에서 setTimeout 함수가 제대로 동작하지 않을까?

실제 맥락에 맞게 문법예제들을 학습하실 수 있어서 실제 코드 창작에도 도움이 확실히 될 것입니다.

코딩테스트 이런거 좋아하는 분들을 위해 그런 류의 연습문제들도 가끔 출몰합니다.











여러분의 JavaScript 공부 고민 3. 배워봤자 활용을 못하는 문법들



아마 공감되실 겁니다. 문법 배워봤자 뭐해요 실제로 코드짜야될 땐 전혀 쓰질 못하는데 말이에요.

이건 여러분 문제가 아니라 가르치는 사람 문제입니다.

가르치는 사람이 문법의 용도와 목적을 설명해주어야합니다.





class 문법 언제 쓰는지 아십니까.

그냥 간지를 위해 쓰는거라고요? ㄴㄴ 이것도 정확한 용도가 있습니다.

class문법이 존재하는 목적과 이유를 아셔야 내가 정확한 부분에서 정확히 class 문법으로 작성하게 되고

나중에 코드 작성시에도 class 문법을 활용할 수 있죠.





그래서 ES6와 객체지향 문법 사용법만 알려드리는게 아니라

신문법을 쓰는 이유와 용도를 많이 설명해드리려고 노력하고 있습니다.

그냥 대충 "class 문법은 이렇게 씁니다 ㅅㄱ" 시연만 해주면 저도 편하고 좋겠지만

하지만 이 강의의 목적은 여러분 혼자서도 ES6문법으로 코딩 잘하는 것이기 때문에

문법설명 전에 이 문법이 쓰이는 이유와 용도를 많이 알려드리고 있습니다.



---------


![20210924_213923](/assets/20210924_213923.png)
![20210924_214819](/assets/20210924_214819.png)
![20210924_214848](/assets/20210924_214848.png)
![20210924_215158](/assets/20210924_215158.png)


함수나 변수를 전역공간에서 만들면 {window}에 보관합니다.


(global object = 전역변수 보관소)


#### this는 그냥 나를 가지고 있는 오브젝트를 출력해준다. 이렇게 알고 있으면 된다.

---

@


this 키워드를 알아보자

1. 함수와 Object에서 사용하면?


개발하면서 은근 자주 찾아볼 수 있는 this 키워드는 뜻이 매우 다양합니다.

사용하는 환경에 따라서 4개 이상의 각각 다른 뜻을 가지고 있습니다.







1-1. 그냥 쓰거나 함수 안에서 쓰면 this는 window를 뜻합니다.



그냥 HTML 파일 아무거나 하나 만들고 중간에 script 태그 열어서

일단 this라는 키워드를 콘솔창에 출력해보도록 합시다.

```
console.log(this)
```


그러면 this 키워드는 그냥 window {어쩌구} 이런 값이 나옵니다.







비슷하게 일반 함수 내에서 this라는 값을 불러보면


```
function 간지나는함수(){
 console.log(this)
}
간지나는함수();

```

똑같이 this라는 값은 window 라고 출력됩니다.

(함수 만들고 실행하는 문법은 다 아시죠? 모른다면 JS 기초 강의를 듣고 오도록 합시다. )

이것이 this의 첫째 뜻입니다. 그냥 window입니다.





Q. window가 뭔가요?

A. window는 모든 전역변수, 함수, DOM을 보관하고 관리하는 전역객체입니다.



라고 구글검색 번역투로 설명하면 솔직히 이해가 안되니 좀 쉽게 비유해보자면

님들이 쓰는 자바스크립트 함수들 있죠?

document.getElementById(), alert(), console.log()

이런 함수들을 보관하는 보관소입니다. 보관소는 특별한건 아니고 그냥 큰 {오브젝트}일 뿐입니다.  



또한 여러분이 전역변수를 만들었을 때도 이 값을 보관해줍니다.


```
<script>
 var x = 300;
</script>
```

이렇게 변수를 큰 공간에 만드시면 x라는 변수는 window라는 큰 오브젝트안에 자동적으로 생성됩니다.

함수도 마찬가지고요.

아무튼 그냥 보관소입니다. 끝!



*전역변수 : 코드 내 모든 곳에서 참조해서 쓸 수 있는 범용적인, 범위가 넓은 변수입니다. 그냥 script태그 내에 쌩으로 var 변수 하나 만들면 그건 자연스레 전역변수가 됩니다.  









1-2. strict mode일 때 함수 안에서 쓰면 this는 undefined 입니다.


```
<script>
 'use strict';

 function 간지나는함수(){
   console.log(this)
 }
 간지나는함수();

</script>
```

IE 10버전 이상에선 'use strict'라는 키워드를 페이지 최상단에 추가하면

strict mode로 자바스크립트를 작성가능합니다.

strict mode에선 var 키워드 없이 변수를 선언하거나,

변수를 arguments라는 이상한 키워드로 선언하거나 그런 실수를 방지해줍니다.

strict mode에선 this 키워드를 일반함수 안에서 불렀을 때 undefined라는 값으로 강제로 지정해줍니다.

외울게 하나 더 생겼군요.  











2. object 자료형 내에 함수들이 있을 수 있는데 거기서 this값은 '주인님'을 뜻합니다.



여러분 object 자료형에 함수같은거 집어넣을 수 있다는거 아셨습니까.

```
var 오브젝트1 = {
 data : 'Kim',
 간지함수 : function(){ console.log('간지') }
}

```


글자나 숫자 집어넣듯이 오브젝트 내에도 저렇게 함수를 집어넣을 수 있습니다.

그럼 함수를 어떻게 꺼내쓰냐면


```
var 오브젝트1 = {
 data : 'Kim',
 간지함수 : function(){ console.log('간지') }
}
```

오브젝트1.간지함수();
이렇게 쓰시면 됩니다. 그럼 콘솔창에 '간지'라는 글자가 출력되겠군요.

오브젝트에 들어가는 함수들을 있어보이는 전문용어로 메소드 method라고 칭합니다.







근데 메소드 안에서 this를 쓰면 신기한 값이 나옵니다. 바로 주인님이라는 값인데

```
var 오브젝트1 = {
 data : 'Kim',
 간지함수 : function(){ console.log(this) }
}

```

오브젝트1.간지함수();
간지라는 단어 대신 this라는 키워드를 출력시키면 어떻게되나요?

콘솔창에 { data : 'Kim', 간지함수 : f } 뭐 이런값이 출력되지않습니까?

이게 뭐냐면 그냥 여러분이 방금 만든 오브젝트1입니다.

그래서 메소드안에서 this를 쓰시면 this는 메소드를 가지고 있는 오브젝트를 뜻합니다.

쉽게 외우고싶다면 this는 '메소드의 주인님'을 지칭합니다.







그럼 밑의 예제의 this는 무슨 값이 출력될까요?

```
var 오브젝트2 = {
 data : {
   간지함수 : function(){ console.log(this) }
 }
}
오브젝트2.data.간지함수();
```

이런거 그대로 복붙해서 출력해보지말고 미리 생각을 해보시길 바랍니다.

그러면 머리에 잘 남습니다.

생각을 해보셨다면 직접 출력해보셔서 머릿속의 답과 비교해보시길 바랍니다.



답이 무엇이냐면



별거없고 오브젝트의 메소드안에서 썼을 때 this는 메소드를 담고있는 주인님을 뜻하기 때문에

간지함수()를 담고있는 주인님인 오브젝트2.data 라는게 위의 this랑 동일한 뜻입니다.

둘다 각각 출력해보시면 됩니다.





근데 놀라운 사실은 그냥 this라는 뜻은 2번만 아시면 됩니다.



1번, 즉 "일반 함수 내에서 썼을 때 this는 window입니다" 라는 정의는 굳이 외울 필요가 없습니다.

왜냐면 여러분이 2번 뜻을 잘 배우셨다면 1번도 자연스레 유추가 가능하니까요.







여러분이 함수나 변수를 대충 스크립트 태그 안에 만들었을 때, 함수나 변수는 그냥 만들어지는게 아닙니다.

```
<script>

 function 간지나는함수(){
   console.log()
 }

</script>
```

방금 만드신 간지나는함수()는 전역변수나 전역함수를 관리하기 위한 window라는 오브젝트에 자동으로 추가가 됩니다.

왜 그렇냐고요?

그건 자바스크립트 만든 사람에게 물어보시길 바랍니다.





그래서 코드(1) 코드(2) 둘다 자바스크립트 입장에서 보면 똑같단 이야기입니다.

```
<script>

 (1)
 function 간지나는함수(){
   console.log(this)
 }

 (2)
 window.간지나는함수 = function(){ console.log() };

</script>

```

(2)문법은 window라는 오브젝트에 함수 자료를 추가하는 문법일 뿐입니다. 어려운거 없습니다.

아무튼 결론은 전역함수 만들거나 전역변수 만드시면 저렇게 window {오브젝트} 안에 담긴다는 소리입니다.

우리가 일부러 하지 않아도 변수나 함수 쌩으로 만들면 자바스크립트가 자동으로 알아서 window안에 담습니다.

(변수 강의시간에 window 오브젝트에 대해 잠깐 더 알아볼 예정입니다)











그럼 이제 function 문법의 동작원리 하나를 알았으니 다시 한번 this를 여기서 출력해봅시다.

```
<script>

 function 간지나는함수(){
   console.log(this)
 }
</script>
```

여기서 this는 무슨 값이 나올까요?

this는 아까 2번에 의하면 내 메소드를 포함하고 있는 주인님 오브젝트를 출력시켜준댔죠?

간지나는함수()를 포함하고 있는 주인님 오브젝트가 무엇입니까?



여기서의 this는 무엇일까요


그래서 1번 : this를 함수안에서 썼을 땐 window가 나온다~ 라는건 안외우셔도 되고

2번 : this는 오브젝트 내의 메소드(함수)에서 사용했을 때 메소드의 주인님 오브젝트를 출력해준다~

요것만 외우시면 됩니다.









근데 난관이 있습니다. this의 얼탱이없는 3번 4번 뜻도 있기 때문입니다.


-----


![20210924_220546](/assets/20210924_220546.png)
![20210924_220903](/assets/20210924_220903.png)
![20210924_221246](/assets/20210924_221246.png)
e.currentTarget은 지금 이벤트가 동작하고 있는 곳을 말한다.

그리고 콜백함수란 함수 안에 함수를 집어넣는다. 이 함수를 콜백함수라 한다.

자스에선 콜백함수를 그냥 순차적으로 실행하고 싶을때 쓰면 된다라고 생각하자.

여기서 this를 쓰면 뭐가 나오나?


![20210924_221421](/assets/20210924_221421.png)

실행해보니까 window가 나왔다.


![20210924_235152](/assets/20210924_235152.png)

arrow 펑션의 특징은 내부의 this값을 변화시키지 않는다(외부 this값 그대로 사용이 가능하다).





저번 시간 this 의미 정리를 하자면

1. 그냥 일반 함수에서 쓰면 window

2. 오브젝트 내의 함수(메소드)에서 쓰면 함수를 동작시키는 오브젝트

가 출력된다고 배워봤습니다.







3. constructor 안에서 쓰면 constructor로 새로생성되는 오브젝트를 뜻합니다.



자바스크립트에서 오브젝트를 비슷한걸 여러개 만들고 싶을 경우

오브젝트를 복사하는게 아니라 constructor라는걸 만들어서 사용합니다.

쉽게 말하면 constructor는 오브젝트 복사해서 생성해주는 기계입니다.

기계를 어떻게 만드는지 알아봅시다.


```

function 기계(){
  this.이름 = 'Kim';
}

```

이게 기계 만드는 법입니다.

함수 문법을 이용해서 만드신 후, 안에 this. 어쩌구를 추가해주시면 됩니다.

여기서의 this는 기계로부터 새로 생성될 오브젝트들을 의미합니다.



그럼 this.이름 = 'Kim' 이건 무슨 뜻일까요?

새로생성되는 오브젝트의 이름 key값에 'Kim'이라는 value를 집어넣어주세요

라는 뜻 아닐까요?

맞습니다.





▼ 이건 참고로 알아두시면 좋은 기계에서 오브젝트 뽑는 법입니다.
```
function 기계(){
  this.이름 = 'Kim'
}

var 오브젝트 = new 기계();
```

이렇게 new 키워드를 이용하면 새로운 오브젝트를 꺼낼 수 있습니다.

그리고 새로운 오브젝트는 {이름 : 'Kim'} 이라는 값을 가지고 있습니다.  (this 라는 키워드 덕분에요)









4. eventlistener 안에서 쓰면 this는 e.currentTarget이라는 의미입니다.  



이벤트리스너라는 문법 아시쥬?
```
document.getElementById('버튼').addEventListener('click', function(e){
  console.log(this)
});

```
여기서 this를 소환하면 이것은 바로 e.currentTarget이라는 뜻과 똑같은 의미입니다.

e.currentTarget은 지금 이벤트가 동작하는 곳을 뜻합니다.

매우 간단히 설명하면 지금 addEventListener 부착된 HTML 요소를 뜻한다고 보시면 됩니다.

의심되면 e.currentTarget, this, document.getElementById('버튼') 이거 세개를 각각 출력해보시면 됩니다.

이게 this의 마지막 뜻입니다.



case 1. 이벤트리스너 안에서 콜백함수를 쓴다면 this는?



이런 코드를 쓴다고 가정해봅시다.


```
document.getElementById('버튼').addEventListener('click', function(e){
  var 어레이 = [1,2,3];
  어레이.forEach(function(){
    console.log(this)
  });
});

```
이벤트리스너 안에서 forEach() 라는 반복문을 사용했습니다.

forEach() 반복문을 사용할 땐 안에 function(){} 콜백함수를 집어넣어서 사용하게 되어있습니다. 그래서 넣었습니다.

(* 콜백함수는 그냥 함수 안에 파라미터역할로 들어가는 함수를 뜻합니다. 그게 다임)

하지만 솔직히 forEach가 무슨 역할을 하는지는 모르셔도 이건 알 수 있습니다.



Q. 위의 코드에서 this를 출력하면 무엇이 나올까요?

뭐가 나오냐면




```

생각이 안나시면 지금까지 배웠던 this의 1,2,3,4번 뜻을 각각 대입해보세요.

그럼 뭡니까.



4번뜻에 의하면.. eventlistener 안에서 쓴 건 아닙니다.

eventlistener내부는 맞지만 그 안에서 function을 하나 더 만났기 때문에 의미가 변합니다.

3번뜻에 의하면.. constructor는 아닌 것 같습니다.

실은 this의 1번이나 2번뜻이 맞습니다.

저렇게 쌩으로 있는 콜백함수는 그냥 일반함수랑 똑같기 때문에 window가 출력됩니다.



this의 값은 this가 어떤 함수안에 들어있는지만 잘 체크하시면 바로 아실 수 있습니다.


```



case 2. 오브젝트 안에서 콜백함수를 쓴다면 this는?



이번엔 이런 코드를 쓴다고 가정해봅시다.


```

var 오브젝트 = {
  이름들 : ['김', '이', '박'];
  함수 : function(){
      오브젝트.이름들.forEach(function(){
        console.log(this)
      });
  }
}

```

오브젝트라는 오브젝트 안에 이름들, 함수라는 자료를 각각 저장했습니다 .

함수라는 자료 안에 forEach 반복문을 돌렸는데,



Q .그럼 여기 안에서의 this값을 출력하면 뭐가나올까요?


뭐가 나오냐면

```
역시 잘 대입을 해보시면 되겠습니다.

this값을 판단하실 땐 가장 가까이 있는 함수를 살펴보시면 됩니다.



forEach() 안에 있는 함수에 this가 들어있죠?

근데 이 함수는 무슨 뭐 특별한 역할을 하는 함수인가요?

아닙니다. 그냥 일반 함수일 뿐입니다.

그래서 이것도 window입니다.

 ```



그래서 this값은 function을 만날 때마다 바뀔 수 있기 때문에

내가 원하는 this를 쓰기 힘든 경우가 있습니다.

그럴 땐 함수를 arrow function으로 바꿔보시길 바랍니다.


```
var 오브젝트 = {
  이름들 : ['김', '이', '박'];
  함수 : function(){
      오브젝트.이름들.forEach(() => {
        console.log(this)
      });
  }
}

```

자바스크립트 ES6 문법 중,

function () {} 대신 쓸 수 있는 () => {} 이라는 arrow function 문법이 있습니다.

똑같이 함수 만드는 문법입니다.

이걸 쓰시면 함수 내부의 this값을 새로 바꿔주지 않기 때문에 this를 사용하실 때 유용합니다.

심심하면 사용하시길 바랍니다. (아니면 애초에 this 키워드를 쓰지맙시다)


-----------
