<!-- ---
title: "[js] Javascript, ES6 이전 내용"
layout: post
subtitle: JS
date: "2021-03-23-23:45:51 +0900"

categories: study
tags: JS
# layout: post
# title:  WebFrontEnd
# subtitle:   "시작하기"
# categories: study
# tags: java
comments: true
---

### 자바스크립트의 목적과 셀렉터 (Selector)



조작과 변경을 하시려면 이것만 아시면 됩니다.


```
<h3 id="hello">안녕하세요</h3>
document.getElementById('hello').innerHTML = '바보';

```

밑의 코드는 특정 HTML을 원하는대로 변경할 수 있는 기본중의 기본 자바스크립트 문법입니다.

(HTML내에 자바스크립트를 작성하시려면 <script></script>태그 안에 작성하시면 됩니다.)



해석하는 법은 이렇습니다.  영어책읽듯 해석하면 이해할 수 있습니다.

#### document : 그냥 웹문서 (HTML문서)를 뜻합니다.

#### 마침표 : ~의

#### getElementById('어쩌구') : 아이디가 '어쩌구'인 요소를 찾으셈

#### innerHTML : 내부의 HTML

#### = : 등호는 오른쪽걸 왼쪽에 대입하라는 뜻입니다.

#### '바보' : 바보라는 글자입니다. 모든 글자는 따옴표 안에 담습니다. 큰따옴표, 작은따옴표 둘다 가능합니다.




단어의 뜻을 다 알려드렸으니 이제 저 코드를 해석하실 수 있겠죠?

코드를 잘 짜셨다면 h3태그 내부의 글자가 바보로 바뀌게 됩니다.

HTML을 변경하고싶은 일이 있을 때 저것만 사용하시면 됩니다.

해석만 잘 했다면 이제 응용도 가능합니다.


Q. 위의 h3 내부의 글자를 '멍청이'로 바꾸고 싶다면 어떻게하죠?

직접 작성해본 후 펼쳐봅시다.
```
document.getElementById('hello').innerHTML = '멍청이?';
```

이렇게 작성하면 되지 않을까요.


Q. 위의 h3 내부의 글자를 빨간색으로 바꾸고 싶다면 어떻게하죠?

직접 작성해본 후 펼쳐봅시다.
```
document.getElementById('hello').style.color = 'red';
```
입니다. innerHTML대신 다른 말을 써주시면 되겠습니다.





'멍청이'까지는 혼자 할 수 있겠는데

style.color를 붙여야되는걸 도대체 내가 어떻게 아냐고요?







getElementById()는 셀렉터라고 부릅니다. HTML요소를 찾기 위해 사용합니다.

innerHTML.style.color는 메소드(또는 함수)라고 부릅니다. HTML요소의 어떤 속성을 변경할지 결정하기 위해 사용합니다.

그런데 HTML요소의 변경가능한 속성들은 무궁무진하게 많습니다. src, href, font-size,내부글씨 등 수없이 많습니다.

그 속성들을 바꾸시려면 셀렉터 뒤에 정확한 메소드이름을 붙여주셔야하는데,

![20220318_174256](/assets/20220318_174256.png)

▲메소드는 종류가 수백개 있기 때문에 천재가 아닌 이상 외워서 사용할 수 없습니다.

필요할 때마다 구글에 검색해서 찾아쓰는게 초보의 올바른 자바스크립트 활용법입니다.

How to change text color in javascript 라고 구글에 검색하면 바로

아까 document 어쩌구와 매우 유사한 형식의 답을 바로 얻으실 수 있습니다.

그러니 오늘부터 구글을 홈페이지로 바꿔놓으시길 바랍니다.


---------
### onclick 속성으로 버튼 기능개발 : Alert 박스 만들기


오늘의 5분 숙제 : Alert 박스 내에 닫기 버튼과 기능을 만들어보세요!

닫기 버튼을 누르면 Alert 박스가 뿅하고 사라져야합니다.







기본적인 UI 만드는 법칙



메뉴, 탭, 모달창 등은 버튼을 누르면 UI가 등장합니다.

이런거 만드는건 별거 아닙니다.  

미리 만들어놓은 후 버튼을 누르면 뿅하고 보여주기만 하면 되는거니까요. 그게 UI 개발의 처음과 끝입니다.



조금 상세히 설명해보자면 :

1. 여러분의 뛰어난 HTML, CSS 실력으로 미리 UI 디자인을 해놓습니다.

2. UI를 평소엔 안보이게 숨겨놓습니다.

3. 버튼을 누르거나할 경우 UI를 보여줍니다.

끝!

(숨길 땐 보통 display : block 혹은 visibility : hidden 이라는 스타일을 많이 줍니다.)











자바스크립트로 버튼 기능 개발하기 (onclick 속성)   



버튼을 눌렀을 때 무언가 UI 같은게 동작하도록 코드를 작성할 수 있습니다.

그것은... HTML 속성을 하나 추가해주면 간단하게 구현할 수 있습니다.
```
<button onclick=""> 버튼 </button>
 ```

모든 HTML 태그 내에 onclick 이라는 속성을 넣으실 수 있는데

이걸 넣게되면 해당 HTML을 눌렀을 때 onclick 내부의 자바스크립트를 실행하게 됩니다.

그러니까 onclick 안에다가 자바스크립트를 매우 잘 작성하면

버튼을 눌렀을 때 작동하는 UI 등을 만들어낼 수 있겠죠?









HTML을 보여주거나 안보여주거나



자바스크립트를 이용하면 특정 HTML을 사라지거나 보이게 만들 수 있습니다.

그런 마법은 어떻게 부리냐면..

마법이 아니고 그냥 우리 저번시간에 주구장창 했던 document 부터 시작하는 그 코드를 떠올리시면 됩니다.

HTML을 뭔가 변경할땐 항상 document 어쩌구 그것만 사용합니다.  

그럼 "alert 창을 보여줘라~" 라고 코드를 작성하려면 어떻게 해야할까요.

당연히 CSS 스타일을 어떻게 변경할건지를 명시해주시면 됩니다.


```
document.getElementById('어쩌구').style.display = 'block'
 ```

display : block 이라고 주면

display : none 을 줬던 UI가 다시 뿅하고 보이지 않을까요?


-----
----


### 자바스크립트 function 문법 정확한 사용법 / 에러 체크하기

오늘의 5분 숙제 : Alert 박스 내의 닫기버튼의 기능을 함수로 만들어서 넣어보세요!

display none 어쩌구 작성했던 긴 자바스크립트 코드를 함수로 넣어봅시다.













자바스크립트엔 function이라는 문법이 있습니다.



함수라는 문법입니다. 문법을 배우기 전에 용도를 잠깐 외우고 지나가보도록 합시다.

함수 문법을 쓰는 용도를 모르면 나중에 활용을 못하니까요.

함수라는건 여러가지 용도가 있지만 지금은 이것만 딱 기억하시면 됩니다.





함수의 첫번째 용도는 "긴 코드 하나로 묶기"입니다.

어려운 개발자의 언어로 표현하면 "특정 기능을 다음에도 쓰기 위해 모듈화해놓기" 라고 말할 수 있겠으나 우리같은 초보들은 재사용이 아직 체감이 안되기 때문에  

그냥 긴 코드를 한 단어로 축약하는게 그 목적이라고 이해하시면 되겠습니다.



일단 어떻게 축약하냐면..

일단 document.getElementById('alert').style.display = 'block'; 이라는 긴 코드를 짧게 한 단어로 축약하고 싶다면

함수를 이렇게 만들어 쓰시면 됩니다.

```
function 안내창열기(){
  document.getElementById('alert').style.display = 'block';
}
```



- function 이라는 키워드를 넣으시면 함수를 만들 수 있습니다.

- function 오른쪽엔 함수의 이름을 작명해주시면 됩니다. (이쁘게)

- {} 중괄호 안에는 여러분이 축약하고 싶은 코드를 담아주시면 됩니다.

잘 쓰셨다면 이제
```
안내창열기();
 ```

라고 단어 하나만 쓰면 {} 중괄호 안에 있던 긴 코드를 똑같이 실행시켜줍니다.

나중에 document.getElementById('alert').style.display = 'block'; 저런 기능이 필요할 때

document부터 시작하는 긴 코드를 작성하는게 아니라

단어 하나만 쓰면 되니까 훨씬 코딩이 쉬워지겠죠?

----------

### 자바스크립트 function의 두번째 기능, 구멍 뚫기 (파라미터)

오늘의 5분 숙제 : 버튼1과 버튼2를 누르면 각각 다른 이름의 alert 창이 나오도록 코드를 짜봅시다.

- 버튼1을 누르면 '아이디를 입력하세요' 라는 alert 창이 등장해야합니다.

- 버튼2를 누르면 '비밀번호를 입력하세요' 라는 alert 창이 등장해야합니다.









함수의 두번째 기능이 있습니다.



함수내에 구멍을 뚫어줄 수 있습니다.


```
function 안내창열기(구멍){
  document.getElementById('alert').style.display = 구멍;
}
```

지금 함수 내에 구멍을 뚫었습니다.

구멍을 뚫는 법은

1. 그리고 {} 중괄호 내에 구멍자리를 마련하고

2. () 소괄호 내에 구멍뚫을 때 썼던 단어를 똑같이 적습니다.  


구멍을 왜 뚫냐고요?



- 구멍을 뚫으면 함수를 업그레이드해서 사용할 수 있습니다.

함수를 업그레이드하는게 도대체 뭐냐면,

이제 함수를 쓸 때 그냥 쓰는게 아니라 소괄호 내에 뭔가 문자나 숫자등을 입력해줄 수 있다는 겁니다.


```
안내창열기(); //예전에 썼던 초라한 함수
안내창열기('none'); //업글 후 함수사용법
```

업그레이드 된 함수들엔 소괄호 구멍자리에 뭔가 내가 원하는 문자를 입력해줄 수 있습니다.

문자를 입력하면 아까 그 {} 중괄호 내부의 '구멍'자리에 문자가 쇼옥하고 들어가게 됩니다.

그러면 안내창열기()라는 함수를 사용할 때마다 내가 구멍자리에 원하는 문자를 입력해서 한번 사용해볼게요.




```
function 안내창열기(구멍){
  document.getElementById('alert').style.display = 구멍;
}

안내창열기('none');
안내창열기('block');
```

구멍 자리에 각각 none 그리고 block 이라는 글자들이 들어가서 함수가 실행되겠죠?

이런 식으로 안내창을 열고 닫는 기능들을 간단하게 만들어낼 수 있습니다.





그러면 이거 파라미터 문법을 어디다 쓰죠?

- 강의에서처럼 함수를 여러개 만드는게 아니라 하나의 함수를 재활용할 때 쓰면 좋습니다.

- 함수 내부의 기능을 항상 똑같은 것만 실행하는게 아니라 다양한 기능을 수행하는 함수를 만들고 싶을 때 씁니다.

그래서 선택사항입니다. 위와 같은 상황이 필요하면 쓰세얌









아직도 구멍에 뭘 집어넣으면 어떤 코드가 실행이 되는건지 헷갈린다면


```
function 안내창열기(구멍){
  document.getElementById('alert').style.display = 구멍;
}

1번 : 안내창열기('none');
2번 : document.getElementById('alert').style.display = 'none';
```

위의 코드를 보시면 1번과 2번은 똑같은 코드입니다.

1번은 그냥 안내창열기()라는 함수를 실행하는데 구멍자리에 'none'을 집어넣어라!~ 라는 소리일 뿐이니까여.








함수의 기원 (수학시간임 ㅅㄱ)



실은 수학시간에서 부르던 함수랑 JavaScript에서의 함수랑 똑같은 역할을 합니다.

2를 집어넣으면 3이 나오고

3을 집어넣으면 4가 나오는

모종의 마법의 모자같은걸 만들고싶을 때 함수를 사용합니다.



중학교 수학시간을 떠올려봅시다. 이런거 배웠을 걸요


f(x) = x + 1


이게 수학에서의 함수였습니다. 자바스크립트 함수랑 비슷하게 생겼죠?

f() 내부의 x 자리에 2를 집어넣으면 3 나오고, 6을 집어넣으면 7 나옵니다.

이처럼 뭔가 input을 집어넣으면 output을 출력해주는 마법의 모자 이런거라고 보시면 됩니다.

(이게 원래 함수의 용도에요)

![20220322_103312](/assets/20220322_103312.png)


그림 그리면 조금 더 이해가 쉬울랑가 모르겠지만

함수는 저렇게 input에다가 뭔가를 집어넣으면 output을 생성해주는 역할을 합니다.

이걸 우리는 자바스크립트에서도 똑같이 사용해보고 있는 것이고요.

아까 위에서 x 집어넣으면 x + 1  해주는 함수를 자바스크립트로 만들어보면


```
function plus(x){
  x + 1
}
```

x 라는 구멍에 어떤 숫자를 집어넣으면 x+1 을 계산해주는 자바스크립트 함수입니다.

아까 수학에서의 함수와 별 차이 없죠?


```
plus(2);
plus(4);
```

이렇게 plus 함수를 사용하면 각각 어떻게 될까요?

여러분이 상상하는 그것이 맞습니다.

첫줄은 아마 3을 연산해줄거고 둘째줄은 아마 5를 연산해줄겁니다.

(콘솔창에 출력해보고 싶으면 함수 안에 console.log(x + 1) 이라고 바꿔보십시오.)

암튼 수학 잘하던 분들이 프로그래밍도 잘하십니다.  



파라미터(구멍)를 두개 이상 사용할 수 있습니다.



파라미터라는 개념은 함수를 업그레이드 하고싶을 때 사용한다고 배웠습니다.




```
function 더하기(구멍){
  5 + 구멍;
}

더하기(3);
```
함수 안에 구멍을 뚫어놓으면

함수를 사용할 때 여러가지 자료를 집어넣을 수 있다고 했죠?

다른 자료를 집어넣을 때 마다 각각 결과가 달라지는 일종의 블랙박스같은 역할을 한다고도 분명 5분 전에 배운 것 같습니다.

그럼 구멍을 두개 이상 넣고 싶다면...








```
function 더하기(구멍, 구멍2){
  구멍 + 구멍2;
}

더하기(3, 4);
```
함수 안에 구멍을 두개 이상 뚫고 싶으면 소괄호 내에 콤마로 구분해 입력해주시면 됩니다.

그리고 함수 내에서 구멍2의 자리도 마련해주시면 됩니다.

그러면 이제 앞으로 더하기() 함수를 사용할 때 입력값을 두개 이상 집어넣어서 사용가능합니다.

(위의 예제의 더하기(3,4)는 결국 3 + 4를 연산해주겠죠?)  

------

### 자바스크립트 이벤트리스너 addEventListener & UI 재사용하기

저번시간 숙제 :

버튼1 누르면 '아이디 입력하세요' 라는 alert 창이 떠야함

버튼2 누르면 '비번입력하세요' 라는 alert 창이 떠야함







HTML 복붙하지말고 UI를 재사용해보자  



저번시간 숙제였던 'Alert 창을 두개 만드는 방법'은 여러가지가 있겠으나

가장 쉬운건 HTML을 하나 새로 짜서 Alert 창 div 박스를 두개 만드는 겁니다.

그런데 이렇게 하시면 서로 다른 내용의 Alert 창이 10개 필요하게 되면 HTML 10번 복붙하실겁니까.

코드가 너무나 더러워지기 때문에 약간 더 효율적인 일종의 테크닉을 소개해드리자면,

Alert 창을 띄울 때 Alert 내부의 제목을 바꿔치기해서 띄우는 겁니다.




```
function 알림창열기(){
  document.getElementById(Alert창 제목).innerHTML = '아이디입력하셈';
  document.getElementById('alert').style.display = 'block';
}

알림창열기();
```

저번시간에 만든 코드를 살짝 내용을 추가해봤습니다.

별건 아니고 alert창 안의 제목의 아이디를 찾아서 innerHTML을 '아이디입력하셈'으로 바꾸고 + alert 창도 열어주는 식으로 바꿨습니다.

이래도 뭐라할 사람 없으니까요. 여러분 맘임

이런 식으로 UI를 띄울 때마다 내가 원하는 대로 제목을 바꾸든 색을 바꾸든 해서 띄우면

HTML을 굳이 복붙하지 않고도 여러가지 스타일의 UI를 사용할 수 있겟죠?





그래서 저는 숙제 어떻게 했냐면


사람마다 개발방법이 다 다르기 때문에 정답 그런건 없습니다. 구현만 잘되면 끝입니다.

더 좋은 정석방법 그런것도 없으니 좋은 방법 따라하기보다 여러분만의 방법을 써보도록 하십시오.



그래서 제가 한건 이렇습니다.




```
function 알림창1열기(구멍){
 document.getElementById('title').innerHTML = 구멍;
 document.getElementById('alert').style.display = 'block';
}

알림창열기();
```
▲ 자바스크립트로 함수를 하나 만들었습니다.

이 함수를 실행하면 1. id가 title인 요소의 제목을 바꿔주고 2. alert창을 열어줍니다.



근데 제목 어떻게 바꿀지는 구멍을 뚫어놨습니다.

그럼 앞으로 알림창1열기('아이디입력하셈') 이렇게 쓰면

1. id가 title인 요소의 내용이 '아이디입력하셈'으로 바뀌고 2. alert 창 열어주겠네요



그럼 앞으로 알림창1열기('비번입력하셈') 이렇게 쓰면

1. id가 title인 요소의 내용이 '비번입력하셈'으로 바뀌고 2. alert 창 열어주겠네요






```
<div class="alert-box" id="alert">
 <p id="title">Alert 박스</p>
 <button onclick="닫는기능~~"> X </button>
</div>

<button onclick="알림창1열기('아이디입력하셈')">버튼1</button>
<button onclick="알림창1열기('비번입력하셈')">버튼2</button>
```

그래서 원하는 버튼에다가 그 함수를 집어넣은겁니다. 끝

그러면 각 버튼을 누를 때 다른 제목의 alert 창이 뜹니다.







오늘 배울거 : 이벤트 리스너라는 문법이 있습니다.



우리는 지금까지 HTML의 onclick=""에 자바스크립트를 심어서 개발했었는데 이건 옛날방식입니다.

요즘 개발자들은 이벤트 리스너라는 문법을 자주 이용해서 개발합니다.

그렇게 하면 HTML에 자바스크립트 넣지 않아도 되어서 깔끔해집니다. 그래서 씁니다.



이벤트 리스너는 이렇게 생겼습니다.
```
document.getElementById('어쩌구').addEventListener('click', function(){
    //실행할 코드
});
```
이렇게 작성하시면 'id가 어쩌구인 요소를 클릭하면 안의 코드를 실행해주세요~' 라고 기능개발이 가능합니다.

그래서 저렇게 써놓으면 id가 어쩌구인 요소가 클릭되면 안의 코드를 실행해줍니다.

이거 잘 쓰면 onclick 그런거 이제 필요없겠죠? 그래서 사용합니다.









그럼 눈치껏 응용하면 이런 기능은 어떻게 만들까요?




```
<div class="alert-box" id="alert">
  <p id="title">Alert 박스</p>
  <button id="close"> X </button>
</div>
```
Q. alert 내부에 닫기버튼이 있습니다. 이걸 누르면 alert 창이 닫히도록 하려면 어떻게 기능개발을 해야할까요? (addEventListener를 씁시다)


어떻게 하냐면


밑에다가 script 태그 열고


```
document.getElementById('close').addEventListener('click', function(){
    document.getElementById('alert').style.display = 'none'
});
```
이렇게 작성하면 끝입니다.

HTML은 안건드려도 되어서 깨끗해지지만 자바스크립트 양은 살짝 늘어났군요.

이벤트리스너 싫으면 안써도 뭐라하진 않겠습니다.

근데 결국 찾게될걸요?  


-----

###### 정확한 이벤트 리스너의 개념


![20220322_103750](/assets/20220322_103750.png)

▲ 이벤트리스너는 그림으로 표현하자면 대충 이런 역할을 한다고 보시면 되겠습니다.

유저는 HTML 문서를 이리저리 탐색하면서 특정 요소에 클릭 같은 행위를 할 수 있습니다.

이걸 감지하고싶을 때 쓰는게 이벤트 리스너입니다. 그러고 싶으면 addEventListener 문법을 쓰시면 되는데





셀렉터로찾은요소.addEventListener('click', function(){
  실행할코드
});
▲ 이거 그대로 잘 써주시면 끝입니다.

그냥 직역하자면 셀렉터로 찾은 요소가 click 되길 기다리는애를 추가해주세요~ 라고 해석하면 됩니다.

그럼 그 요소에 click이 일어나자마자 addEventListener 안의 코드가 동작합니다. 끝!

더 심오한 동작원리 학습을 원한다면 Web API를 공부하셔야 하는데 먼 내용이니 참고만 하도록 합시다.













실은 click 말고도 다른걸 감지할 수도 있습니다.



유저는 HTML 문서에서 클릭, 스크롤, 키보드입력, 드래그 등을 할 수 있으며 이걸 우린 이벤트라고 부릅니다.

그래서 이벤트 리스너 안에 파라미터를 잘 조작해주시면 여러분은 브라우저내의 다양한 이벤트를 체크하실 수 있습니다.

예시를 보도록 합시다.


```
셀렉터로찾은요소.addEventListener('mouseover', function(){
  실행할코드
});
```
▲ 셀렉터로찾은요소에 마우스를 스윽 갖다대면 특정 코드를 실행해줍니다.




```
셀렉터로찾은요소.addEventListener('scroll', function(){
  실행할코드
});
```
▲ 셀렉터로찾은요소가 스크롤되면 특정 코드를 실행해줍니다. (당연히 그 요소에 스크롤바가 있어야됨)




```
셀렉터로찾은요소.addEventListener('keydown', function(){
  실행할코드
});
```
▲ 셀렉터로찾은요소에 키보드로 글자를 입력하면 특정 코드를 실행해줍니다. (그 요소가 글자를 입력할 수 있는 input 이런거여야 합니다)







이벤트 종류는 수십가지가 있습니다.

https://developer.mozilla.org/en-US/docs/Web/Events

▲ 모든 브라우저내의 이벤트 리스트인데 이런거 미련하게 외우지 마시고 필요할 때 찾아쓰십시오.





-------
-----------

### jQuery 설치와 기초 셀렉터 정리


오늘의 5분 숙제 : jQuery로 잘 작성해서 아무 글자에 class명을 추가해보십시오.

yellow-bg 라는 클래스명을 추가하시면 됩니다.

(CSS파일에도 yellow-bg라는 클래스명 하나 만들어두세요.)







jQuery가 뭐냐면



2006년에 어떤혼모노가 JS로 개발을 하다가 "아 코드 개길어서 귀찮네"라는 생각을 합니다. (실화)

그래서 JS 코드를 짧고 쉽게 쓸 수 있는 코드를 발명해내는데

그 코드 덩어리를 jQuery라고 이름짓고 웹에 공개해버렸습니다.

그래서 여러분도 이 코드 덩어리만 있으면 JS 쉽고 짧게 작성가능합니다.  

그리고 남이 개발해놓은 이런 코드 덩어리들을 전문용어로 라이브러리라고 부릅니다.







Q. 어 요즘 jQuery 안쓴다던데요

A. 리액트/뷰 이런거 안쓰면 아직 jQuery가 최고존엄임

님이 쌩 자바스크립트로 100줄 200줄 간단히 짜는 것이면 안써도 상관없지만

쌩 자바스크립트로 코드 1천줄 이상 짤일이 있으면 jQuery 안쓸 수 없습니다.









jQuery 설치 방법은 두가지가 있습니다.



1. CDN 사이트를 이용해서 첨부하기

jQuery 파일을 호스팅 해주는 고마운 CDN 사이트들이 있습니다. 거기서 jQuery 파일을 따오시면 쉽게 설치가 가능합니다.

구글 등에 jQuery CDN 이라고 검색하시면 나올겁니다.

거기서 나에게 맞는 jQuery 버전을 선택하면


```
<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  ```
그러면 이상한 script 태그를 줄 텐데 이걸 HTML 파일에 그대로 복붙하면 설치가 끝납니다.

보통 3.X 버전을 설치하시면 되며 인터넷 익스플로러 8이하 호환성을 잡는 사이트를 만들고 계시다면 1.X 버전을 설치하시면 됩니다.

(CDN은 content delivery network의 약자로, 자주 사용하는 css, js 라이브러리 파일들을 호스팅해주는 사이트를 뜻합니다)







2. 직접 다운받아서 첨부하기

아까 첨부한 그 스크립트 태그를 잘보시면 src 속성 내에 무슨 사이트 주소가 하나 있습니다 .

https://code.jquery.com/jquery-3.4.1.js

이런건데 이 사이트로 접속하시면 js 파일이 하나 열립니다.

이걸 우클릭 - 여러분 작업폴더에 다른이름으로 저장하신다음
```
<script src="아까 다운받은 그 파일 경로"></script>
```

를 여기에 적어주시면 되겠습니다.



jQuery 기본 문법



jQuery는 자바스크립트랑 다른게 아닙니다.  

HTML 변경해주는데 약간 코드를 더 짧게 작성할 수 있을 뿐 입니다.

특히 셀렉터가 조금 더 쓰기 쉽게 되어있습니다. 빠른 예시를 보면


```
document.getElementById('title').innerHTML = '바보';
$('#title').html('바보');
 ```

윗줄은 자바스크립트, 아랫줄은 jQuery 문법입니다. 뜻은 동일합니다.

페이지 내의 ID가 title이라는걸 찾아서 내용을 '바보'로 바꾸라는겁니다.

설명은 밑에서 해드립니다.











jQuery 셀렉터


```
$('#title');
$('.box')
 ```

jQuery는 HTML찾는 셀렉터를 $() 를 이용해 사용합니다. 그리고 따옴표 안에 CSS 스타일의 셀렉터를 적어주시면 됩니다.

예를 들면 첫째 예제에서.. CSS에서 ID로 뭔가를 선택할 때 #기호를 붙이죠? 그래서 #title이라고 적은겁니다.

클래스명이 box인 요소를 찾으려면 어떻게합니까.

$('.box')라고 쓰시면 됩니다.

이제 document.getElementById() 이런거 길게 작성할 필요가 없겠군요.









jQuery 함수/메소드  


```
$('#title').text('바보');
$('#title').html('<p>바보</p>');
$('#title').css('color', 'red');
```

내가 원하는 세부 속성을 바꿀 때 자바스크립트처럼 메소드를 뒤에 붙여주시면 됩니다.

하지만 자바스크립트와 이름이 약간 다릅니다.

.text 는 안에있는 모든 텍스트를 변경하라

.html 은 안에있는 모든 내용을 변경하라 (HTML 태그 포함)

.css 는 스타일속성을 변경하라

라는 뜻입니다.





(참고)

자바스크립트로 찾은 HTML요소는 자바스크립트 함수/메소드를 뒤에 붙여야하며

jQuery 셀렉터로 찾은 HTML요소는 jQuery 함수/메소드를 붙여야합니다.

나머지 메소드들은 필요할 때 구글에서 찾아쓰셔도 무방합니다.

이제 오늘의 숙제 해오십시오.



-----------

### jQuery 쓰는 이유 & 기초내용 빠른 정리


jQuery 쓰는 이유를 조금 더 알아보면서 jQuery 기초 내용들을 쭉 정리해보도록 합시다.





Q. 왜 자꾸 숙제로 안가르친거 시키는 것?

A. 배운 것만 할 줄 알면 기술자지 개발자가 아닙니다. 개발자는 모르는 것도 찾아 해내야 하기 때문에 숙제도 그렇게 준비했습니다. 여러분 곁엔 항상 구글느님이 계십니다.





jQuery 쓰는 이유 1. 코드가 매우 짧아집니다.

저번시간 설명했으니 스킵하도록 하겠습니다. HTML 변경하는 문법, 이벤트리스너 문법이 매우 짧아집니다.





jQuery 쓰는 이유 2. 여러개의 요소를 한번에 싸잡아서 바꿀 수 있습니다.


```
<p class="greeting">안녕하세요</p>
<p class="greeting">안녕하세요</p>
<p class="greeting">안녕하세요</p>
```
예를 들면 p태그가 3개 있는데 이걸 전부 한번에 '안녕'이라는 글자로 바꾸고 싶으면 어떻게 하죠?


반면 jQuery를 쓴다면 셀렉터 하나로 한번에 처리가 가능합니다.
```
$('.greeting').html('안녕')
```
jQuery 셀렉터로 요소를 찾을 경우 요소가 여러개 있어도 그냥 한번에 다 바꿔줍니다.

그래서 HTML 조작할 일이 있으면 쌩자바스크립트나 jQuery 둘 중 마음에 드는걸 쓰도록 합시다.

(참고) jQuery로 찾은 여러 요소 중 맨 위의 것만 바꾸고 싶은 경우 $('.greeting').eq(0) 이렇게 하면 됩니다.









버튼이 여러개 있어도 이벤트리스너를 여러개 한번에 부착해버릴 수도 있습니다.


```
<button class="btn">버튼btn</button>
<button class="btn">버튼btn</button>
<button class="btn">버튼btn</button>

<script>
  $('.btn').on('click', function(){ 버튼누르면 실행할 코드~~ } );
</script>
```
이렇게 하면 버튼 3개 중 아무거나 눌러도 이벤트리스너가 실행됩니다.

쌩자바스크립트는 버튼마다 각각 addEventListener 써야하는데 말입니다.










쌩 자바스크립트로 작성하면 3줄이 나옵니다.
```
document.getElementsByClassName('greeting')[0].innerHTML = '안녕';
document.getElementsByClassName('greeting')[1].innerHTML = '안녕';
document.getElementsByClassName('greeting')[2].innerHTML = '안녕';
getElementsByClassName()은 셀렉터인데 class명으로 찾아주는 셀렉터입니다.
```


이걸 이용하시면 클래스 명으로 원하는 요소를 찾을 수 있는데 특이한 점은 전부 찾아줍니다.

그래서 전부 찾은 것 중 [0] 이런 식으로 위에서 부터 몇번째 자료를 바꿀건지를 지정해주셔야 바꿀 수 있습니다. 없으면 안됩니다. 그래서 총 3줄을 작성해야합니다.

(유사품 querySelectorAll() 이런 셀렉터도 있습니다.)





jQuery 쓰는 이유 3. 애니메이션을 쉽게 부착 가능합니다.



요소를 사라지기 / fade out / 접어올리기 이런 간단한 애니메이션을 주고 싶으면

쌩자바스크립트로 구현하려면 CSS를 잘하시든가.. JS로 코드를 5줄 정도 잘 짜시든가 하면 될텐데

jQuery를 설치해놨다면 한줄 컷입니다.


```
$('.greeting').hide()
$('.greeting').fadeOut()
$('.greeting').slideUp()
```
각각 요소를 사라지게 / fade out 처리 / 접어올리기 해주는 코드입니다.

한줄이 뭡니까 한단어 컷이군요.

방금 애니메이션을 반대로 주고 싶다면 각각 show() fadeIn() slideDown() 입니다.





다음 시간부터는 UI 개발로 돌아가볼건데 Bootstrap 이런거 이용해서 조금 더 있어보이는 사이트 만들면서 UI 제작을 들어가봅시다.

그래야 코드짤 맛이 납니다.

--------

### Bootstrap 사용하기와 모달창 UI 개발


* Bootstrap이 업데이트 되어서 getbootstrap.com 에서 우측 위 4.5버전 선택 후 진행하시면 됩니다.





오늘의 1분 숙제 : 이벤트 리스너를 이용해 방금 만든 모달창 열기 기능을 개발해보십시오.  

대문안에 있는 로그인 버튼을 누르면 모달창이 열려야합니다. 역시 따로 설명은 필요없겠죠?









Bootstrap 이라는 프론트엔드 컴포넌트 라이브러리



우리가 자주 사용하는 메뉴, 대문, 폼, 버튼 등의 HTML CSS를

복붙식으로 개발할 수 있게 도와주는 라이브러리가 바로 Bootstrap 이라는 라이브러리입니다.

Bootstrap을 설치하시면 누구보다 빠른 웹개발이 가능하기 때문에

Bootstrap을 이용해 페이지를 만들어보고, 여기에 자바스크립트로 UI개발을 진행해보도록 합시다.

![20220322_104416](/assets/20220322_104416.png)

getbootstrap.com 으로 들어간 후 Get started 버튼을 눌러봅니다. 그리고 우측 위에서 4.x 버전 선택하십시오.

중간 쯤에 보시면 Starter template 이라는 부분이 있는데 이 코드를 여러분의 HTML 파일에 전부 복사붙여넣기 하시면 설치가 완료됩니다.

(CDN 방식으로 빠르게 Bootstrap을 설치하는 방법입니다.)









Bootstrap으로 디자인넣기



버튼을 넣고 싶으면 아까 그 Bootstrap 홈페이지에서 button을 검색합니다.


![20220322_104449](/assets/20220322_104449.png)

그럼 버튼의 예제 코드가 등장하는데  여기 나오는 예제 코드만 복붙해주시면 버튼을 쉽게 만들어내실 수 있습니다.

폼, 메뉴 등 다른 UI도 같은 방식으로 만들어냅니다.

Bootstrap Grid 등의 더 자세한 사용방법은 HTML/CSS 강의를 참고합시다.

![20220322_104517](/assets/20220322_104517.png)

모달창 만들기



모달창은 위의 사진에서 볼 수 있는 팝업 비스무리한 느낌을 주는 UI를 말합니다.

이것도 예전에 만들었던 Alert 박스처럼 똑같이 만들어주시면 됩니다.

1. HTML/CSS로 미리 디자인해놓기

2. 평소엔 안보이게 숨기기

3. 버튼을 눌렀을 때 보여주기

이런 스텝을 거쳐 개발하시면 되겠죠?







참고) 모달창처럼 모든 요소를 투과하여 맨 앞에 존재하는 요소는

일단 HTML 자체는 <body>태그 바로 다음에 오는게 좋습니다.

그리고 요소를 붕 띄우기 위해서는 이런 스타일 속성을 사용합니다.


```
.box {`
  width : 100%;
  height : 100%;
  position : fixed;
  background : rgba(0,0,0,0.5);
  z-index : 5;
}
```

position : fixed 라는 속성을 이용하시면 브라우저 화면에 딱 달라붙는 요소를 만들어낼 수 있습니다. 그리고 z-index 등을 조정하시면 맨 앞에 붕 띄우기도 가능하지요.

z-index는 position 속성이 들어간 요소들에 쓸 수 있는 속성이며 값이 클 수록 맨 앞으로 가져옵니다. (= 워드나 피피티의 맨 앞으로보내기/뒤로보내기 기능)

--------


### toggle 함수들 : Nav 메뉴 만들기


jQuery에는 UI 개발을 위한 간편한 함수들이 있습니다.


```
$('어쩌구').hide();
$('어쩌구').show();
$('어쩌구').slideUp();
$('어쩌구').slideDown();
$('어쩌구').fadeOut();
$('어쩌구').fadeIn();
 ```

전부 요소를 숨기거나 보여주는 함수들인데

slide는 위에서부터 서서히 보여주는 역할이고

fade는 투명도를 점점 불투명하게 보여주는 역할을 합니다.

약간의 애니메이션이 첨가된 UI 개발이 매우 쉬워지는 함수들입니다.

싫으면 직접 자바스크립트로 짜면 됩니다.











이벤트 리스너가 간편해지는 jQuery 함수  


```
$('어쩌구').click(function(){
  //어쩌구를 클릭시 실행할 코드
});

$('어쩌구').on('click', function(){
  //어쩌구를 클릭시 실행할 코드
});
```
위의 두개 코드는 같은 기능을 하는 코드입니다.

지금까지는 .on 이라는 일반적인 함수를 사용해왔지만

클릭만 체크하는 이벤트리스너인 .click 이라는 함수도 있습니다.

click 함수는 on 함수보다 코드가 더 짧은게 장점이니

둘 중에 마음에 드는걸로 골라 사용하시면 되겠습니다.











UI를 보였다가 숨겨주는 jQuery toggle 함수들   


```
$('버튼').click(function(){
  $('서브메뉴').slideToggle();
});
```
.slideUp() .slideDown() 이라는 함수는 아까 배웠는데

이걸 조금 더 간편하게 쓸 수 있는 slideToggle() 이라는 함수가 있습니다.

이걸 부착하시면 버튼을 누를 때마다 한번씩 slideUp과 slideDown을 번갈아가며 적용시켜줍니다.

toggle 이라는 이름이 붙은 함수들은 '토글' 기능을 쉽게 개발할 수있게 도와줍니다.


```
$('서브메뉴').slideToggle();
$('서브메뉴').fadeToggle();
$('서브메뉴').toggle();
```
toggle 기능을 제공하는 함수는 이런 것들이 있습니다.

버튼을 누를 때마다 보임/안보임을 '토글' 해야하는 버튼을 만들고 싶을 때 이걸 적용해주시면 개발이 매우 편리해집니다.

쌩 자바스크립트로 구현하시려면 곧 배울 if 조건문으로 구현하면 됩니다.

-------

### if/else 조건문을 배워보자


자바스크립트엔 if 조건문이라는 문법이 있습니다.



이걸 왜 쓰는지 부터 알아보도록 합시다.

여러분 script 코드 내에 코드를 적으면 새로고침이 될 때 마다 항상 코드를 실행해줍니다.

하지만 항상 코드를 실행하는게 아니라 특정 조건을 충족시켰을 때만 코드를 실행하고 싶은 때가 어쩌다 한번 씩 있습니다.

그럴 때 쓸 수 있는 문법이 바로 if 조건문입니다.

알겠쥬?

if는 뭐 간지를 위해 쓰는 문법이 아니라 여러분이 조건이 맞을 때만 코드를 실행시키고 싶으면 쓰는 문법입니다.


```
if ( 3 > 1 ){
  console.log('안녕')
}
```
if 문법은 소괄호와 중괄호를 연달아서 써주시면 끝인데,

소괄호 안에는 (조건식)

중괄호 안에는 {조건식이 참일 때 실행할 코드}

를 적어주시면 됩니다.

그럼 위의 예제는 조건식이 참이니까 중괄호 {} 내의 코드를 실행시켜주겠죠?

참고로 console.log() 라는 함수는 브라우저에서 검사를 누르면 나오는 콘솔창내에 뭔가 텍스트 등을 출력시켜줘라~ 라는 기능을 하는 함수입니다.









그럼 조건식 안에는 뭐가 들어갈 수 있냐면



여러가지 부등호 기호들이 있습니다.  
```
<
<=
>
>=
==
===
```
등이 들어갈 수 있습니다.

우리가 뭔가 같은지를 비교하고 싶을 땐 둥호 두개 혹은 세개를 씁니다.

== 등호 두개는 느슨한 비교,

=== 등호 세개는 엄격한 비교입니다.

엄격한 비교는 데이터의 타입(숫자, 문자 등)이 같아야 참으로 판정해줍니다.

느슨한 비교는 데이터의 타입이 같지 않아도 지가 알아서 한쪽의 타입을 변환해준 다음에 검사해서 맞으면 참으로 판정해줍니다.

1 == '1'
1 === '1'
위의 코드는 숫자1과 문자1이라는걸 비교하고 있는데,

콘솔창에 그대로 때려박아보시면 참인지 거짓인지를 판정해줍니다.

느슨하게 비교하면 참이고

엄격하게 비교하면 거짓입니다.

데이터의 타입이 다르니까요. (숫자와 문자는 서로 다른 자료형입니다)













콘솔창에 조건식 때려박아보니까 true 라는 이상한게 나오는데요?



자바스크립트는 참과 거짓이라는 자료형이 있습니다. (실은 모든 프로그래밍 언어에 다 있음)

Boolean 이라고 부르는 자료형인데 종류는 두가지 뿐입니다.

true
false
이렇게 있습니다.

각각 참, 거짓을 표현하는 자료형이고

부등호 기호를 이용해 조건식을 사용하면 true/false라는 값이 그 자리에 샤라락 하고 남게 됩니다.

![20220322_110442](/assets/20220322_110442.png)

(▲ 콘솔창에 조건식을 직접 입력해보시면 이렇게 값이 남습니다)

그래서 if문 안에 조건식도 조건식을 사용하시면 그 자리에 true/false 값이 샤라락 남습니다.

(우리 눈에 보이지는 않고 그냥 자바스크립트가 그렇게 해석한다구욧)


```
if ( true ){
  console.log('안녕')
}
```
그래서인지 true라는 값을 if문 내에 직접 써넣으셔도 잘 실행됩니다.

if 조건식 안에 true가 들어가면 내부의 코드를 실행하며

if 조건식 안에 false가 들어가면 내부의 코드를 실행하지 않습니다.

실은 우리가 부등호기호를 이용해 조건식을 쓰는 이유도

조건식에게 true인지 false인지를 때려박기 위해 쓰는 겁니다.





참고로 알아둘만한게 있는데

false 뿐만 아니라 false류의 값들이 들어가면 코드를 실행하지 않습니다.
```
0
""
null
undefined
NaN
```
이런 값들도 if문 소괄호 안에서는 false로 판단합니다.

강의 중간에 해볼 5분 과제 : input에 '안녕'이라는 글자를 입력했을 때만 모달창이 오픈되게 만들어보자



지금 모달창은 버튼 누를 때마다 항상 모달창을 열어줍니다.

하지만 이번엔 임시 input 태그를 아무데나 하나 만들고

여기에 '안녕'이라는 글자가 입력되었을 때만 모달창이 열리게 코드를 짜보도록 합시다.

답은 강의 내에 있습니다.

(input에 입력한 값을 자바스크립트로 가져오는 방법은 검색이 필요할 수 있습니다)









프로그래밍 하는 법  



프로그래밍이라는건 그냥 여러분의 논리적인 생각을 코드로 표현하는 행위일 뿐입니다.

보통 오해하는 것들 중 하나가, 프로그래밍을 무슨 빵만드는 기술처럼 생각해서

"이런 레시피를 공부한 뒤에 나중에 똑같이 따라해야징~"

이런 마인드로 공부하려는 분들이 있습니다. 그럴 필요 없습니다.



프로그래밍은 레고 조립입니다.  

여러분 레고로 작은 집 같은거 만들 수 있죠?

굳이 레고로 집 만드는 법을 안배워도 내가 블럭을 위아래로 꽂는 방법만 알고 있으면 대충 다 만들 수 있습니다.

프로그래밍도 마찬가지로 논리력만 좋으면 다 구현할 수 있습니다.

이제 지금까지 배운 function, if, 이벤트 리스너라는 도구만 있으면 모든 UI를 다 만들어낼 수 있습니다.

이걸 만들 수 있을지 없을지는 여러분 논리력에 달렸습니다.



어떤 UI를 만들고 싶으시다면 그 UI의 동작방식을 한국어 등으로 한번 작성해봅니다.

제가 알려드린 function, if, 이벤트리스너 등을 이용해 그걸 코드로 바꿔보시면

그게 바로 프로그래밍입니다.


--------

### 폼개발로 배우는 else if, and, or 문법


오늘의 5분 숙제 : 폼을 전송할 때 이메일 input안의 값이 공백인 경우, 전송을 막는 기능을 추가해보세요!

- form은 모달창 내에 하나 만들어줍니다.

- 이메일 input이 공백이면 폼을 전송하지 말아야합니다.

- 이메일 input이 공백이 아니면 폼을 전송해야합니다.

- 전송이 되는지 여부는 새로고침/페이지 이동 여부로 알 수 있습니다.









모달창 내부 복붙용 form 코드
```
<form action="login.php">
  <div class="form-group">
    <input type="email" class="form-control" placeholder="Email" id="email">
  </div>
  <div class="form-group">
    <input type="password" class="form-control" placeholder="Password">
  </div>
  <button type="submit" class="btn btn-primary">전송</button>
</form>
```
(Bootstrap이 설치되어있어야합니다)











else if 조건문이라는게 있습니다.



조건을 연달아서 검사하고싶은 경우가 있습니다.

- 이 조건 맞니?

- 그럼 이 조건은?

컴퓨터에게 이렇게 계속 질문을 던지고 싶으면 else if 문을 사용하시면 됩니다.
```
if ( 1 == 3 ) {
  console.log('안녕')
} else if ( 1 == 2 ) {
  console.log('반가워')
} else {
  console.log('잘가')
}
```
이렇게 사용하실 수 있습니다.

위의 코드는

- 1이 3하고 같니?

- 1이 2하고 같니?

이렇게 차례로 물어보고있는 코드입니다.

조건을 저렇게 여러개를 검사시키고 싶을 때 사용하며

위에서부터 조건식을 하나하나 풀어본 다음 맞는 조건식이 있으면 내부의 코드를 실행시키고, 그 다음에 나오는 else 혹은 if문은 무시합니다.

이해하기 힘들면 그냥 else if 라는 단어를 "그게 아니면, 만약에" 라고 해석하시면 됩니다.  

몇가지 예시를 보도록 합시다.





Q1. 다음 코드는 콘솔창에 어떤 단어를 출력시킬까요?
```
if ( 1 > 3 ) {
  console.log('안녕')
} else if ( 1 < 2 ) {
  console.log('반가워')
} else {
  console.log('잘가')
}
```

정답
"반가워"

Q2. 다음 코드는 콘솔창에 어떤 단어를 출력시킬까요?
```
if ( 1 == 1 ) {
  console.log('안녕')
} else if ( 2 == 2 ) {
  console.log('반가워')
} else {
  console.log('잘가')
}
```

정답
"안녕"

-----

if 문을 저렇게 이어서 사용했을 때의 특징은

조건식이 여러개 맞아도 딱 하나만 실행된다는 겁니다.

자바스크립트는 if가 들어있는 코드를 위에서부터 하나하나 읽다가

참인 조건식을 발견하면 내부의 코드를 실행하며

그 뒤의 if문들은 실행하지 않고 넘어갑니다.









and, or 기호 배우기



이번엔 조건식 두개를 동시에 검사하고 싶을 때가 있습니다.

조건식1과 조건식2가 둘다 맞으면 이 코드를 실행해라~ 라고 명령을 줄 수가 있는데

그건 논리학에서 쓰는 and 기호를 이용하시면 됩니다.


```
if ( 1 == 1 && 2 == 2 ) {
  console.log('안녕')
}
```
&& 라는 기호는 조건식 두개를 연결할 때 사용하며

좌우에 있는 조건식이 둘다 true 일 때 전체를 true로 만들어줍니다.







Q3. 다음 코드는 콘솔창에 어떤 단어를 출력시킬까요?
```
if ( 1 == 1 && 2 == 3 ) {
  console.log('안녕')
}

```
아무것도 안출력해줍니다.

둘 중 하나가 false기 때문에 전체 조건식이 false가 되기 때문입니다.


둘 중 적어도 하나가 true면 전체를 true로 만들어줘라~ 라는

논리학에서의 or 기호도 사용할 수 있습니다.


```
if ( 1 == 1 || 2 == 2 ) {
  console.log('안녕')
}
```

|| 라는 기호는 역시 조건식 두개를 연결할 때 사용하며

좌우에 있는 조건식 둘 중 적어도 하나가 true 일 때 전체를 true로 만들어줍니다.



Q4. 다음 코드는 콘솔창에 어떤 단어를 출력시킬까요?

```
if ( 1 == 1 || 2 == 3 ) {
  console.log('안녕')
}
```

"안녕"

둘 중 하나가 true기 때문에 전체 조건식이 true가 되기 때문입니다.


form을 전송(submit)시킬 때 특정 코드를 실행시킬 수 있습니다.



우리 이벤트리스너 배울 때 click이라는 이벤트를 많이 사용했었는데

이번엔 form태그 등에서 사용하는 submit이라는 이벤트를 알아보도록 합시다.

별건 없고 그냥 폼이 전송될 때를 뜻하는 이벤트입니다.  


```
$('form태그').on('submit',function(){
  //실행할 코드
});
```
form태그를 찾아서 submit 이벤트리스너를 달아주면

"특정 form이 전송될 때 안의 코드를 실행해주세요~"

라고 명령을 줄 수 있습니다.

그럼 폼이 전송되기 직전에 코드를 실행할 수 있는데,

여기에서 사람들이 자주 사용하는 함수가 하나 있습니다.


```
$('form태그').on('submit',function(e){
  e.preventDefault();
});
```
on이라는 이벤트리스너의 두번째 파라미터인 function(){} 안에

e라는 파라미터를 하나 추가하신 다음에

e.preventDefault() 라고 사용하시면 폼의 전송을 막을 수 있습니다.

간편하죠? 이제 이걸 알았으니 숙제를 혼자 힘으로 해결하실 수 있을겁니다.

왜 전송이 막아지는 지는 이벤트에 관해 배울 때 자세히 알아보도록 합시다.


--------


### else if 활용 : 폼 전송시 공백체크 기능 만들기





(저번시간 숙제) 폼을 전송할 때, input이 공백인 경우 전송을 막아야합니다.



폼이 전송될 때 뭔가 코드를 실행시킬 수 있는 이벤트리스너가 하나 있습니다.


```
$('form').on('submit',function(e){
  //실행할 코드
});
```
이렇게 태그명이 form 이라는 요소가 전송될 때 코드를 실행시킬 수 있습니다.

그런데 이 때 이메일 입력란이 공백인 경우, 전송을 막아야합니다.  

이 코드는 어떻게 작성해야할까요?



직접 작성해본 후에 펼쳐보도록 합시다.

```
$('form').on('submit',function(e){
  if (이메일 input이 공백){
    전송을 막고 안내문을 띄워야함
  }
});
```
이렇게 코드를 작성하면 되지 않을까요?

한글로 써놓은 다음 그대로 코드로 번역만 하시면 됩니다.






```
$('form').on('submit',function(e){
  if ($('#email').val() == ''){
    e.preventDefault();
    $('#email-alert').show();
  }
});
```
번역결과는 이렇습니다.

$('#email') 이라는 요소안에 입력한 값이 공백과 같을 때~ 라는 문장은 저렇게 번역할 수 있습니다.

입력한 값을 .val()로 찾는걸 내가 어떻게 아냐고요?

셀렉터 뒤에 붙는 메소드는 기억하고 외워서 쓸 수 없습니다.

구글에 검색하시면 5초 안에 답변을 받으실 수 있습니다.

그리고 이걸 공백을 뜻하는 '' 따옴표 두개와 비교하시면 되겠습니다.

그리고 폼 전송을 막는 코드는 저번시간에 했던 e.preventDefault() 입니다.

(e. 어쩌구는 저거 function(){} 안에 파라미터를 추가해야 쓸 수 있다는거 꼭 기억해주세요)





그리고 $('#email-alert').show(); 이건 input 밑에 조그만한 안내문 UI 를 보여주는 코드인데 자세한 개발과정은 영상을 참고부탁드립니다.









email 입력란 뿐만 아니라 password 입력란도 동시에 공백인지 검사하고 싶다면?



아까 작성했던 코드에 뭔가 기능을 더 추가하면 되지 않을까요?

email 입력란 검사한 코드랑 아주 유사한 코드를 밑에 추가하면 되겠습니다.


```
$('form').on('submit',function(e){
  if (이메일 input이 공백){
    전송을 막고 안내문을 띄워야함
  }
  if (패스워드 input이 공백){
    전송을 막고 안내문을 띄워야함
  }
});
```
이메일이나 패스워드나 똑같이 검사하면 되죠뭐!

그런데 밑의 코드처럼 짜는건 어떨까요?


```
$('form').on('submit',function(e){
  if (이메일 input이 공백){
    전송을 막고 안내문을 띄워야함
  } else if (패스워드 input이 공백){
    전송을 막고 안내문을 띄워야함
  }
});
```
위위처럼 if문을 두개를 따로 쓰는 것과

else if 문으로 두개를 붙여 쓰는 것의 차이점은

- if 두개를 따로 쓰시면 if문이 각각 독립적으로 동작합니다.

- else if로 if문을 두개 붙여쓰시면 둘 중 하나만 동작합니다. (또는 조건식이 둘다 틀리면 둘다 실행 안할 수도 있겠죠)

그래서 둘 중에 뭐가 맞다 이런건 아니고 여러분이 마음에 드는 방향으로 개발하시면 되겠습니다.

프로그래밍에 항상 정답은 없습니다. 일로가든 절로가든 결국 목적지만 도착하면 되니까요.











input과 함께 많이 사용되는 change, input 이벤트



우리는 클릭을 체크하는 이벤트리스너를 자주 사용했었는데 그거 말고도 다른 이벤트들이 많습니다.  

input, select, textarea 등에 사용할 수 있는 change, input 이벤트가 있습니다.  


```
$('#email').on('input', function(e){
  실행할 코드
});
```
▲ input이라는 이벤트리스너를 달아주시면

이벤트리스너 왼쪽에 있는 $('#email') 요소 내부에 입력된 값이 바뀔 때마다 내부 코드를 실행해줍니다.


```
$('#email').on('change', function(e){
  실행할 코드
});
```
▲ change도 마찬가지입니다.

이벤트리스너 왼쪽에 있는 $('#email') 요소 내부에 입력된 값이 바뀔 때마다 내부 코드를 실행해줍니다.

하지만 change 이벤트는 $('#email') 요소에 포커스를 잃었을 때 (커서가 다른곳에 찍힐 때) 실행됩니다.

그래서 이런 이벤트들을 사용하시면 input에 입력중에 경고메세지를 띄우는 UI 등을 구현해볼 수 있겠네요.


------


### var let const 변수와 변수의 활용법

변수라는 문법이 있습니다.



변수는 자료를 잠깐 저장하기 위해 사용하는 문법입니다.


```
var 이름 = 'John';
var 나이 = 20;
```
변수라는 문법은 var이라는 키워드를 이용해서 만들어냅니다.

변수 오른쪽에는 여러분이 변수 이름을 지어주시면 되고 (한글 가능합니다)

등호를 이용해 원하는 값을 할당해주시면 됩니다.

그럼 방금 변수를 만드시고 자료를 저장하신겁니다.




```
var 이름 = 'John';
```
▲ 방금 'john' 이라는 글자를 '이름' 이라는 변수에 저장을 했는데,

그러면 여러분은 앞으로 이름 이라고 쓸 때마다 'John' 이라는 값이 그 자리에 남게됩니다.






```
var 이름 = 'John';

if (이름 == 'john'){
  console.log('맞는데요')
} else {
  console.log('틀렸는데요')
}
```
이런 것도 가능하겠군요.

그럼 콘솔창엔 뭐가 출력될까요?

틀렸는데요가 출력됩니다.

(대소문자가 다르잖아요 이사람아)


변수를 어디다 쓰냐면



긴 자료를 많이 사용할 일이 있으면.. 예를 들어



var 이름 = 'John Barbatos Mercer';
존 바바토스 머써라는 이렇게 긴 문자를 자주 쓰고 싶은데 매번 입력하기 귀찮으시면 변수에 저장해서 쓰시면 됩니다.


```
var 안내창 = document.getElementById('alert');
var 안내창 = $('#alert');

안내창.show();
```
셀렉터로 찾은 HTML 요소를 저장해놓을 때도 사용합니다.

저장해놓으면 뭐가 좋냐면..



1. $('#alert')라는걸 매번 해석하는게 아니라 이제는 안내창이라는 변수 이름을 해석하면 되니까 훨씬 직관적입니다.

2. 자바스크립트 실행속도가 빨라집니다. 빨라지는 이유는..



셀렉터를 쓰면 자바스크립트에게 명령을 내려 HTML을 탐색해서 원하는 요소를 찾습니다.

하지만 HTML을 탐색하는 작업은 매우 오래걸립니다. (있어보이는 말로 DOM 탐색이라고 합니다)

셀렉터를 변수에 담아놓고 계속 사용하면 다시 셀렉터로 HTML을 탐색하지 않아도 되니

자바스크립트 동작속도가 매우 빨라집니다.

예를 들면 :


```
$('#alert').show();
$('#alert').hide();
$('#alert').show();
$('#alert').hide();

vs

var 안내창 = $('#alert');
안내창.show();
안내창.hide();
안내창.show();
안내창.hide();
```
▲ 위와 밑의 코드를 비교했을 때 밑의 코드들이 훨씬 빠르게 동작합니다.

밑의 코드는 $() 셀렉터를 이용한 HTML (DOM)탐색을 1번만 하니까요.











변수의 선언, 할당



변수는 선언과 할당을 할 수 있다는걸 알고 계시면 됩니다.

변수 만들 때 var 이름 = 'john'; 이렇게 대충 쓰면 된다고만 배웠죠?

그런데 var 이름 = 'john'; 이 코드는 실은 두개의 파트로 이루어져있던 코드입니다.

이름이라는 변수를 만들겠다~ 라는 선언

이름이라는 변수에 'john'이라는 글자를 넣겠다~ 라는 할당

이렇게 두개의 파트로 분리가능합니다.




```
var 이름;
이름 = 'john';
```
▲ 그래서 아까 배웠던 코드를 두개로 분리해서 쓸 수도 있습니다.

첫줄은 선언부분, 둘째줄은 할당 부분입니다.



var이라는 키워드로 변수를 만들면 마음대로 재선언이 가능하고요

마음대로 재할당도 가능합니다.


```
var 이름;
이름 = 'john';
이름 = 'Tom';
```
▲ 셋째줄에서 이름이라는 변수에 들어가는 값을 Tom으로 바꿨습니다.

그럼 이제 앞으로 이름이라고 쓰면 Tom이라는 글자가 나오겠죠?











변수의 범위



변수를 만드시면 변수를 가져다 쓸 수 있는 범위라는게 존재합니다.

var 변수의 범위는 function 입니다.

function안에서 살고 죽는 변수라고 생각하시면 되겠습니다.


```
function 어쩌구() {
  어쩌구 코드들
  var 나이 = 20;
}

console.log(나이);
```
지금 함수 안에서 나이라는 변수를 만들어쓰고 있습니다.

나이라는 변수는 함수안에서 자유롭게 쓸 수 있지만

저렇게 함수 밖에서 출력해보면 없다고 나옵니다.

이제 코딩하실 때 함수 안에서 변수 만들어놓고 함수 바깥에서 변수 쓰려고 아둥바둥할 일이 없겠군요.

그럼 그 반대는 어떨까요?  




```
var 나이 = 20;

function 어쩌구() {
  console.log(나이);
}
```
지금 함수 바깥에서 나이라는 변수를 만들어쓰고 있습니다.

그럼 함수 안에서 나이라는 변수를 찾으면 있다고 나올까요 없다고 나올까요?

- 있다고 나옵니다.





왜냐면

자바스크립트에선 함수 밖에서 만든 변수는 함수 내에서도 자유롭게 사용가능합니다.

밖에 있는 변수를 자유롭게 참조할 수 있다는 것입니다.

그냥 그렇게 프로그래밍 되어있습니다. 외우시면 됩니다.



또한 저렇게 함수 바깥에서, script태그 안에서 만든 변수는 흔히말하는 "전역변수"라고 하는데

말그대로 모든 곳, 전역에서 쓸 수 있는 변수입니다.

왜냐면 방금 배운 "밖에서 만든 변수는 안쪽에서도 사용가능하다" 라는 팩트에 따르면

변수를 가장 바깥에서 만들면 모든 코드나 함수에서 항상 참조가 가능할테니까요. 그래서 전역에서 쓸 수 있다고 해서 전역변수라고 부릅니다.

그러니 앞으로 변수의 범위를 한번씩 생각해보며 코딩해보시길 바랍니다.













자바스크립트 신문법(ES6) : let과 const 변수



2015년, 자바스크립트 문법이 대규모 빅뱅 쇼킹 업데이트가 되었습니다.

이 문법을 ES6라고 칭합니다. (그래서 엣지 이상 최신 브라우저들만 ES6 문법을 해석할 수 있습니다)

ES6문법에서는 var 뿐만 아니라 let과 const라는 키워드로도 변수를 만들어낼 수 있습니다.

각각 변수의 범위, 재선언가능 여부, 재할당 가능 여부가 다릅니다.

![20220322_112312](/assets/20220322_112312.png)

이렇게 되어있습니다.

신문법에서는 일반적으로 let으로 변수를 많이 만들게 되며

변하지 않는 값을 저장하고 싶을 때 const로 변수를 만드시면 되겠습니다.

그리고 범위가 넓은 변수가 필요할 때는 var을 쓰고요.

하지만 꼭 써야하는 문법은 아니고 간단한 찌끄레기 UI들 만들 땐 그냥 var 하나로도 전부 가능합니다.









###### 변수의 Hoisting



자바스크립트는 변수 선언부분을 항상 위로 강제로 끌어올려서 해석하는 습성이 있습니다. (할당은 아니고요 선언만요)

함수 선언도 마찬가지로 코드 맨 위로 끌어올린 다음 해석을 합니다.

이걸 Hoisting이라고 부릅니다.

지금 기능 구현에 초점을 맞춘 초보 단계에선 그리 쓸모있는 내용이 아니라 여러분께 부담이 될 수 있으니

더 자세한 내용은 ES6강의나 개발자 면접 대비하실 때 한번 검색 ㄱㄱ 하는걸 추천드립니다.


--------
### 애니메이션 UI 1 : jQuery Animate 함수


jQuery에는 animate라는 함수가 있습니다.



animate는 특정 CSS 속성을 변경하기 위해서 사용하는 함수입니다.

그런데 변경을 아주 천천히 서서히 시켜주고 싶을 때 사용합니다.

예를 들면 이렇게 사용합니다.


```
$('.box').animate({ marginLeft : '100px' });
```
.box라는 요소에 margin-left를 100px 만큼 주는 코드입니다.

하지만 서서히 1초에 걸쳐서 줍니다.

이 함수를 이용해 여러가지 애니메이션이 들어간 UI를 만들 수 있습니다.







animate 함수 사용법


```
$('.box').animate({ marginLeft : '100px', marginTop : '90px' }, 1000);
```
animate함수의 첫번째 파라미터엔 {} 중괄호를 집어넣고

중괄호 안에는 애니메이션을 줄 CSS 속성들을 나열하시면 됩니다.

하지만 margin-left 같은 이름은 중간에 - 기호가 있는데 이걸 자바스크립트 상에선 쓸 수 없어서

- 기호를 없애고 대문자로 모든 단어들을 붙여서 적어주셔야합니다.

그리고 우측엔 문자형태로 '100px' 이런 값을 입력하시면 됩니다.

(참고로 { 어쩌구 : 저쩌구 } 이렇게 생긴걸 object 자료형이라고 합니다)

그리고 콤마로 여러개의 속성들을 집어넣을 수 있습니다.



마지막으로 두번째 파라미터엔 1000 이렇게 ms 단위의 시간을 집어넣을 수 있는데

애니메이션 동작 속도를 의미합니다.

1000이라고 작성하시면 1000ms 동안 애니메이션을 동작시키라는 의미입니다.


![20220322_112900](/assets/20220322_112900.png)

좌측에서 슬라이드하며 등장하는 메뉴 만들기



위 사진처럼 좌측에서 슬그머니 등장하는 메뉴를 만들어봅시다.

- 메뉴 보여주는 버튼을 누르면 (버튼 하나 만들어두세요)

- 안보였던 메뉴가 왼쪽에서부터 슬그머니 등장합니다.



를 코드로 작성하시면 되는데 아까 배웠던 animate 함수를 이용해보시면 되겠습니다.



일단 UI 만드는 법은 똑같습니다. 미리 HTML CSS로 디자인을 해놓은 뒤 숨깁니다.

그 다음에 버튼을 눌렀을 때 보여주기만 하시면 됩니다. 그런데 animate 함수를 이용해 서서히 보여주면 되겠죠?



메뉴 디자인부터 해보도록 합시다.
```
<div class="left-menu">
<p>Menu Title</p>
</div>
.left-menu {
  width : 150px;
  height : 100%;
  background : black;
  color : white;
  position : fixed;
  margin-left : -100px;
}
```

이 요소를 페이지 상단에 추가하면 되겠습니다.

그리고 클릭하면 메뉴를 보여줄 버튼도 페이지내에 하나 만드시면 되겠습니다.
```
<button id="show-menu">버튼</button>
```
그럼 이제 버튼을 눌렀을 때 margin-left를 서서히 0px로 변경시키면 되겠죠?

이건 자바스크립트로 어떻게 짜면될까요?


직접 짜본 뒤 펼처보도록 합시다.
```
$('#show-menu').click(function(){
  $('.left-menu').animate({ marginLeft : '0px' });
});
```
->#show-menu라는 버튼을 클릭시

.left-menu라는 요소의 margin-left 를 0으로 바꿔주는 코드입니다. 근데 서서히 바꿔줍니다.

끝!

-------

### 애니메이션 UI 2 : Slide Down 모달창 만들기 & 애니메이션 필수 팁


애니메이션 만드는 법을 배워 모달창 Slide Down 애니메이션을 만들어보자



애니메이션 UI 만드는 법은

1. HTML CSS로 시작화면과 최종화면 만들기

2. 자바스크립트로 최종화면으로 변하도록 트리거하기



이것만 기억해주시면 됩니다.

모달창 Slide Down 애니메이션의 경우 페이지 바깥 위에 있던 모달창이 밑으로 슉 내려와야하죠?

1. 그럼 일단 모달창의 시작화면과 최종화면을 제작해봅니다.

시작화면은 모달창을 페이지 바깥으로 슉 보내놓아야합니다.


```
.black-background {
  background: rgba(0,0,0,0.5);
  position: fixed;
  z-index: 5;
  width: 100%;
  height: 100%;
  display: none;
  margin-top : -1200px; /*시작화면*/
  margin-top : 0px; /*최종화면*/
}
```
margin-top을 0px로 변경하면 최종화면이 되겠네요.







2. 그 다음에 자바스크립트로 트리거를 주시면 됩니다.

모달창열기 버튼을 누르면 margin-top이 0px이 되게 만들어주시면 되겠죠?

그런데 서서히 변하게 하려면 animate 함수를 쓸 수 있겠네요.
```
$('#login').on('click', function(){
  $('.black-background').show();
  $('.black-background').animate({ marginTop : '0px' });
});

```

위의 코드를 해석해보면

-#login 버튼을 누르면

- 모달창이 일단 보입니다. (위에서 기본 CSS에 display : none을 줘놨기 때문에 display : block을 주어야 보이겠죠?)

- 그 다음에 margin-top이 0px이 되도록 animate 해줍니다.

끝!

jQuery 함수를 순서대로 동작시키고 싶은 경우



코드를 두줄 나란히 쓴다고 해서 이게 윗 코드가 먼저 실행된다는 보장이 없습니다.



$('.black-background').show();
$('.black-background').animate({ marginTop : '0px' });
이렇게 쓰면 show()를 먼저 해주고 animate()를 그 다음에 해줄 것 같죠?

대부분 맞지만 가끔 아닐 수도 있습니다. 경우에 따라서 둘 중에 더 빠른걸 먼저 실행시킬 수도 있습니다.

왜 그런지는 자바스크립트의 Event queue, Event loop, stack 이라는 개념을 따로 찾아보시면 되겠습니다.

그래서 jQuery에서 어떤 함수들을 꼭 차례차례 실행시키고 싶은 경우엔 여러가지 방법이 있는데

가장 쉬운 방법은 이렇게 입니다.




```
$('.black-background').show().animate({ marginTop : '0px' });
```
이렇게 쓰면 show()를 먼저 해주고 animate()를 그 다음에 해줍니다.

그런데 같은 요소가 아니라

1. 이 요소를 animate 해주신 다음에

2. 저 요소를 animate 해주세요

이렇게 각각 다른 요소를 차례로 animate 해주고 싶다면
```
$('이 요소').animate({ width: '250px'}, 1000, function() {
  $('저 요소').animate({ height : '500px'}  });
});
```
이런 식으로 사용할 수 있습니다.

animate 함수의 세번째 파라미터로 function(){} 를 집어넣으신 다음

중괄호 안에 여러분이 첫 animate가 끝났을 때 실행할 코드를 적어주시면 됩니다.

(전에 배웠던 콜백함수는 이렇게 뭔가 순차적으로 실행시킬 때 많이 사용합니다.)











애니메이션을 프로처럼 개발하려면 1. animate() 말고 CSS transition을 쓰자



강의 5~6분쯤에 animate함수보다 CSS속성인 transition을 이용한 애니메이션이 더 좋다고 설명하고 있습니다.

일단 transition 속성 이용하는 법은
```
.box {
  margin-top : 100px;
  transition : all 1s;
}
```
이렇게 class안에 transition 속성을 넣어주시면 끝입니다.

그러면 .box라는 요소가 모든 CSS속성(all)이 변할 때 1초에 걸쳐서 스무스하게 변경해줍니다.

자바스크립트 등으로 .box의 margin-top을 0px로 변경시키면 스무스하게 1초에 걸쳐서 변경된다는 소리죠.

여러분은 이걸 이용해서 애니메이션을 만드셔야합니다.





그 이유는 몇개가 있습니다.

1. transition은 자바스크립트와 독립적으로 동작합니다.

jQuery로 애니메이션을 주게 되면 매우 느리고 천천히 동작합니다.

여러분 컴퓨터가 좋아서 빠르게 동작하는 것 같아 보이는 것이지 애니메이션이 조금만 복잡하거나 많으면 금방 버벅입니다.

특히 브라우저에서 자바스크립트로 힘든 일을 시키고 있는데 여기다가 또 애니메이션까지 돌리라고 명령을 주면

100% 확률로 프레임 저하가 일어납니다.

특히 여러분이 자바스크립트로 많은 일을 해야하는 SPA 같은 사이트를 만든다면 애니메이션 자바스크립트로 넣으면 안됩니다.

그러니 자바스크립트가 할 일이 많아도 빠르게 동작하는 transition을 씁시다.

(혹은 애니메이션 전용 라이브러리 velocity.js 등을 따로 설치해서 쓰시면 실행 속도 걱정은 해결됩니다.)





2. transition 쓰는게 훨씬 더 쉽습니다.

한줄만 추가하면 애니메이션이 완성되는데 animate() 어쩌구보다는 훨씬 쉽죠?

그리고 커스터마이징도 쉽습니다.

애니메이션 동작 속도같은걸 선형이아니라 커브를 주고 싶으면 관련된 CSS 속성만 찾아넣으면 됩니다.











애니메이션을 프로처럼 개발하려면 2. margin 말고 transform 속성을 쓰자



margin, width, height, top, left, bottom, right

이런 CSS 속성들은 페이지 레이아웃을 변경하는 속성입니다.

브라우저는 레이아웃을 변경하면 렌더링시간이 매우 오래걸립니다.



transform, opacity

이런 CSS 속성들은 페이지 레이아웃과 상관없는 쩌리 속성들입니다.

브라우저는 쩌리 속성을 변경하는건 일도 아닙니다. 매우 빠르게 처리해줍니다.

그래서 스무스하게 동작하는 애니메이션을 만들고 싶다면 margin 이런거 쓰지 말고 transform을 쓰시기 바랍니다.
```
transform : translateX(100px);
transform : rotate(30deg);
transform : scale(2);
```
여러가지 세부속성들 덕분에 이동도 가능하고 회전도 가능하고 사이즈 조절도 가능합니다.

(왜 속도가 빠른지 궁금하면 '브라우저의 css 렌더링 단계'라는걸 공부해보시면 되겠습니다.)













애니메이션을 프로처럼 개발하려면 3. 최종화면으로 변하는건 class를 붙이는 방식으로 개발하자



최종화면으로 바꿀 때 css() 함수를 붙여썼습니다.


```
$(어쩌구).css('margin-top', '50px')
```
jQuery의 css() 함수는 이제 지양하도록 합시다. 간단한 속성 하나 바꿀 땐 매우 유용하지만 여러개 CSS 바꾸고 싶으면 코드가 길어져서 보기 싫겠죠.

그러니 애니메이션 같은 거 개발할 땐 장기적으로 안쓰는게 좋습니다.



addClass() removeClass() 함수를 이용해서 미리 만들어놓은 CSS 클래스명을 붙여서 최종화면으로 변하게 만드는게 좋습니다.

그런 방식으로 개발하시는걸 권장드립니다.

클래스로 짜놓으면 깔끔하고 수정도 쉽고 나중에 비슷한 애니메이션으로 재활용도 쉬워집니다.

--------

### 정규식으로 이메일 형식 검증해보기


오늘의 5분 숙제 :

1. 나름 제대로된 이메일형식 정규식 찾아보기

2. 폼 전송시 패스워드란에 영어대문자가 없으면 폼 전송을 막는 코드 추가하기  

3. 폼 전송시 이메일input의 이메일형식 검사와 공백검사를 동시에 해보기  











정규식은 문자를 검사하고 싶을 때 사용하는 식입니다.



어떤 문자에 'abc'라는 단어가 들어가있나요? 라고 물어보고 싶을 때 쓰시면 됩니다.

자바스크립트로 정규식을 어떻게 표현하냐면 이렇게 슬래시 기호로 표현합니다.

/abc/
이게 끝입니다.

그러면 이제 abc라는 단어가 있냐~? 라고 물어볼 준비가 된겁니다.



그럼 abcdef라는 문자에 abc라는 단어가 있는지 검사해보도록 합시다.

/abc/.test('abcdef')
이렇게 사용하시면 끝입니다.

그대로 콘솔창에 결과를 출력해보시면 true 아니면 false라는 값이 뿅하고 남습니다.

.test라는 함수는 정규식에 붙일 수 있는 함수인데, 파라미터로 정규식으로 테스트해볼 글자를 넣어주시면 되겠습니다.











몇개만 배워보는 정규식 문법



정규식 문법은 너무 많아서 외워서 쓰기도 힘들고 외울 필요도 없습니다. (데이터 마이닝하는 사람이 아니라면)

몇개만 알아보도록 합시다.



/t/
이렇게 글자를 그대로 때려박으시면 t라는 글자가 있는지 없는지 물어보실 수 있습니다.



/[A-D]/
/[가-하]/
대괄호와 대쉬 기호를 사용하시면 A부터 D까지의 글자가 있는지 물어보실 수 있습니다. 한글도 가능합니다.



/\S/
역슬래시(또는 원화기호)와 S라는 글자를 붙여주시면 모든 문자를 뜻합니다. (특수기호 포함)



/\S+/
+ 기호를 붙여주시면 뒤에 오는 글자들도 \S와 일치하면 함께 찾아달라는 뜻입니다.

(원래 [A-D] 또는 \S 이렇게만 쓰시면 딱 한글자만 찾아줍니다.)



/\S+t/
이건 그럼 뭘까요. 모든 문자 여러개 다음에 t라는 글자가 있냐를 검사해주는 정규식입니다.











간단히 작성해보는 이메일 정규식



이메일은 어쩌구@어쩌구.어쩌구 이렇게 되어야합니다.

모든 문자 사이에 @ 그리고 .이라는 특수문자가 와야합니다.



/\S+@\S+\.\S+/
이렇게 쓰면 되겠습니다.

\. 이라는 기호는 왜 이렇게 썼냐면 마침표는 정규식에서 특수한 문법이기 때문에

문법을 쓰는게 아니라 진짜 마침표를 찾아달라라는 의미로 쓰려면 역슬래시를 앞에 붙이셔야합니다. (escape기호)













그럼 폼전송시 이메일 형식 검증은 어떻게 할까여



공백검사랑 별 차이가 없습니다.

저번 강좌에서 공백검사 부분을 작성했는데 공백검사 부분 대신에  

이메일 정규식과 부합하는지 검사를 해주시면 되겠죠?


```
$('form').on('submit',function(e){

  var 입력한이메일 = $('#email').val();
  if ( /\S+@\S+\.\S+/.test(입력한이메일) == false ){
    e.preventDefault();
  }

});
```
예전 코드를 살짝 업그레이드했습니다. 해석해보자면

- form 전송시

- 이메일 input에 입력된 값은 '입력한이메일' 이라는 변수에 저장합니다.

- 그리고 만약에, 이메일 정규식과 '입력한이메일' 변수를 테스트했을 때 결과가 false가 나오면

- 폼 전송을 막습니다.





그냥 예전 코드랑 별 차이없습니다. 조건식 내부 코드 한줄만 변경했습니다.

----------


### 정규식 숙제 : 비밀번호 검증하기

프로그래밍 문제들 특징이 뭐냐면

숙제 안풀린다고 답변보고 이해하려하면 더욱 이해가 되지 않습니다.

남이 써놓은 코드 읽는게 세상에서 제일 어려우니까요.

여러분이 논리를 바탕으로 직접 조금이라도 작성해본 다음에 답안을 읽어보는게 훨씬 이해가 빠릅니다.  













숙제1. 이메일 정규식은 이런 것들이 있습니다.


```
/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\.,;\s@\"]+\.{0,1})+([^<>()\.,;:\s@\"]{2,}|[\d\.]+))$/
위의
```

정규식은 특수문자만 걸러주고 한글 등 다양한 문자들도 다 통과시키는 이메일 정규식입니다.

요즘 개발 메타는.. "프론트엔드에서 이메일 형식을 너무 빡세게 검증하지 말자"입니다.



예전엔 그냥 영어 글자가 있는지 없는지만 체크하면 되었는데

지금은 한국어@한국도메인.com 같은 다국어 이메일 주소들이 마구마구 생겨나기 시작했고

이메일 아이디란에 마침표, 대시 등 특수문자를 허용하는 곳도 많아졌기 때문에

항상 여러가지 이메일로 테스트를 해보시는게 중요합니다.







숙제2. 패스워드에 대문자가 있는지 검사하기



똑같이 정규식을 사용하면 되겠습니다.

직접 작성해본 후에 펼쳐보도록 합시다.
```
var 입력한패스워드 = $('#psw').val();

if ( /[A-Z]+/.test(입력한패스워드) == false ){
  e.preventDefault();
}
```
해석을 하자면

- 입력한 패스워드라는 변수에 사용자가 패스워드 input에 입력한 값을 가져옵니다.

- 만약에 모든 대문자라는 정규식과 입력한패스워드 변수를 test해서 false가 나오면

- 폼전송을 막아주세요

라고 작성한겁니다.






숙제3. 이메일 형식 검사와 공백검사를 동시에?



기존에 있던 이메일형식 검사하는 if문을 업그레이드하면 되겠죠?

직접 작성해본 후에 펼쳐보도록 합시다.

```
var 입력한이메일 = $('#email').val();
if ( /\S+@\S+\.\S+/.test(입력한이메일) == false ){
   e.preventDefault();
} else if ( 입력한이메일 == '' ) {
  e.preventDefault();
}
```
입니다.

남의 코드를 읽고 해독하는건 매우 어려운 일이니

한글로 다시 번역해보겠습니다.




```
if 지금 이메일 input에 입력한 값이 이메일 정규식과 다를 경우
  폼전송막기

else if 이메일 input에 입력한 값이 빈칸인 경우
  폼전송막기
  ```
이렇게 작성했습니다.

if문 두개를 이렇게 연결해서 쓰시면 조건문 두개를 차례차례 검사할 수 있습니다.

-----




### Carousel (이미지 슬라이드) 직접만들기 1 : UI와 버튼기능



오늘의 60분 숙제 : Next 버튼을 만들어보세요!

- Next 버튼을 누르면 다음사진이 슬라이드되며 보여야합니다.

지금 사진1을 보고 있다면 다음 버튼을 누르면 사진2가 보여야합니다.

지금 사진2를 보고 있다면 다음 버튼을 누르면 사진3이 보여야합니다.

- 프로그래밍 초심자라면 어려울 수 있기 때문에 힌트를 하나 드리자면...

그럼 변수를 하나 만들어서 지금 몇번째 사진을 보고있는지를 저장해서 어찌저찌 해보는건 어떨까요?

는 하나의 제안일 뿐이고 답안은 여러가지가 존재할 수 있습니다. 구현만 잘 되면 모두 정답입니다.











Carousel 화면부터 만들어봅시다.

![20220322_120414](/assets/20220322_120414.png)

Carousel은 보통 슬라이더 이런 식으로 부르기도 하는데

이미지를 슬라이드 애니메이션으로 여러개 보여주고 싶을 때 쓰는 UI를 뜻합니다.

어려워보이는 UI 만들 때 "와 미친 이걸 어떻게 직접 만들지" 고민을 할 필요는 없습니다. 우리 UI 많이 만들어봤잖아요.  

일단 다짜고짜 HTML부터 만드시면 됩니다. 그 다음에 자바스크립트로 버튼 기능을 추가하면 끝입니다.

![20220322_120449](/assets/20220322_120449.png)

▲ 일단 사진들을 이렇게 가로로 배치하면 이미지를 슬라이드시킬 수 있지 않을까요?

그래서 HTML은 이렇게 짰습니다.


```
<div style="overflow: hidden">
  <div class="slide-container">
    <div class="slide-box">
      <img src="img/shirt1.jpg">
    </div>
    <div class="slide-box">
      <img src="img/shirt2.jpg">
    </div>
    <div class="slide-box">
      <img src="img/shirt3.jpg">
     </div>
   </div>
 </div>

<button class="slide-1">1</button>
<button class="slide-2">2</button>
<button class="slide-3">3</button>
```
CSS는 이렇게 짰습니다.
```
.slide-box {
  width: 100vw;
  float: left;
}
.slide-container {
  width: 300vw;
}
.slide-box img {
  width: 100%;
}
 ```

박스 세개를 만들고 이걸 float 속성을 사용해 가로로 배치했을 뿐입니다.

참고로 vw라는 단위는 현재 브라우저 화면폭의 몇%를 차지할것이냐라는 단위입니다.

일반 퍼센트단위보다 호환성은 안좋을 수 있으나 편리합니다.

퍼센트 단위 쓰셔도 무방합니다.





(참고) 이미지를 배경형태로 넣는 방법도 자주 사용합니다.

<img> 대신 <div> 3개를 넣고 그 div들에 각각 background-image : url() 을 주면 되겠군요.











##### Carousel 버튼 기능 만들기  



이전 강의에서 UI만드는 법을 다뤘었습니다.

1. 시작화면 만들기

2. 최종화면 만들기

3. 자바스크립트로 최종화면으로 변경하는 트리거 만들기

4. 애니메이션 추가





이걸 참고해서 두번째 버튼의 기능을 한번 만들어보도록 합시다.

버튼2를 누르면 두번째 사진으로 슉 슬라이드 되어야합니다.





그럼 버튼2를 누른 후 변하는 최종화면부터 생각해봅시다.

아까 위에서 만들었던건 시작화면이고.. 그럼 버튼2를 누른 후 최종화면은 어떻게 만들면 될까요?

(어떤 CSS 속성을 추가하면 되겠죠?)


직접 짜본 후에 펼쳐보도록 합시다.

```
.slide-container {
  transform : translateX(-100vw);
}
```
이런 CSS속성을 추가하면 최종화면이 될 것 같습니다.

사진들을 싸매는 큰 박스에다가 X축으로 -100vw 만큼 이동하는 transform 속성을 추가합니다.

그러면 두번째 사진이 보이겠네요.

이제 최종화면을 자바스크립트로 트리거하면 되겠죠?

버튼2를 눌렀을 때 위와같은 CSS 속성이 추가되게 만들려면 어떻게 자바스크립트 코드를 짜면 될까요?

직접 짜본 후에 펼쳐보도록 합시다.
```
$('.slide-2').click(function(){
  $('.slide-container').css('transform','translateX(-100vw)');
});
```
.slide-2라는 버튼을 누를 때 박스를 왼쪽으로 슉 보내주는 자바스크립트입니다.

이전 강의들에서 다 했던 내용이기 때문에 설명은 생략하겠습니다.






그럼 마지막으로 애니메이션 추가는 어떻게하냐면 CSS transition 속성을 쓰면 좋다고 저번시간에 배웠기 때문에

transition을 사용해서 애니메이션이 동작하도록 만들어봅시다.

(CSS파일을 수정하면 되겠죠?)

직접 짜본 후에 펼쳐보도록 합시다.
```
.slide-container {
  transition : transform 1s;
  transform : translateX(-100vw);
}
```
이런 CSS속성을 추가하면 transform이 변할 때 1초에 걸쳐서 서서히 변경시킵니다.

이제 버튼2를 누르면 정상적으로 사진이 왼쪽으로 슝 슬라이드됩니다. 성공!




이제 나머지 버튼1,3도 여러분이 혼자 기능개발하실 수 있겠죠?


------

### Carousel (이미지 슬라이드) 직접만들기 2 : Next 버튼 만들기


오늘의 10분 숙제 : Before 버튼과 기능을 만들어보세요! (답안은 하단에)

- Before 버튼을 누르면 이전 사진으로 슈욱 슬라이드되어야합니다.

- 당연히 사진1에선 Before 버튼이 동작하면 안됩니다.











숙제풀이 : Next 버튼 디자인부터 해보자



Next 버튼은 사진 위에 떠있어야합니다. (보통 그렇지않나요)

그럼 띄우는 HTML과 CSS를 잘 작성해보시면 되겠죠?

보통 어떤 요소를 붕 띄워서 다른 요소와 겹치게 만들고싶다면 position : absolute 속성을 이용합니다.
```
<div style="overflow: hidden; position: relative">
  <div class="slide-container">
     ... 박스 3개있던 자리
  </div>
  <button class="slide-next">Next</button>
</div>
```
이 위치에 버튼을 추가하시면 버튼을 이미지들 위에 붕 띄울 수 있을 것 같습니다.

그럼 이제 버튼에 스타일을 주면 되겠습니다.
```
.slide-next {
  position: absolute;
  top: 45%;
  right: 0;
}
```
position : absolute 를 이용해 띄워줍니다.

(그 전에 위의 HTML 처럼 부모 요소에 position : relative를 주어야겠죠?)

나머지 버튼 세부 디자인은 여러분이 해보시길 바랍니다.


##### Next 버튼의 기능을 개발해보자



프로그래밍은 어려운게 아닙니다.

그냥 한국어로 설명만 잘할 수 있으면 됩니다. 그걸 자바스크립트로 번역만 하면 되니까요.  

그럼 Next 버튼을 눌렀을 때 어떤기능이 동작해야하는지 한글로 설명부터 합시다.

직접해보신 다음 답을 펼쳐보도록 합시다.
Next 버튼을 누르면..
만약에 지금 사진1을 보고있으면 사진2를 보여주시고
만약에 지금 사진2를 보고있으면 사진3을 보여주세요..
요게 끝인거같은데요. 자바스크립트로 번역만하면 코딩 끝입니다.

번역을 해보도록 합시다.




```
$('.slide-next').click(function() {

    if (지금보이는 사진이 1 이면) {
      $('.slide-container').css('transform', 'translateX(-100vw)');
    } else if (지금보이는 사진이 2 면) {
      $('.slide-container').css('transform', 'translateX(-200vw)');
    }

});
```
.slide-next라는 버튼을 눌렀을 때, 아까 위에서 한국어로 설명한 기능을 적었습니다.

사진2를 보여주고 3을 보여주는 코드는 바로 이전 강의에서 했기 때문에 설명을 패스합니다.

이제 if 소괄호 내의 조건식을 잘 입력해주시면 되겠죠?







하지만 문제가 생깁니다. 지금 보이는 사진이 1이란걸 어떻게 표현할 수 있죠?

이건 변수라는 문법을 이용하시면 해결가능합니다.

변수는 자료를 저장하는 공간이라고 배웠는데...

그럼 변수에다가 지금 보고있는 사진이라는 값을 저장해서 쓰면 어떻게될까여?

var 지금보이는사진 = 1;
이렇게 지금 몇번째 사진을 보고있는지 번호를 저장해놓을 수도 있겠죠?

저장해놓으면 이제 다른 곳에서 간편하게 이 숫자를 참고해서 개발할 수 있겠죠?
```
$('.slide-next').click(function() {

    if ( 지금보이는사진 == 1 ) {
      $('.slide-container').css('transform', 'translateX(-100vw)');
    } else if ( 지금보이는사진 == 2 ) {
      $('.slide-container').css('transform', 'translateX(-200vw)');
    }

});
```
그래서 지금 변수가 나타내는 값이 1이면 사진2를 보여주고..

지금 변수가 나타내는 값이 2면 사진3을 보여주고.. 이런 식으로 나머지 코드도 자바스크립트로 번역해보았습니다.

여기까지하면 사진1을 보고있을 때 처음 Next 버튼을 눌렀을 때 잘 동작합니다.

그런데 사진2를 보고있을 때 Next 버튼을 누르면 동작하지 않습니다.

왜냐면 위의 기능에서 나사가 하나 빠진 것 같습니다.




```
$('.slide-next').click(function() {

    if ( 지금보이는사진 == 1 ) {
      $('.slide-container').css('transform', 'translateX(-100vw)');
      지금보이는사진 = 2;  (← 이거추가)
    } else if ( 지금보이는사진 == 2 ) {
      $('.slide-container').css('transform', 'translateX(-200vw)');
      지금보이는사진 = 3;  (← 이거추가)
    }

});
```
if (지금보이는사진이 1일 때) 실행해야할 기능은 두가지가 있습니다.

1. 사진2를 보여주는것

2. 사진2를 보고있다고 업데이트하는 것 (변수)

(그쵸? 변수가 지금 몇번째 사진보고있는지 저장하는 역할이라매요)

그래서 변수를 업데이트했습니다.

혹은 이렇게도 표현가능합니다.





참고 :
```
지금보이는사진 = 지금보이는사진 + 1;
```
지금 있는 변수의 값에 1을 더하는 코드는 이렇게도 작성 가능합니다.





----




###### 확장성이 뛰어난 코드로 바꿔보자



이렇게 코드를 짜면 잘 동작하긴 하는데

사진이 4개 5개로 늘어나면 그때마다 if문을 추가해야되니 번거롭겠죠?

그래서 if문을 이용하지 말고 한번 다시 개발해보도록 합시다.



힌트 : 잘 보시면 패턴이 하나 있습니다.

지금보이는사진이라는 변수가 1이면 박스를 -100vw 만큼 움직이게 만드시면 되고

지금보이는사진이라는 변수가 2면 박스를 -200vw 만큼 움직이게 만드시면 됩니다.

직접해보신 다음 답을 펼쳐보도록 합시다.
지금보이는사진이라는 변수가 1이면 박스를 -100vw 만큼 움직이게 만드시면 되고

지금보이는사진이라는 변수가 2면 박스를 -200vw 만큼 움직이게 만드시면 됩니다.

그럼 애초에 박스를 '-지금보이는사진00vw' 만큼 움직이게 만드시면 되지않을까요?

이것도 자바스크립트로 구현이 가능합니다.

자바스크립트에선 글자 중간에 변수를 넣고 싶으면 이렇게 코드를 작성할 수 있습니다.

```
var age = 20;
console.log( '저는' + age + '살 입니다');
```
'저는' 이라는 글자와 '살입니다' 라는 글자 사이에 변수를 저렇게 덧셈기호를 이용해 넣을 수 있습니다.


```
$('.slide-next').click(function() {

  $('.slide-container').css('transform', 'translateX(-' + 지금보이는사진 + '00vw)');
  지금보이는사진 = 지금보이는사진 + 1;

});
```
이렇게 집어넣으시면 되겠습니다.



하지만 이렇게 적으면 Next 버튼을 누를 때마다 지금보이는사진이라는 변수가 계속 1이 증가합니다.

버튼을 100번누르면 큰일날 것 같죠?

그래서 변수에 1을 더하는 행위에 제한을 두는게 좋을 것 같습니다.


```
$('.slide-next').click(function() {
  if ( 지금보이는사진 < 3 ) {
    $('.slide-container').css('transform', 'translateX(-' + 지금보이는사진 + '00vw)');
    지금보이는사진 = 지금보이는사진 + 1;
  }
});
```
지금보이는 사진이 3보다 커지지않게 작성했습니다. 사진이 3개밖에 없으니까요.




Before 버튼을 만들려면?



누르면 이전 사진을 보여주는 버튼도 직접한번 만들어보시면 되겠습니다.

Next 버튼과 유사할테니 알아서 해봅시다.

직접 만들어본 다음 답을 펼쳐보도록 합시다.



```
$(Before버튼).click(function() {
    if ( 지금보이는사진 > 1 ) {
      $('.slide-container').css('transform', 'translateX(-' + (지금보이는사진 - 2) + '00vw)');  
      지금보이는사진 = 지금보이는사진 - 1;
    }
});
```
저는 이렇게 개발했습니다.

왜냐면 일단 한글로 기능을 설명부터 해봤는데

- Before 버튼을 누르면...

- 지금 사진3을 보고있으면 -100vw 해야함

- 지금 사진2를 보고있으면 -0vw 해야함

이렇게 기능을 설명해본 후 그대로 자바스크립트로 옮겼을 뿐입니다.

그리고 사진1일 때는 기능이 동작하지 않도록 if문을 추가했습니다.



코드 짜는 법 보다 Carousel 만드는 법을 외워가시면 나중가서는 Carousel 밖에 못만듭니다.

모범답안만 따라하려 하지말고 직접 한국어로 표현해본 후에 자바스크립트로 옮기는 연습 많이 해보십시오.

이런 연습 많이 해보시면 나중에 새로운 기능도 직접 개발할 수 있는 훌륭한 사람이 됩니다.







오늘의 응용사항 :

- 지금 코드는 확장성이 없군요. 사진이 4개, 5개일 때도 잘 동작하도록 코드짜려면 어떻게 해야할까요?




 ------------


 ### 스크롤 애니메이션 1 : 스크롤시 변하는 Navbar 만들기



 오늘의 10분 숙제 1: 스크롤시 로고 폰트사이즈가 서서히 작아지게 만들어보세요!

 - 기본 시작화면의 폰트사이즈를 약간 키우고 시작하는게 좋을 것 같습니다.  

 오늘의 10분 숙제 2: 스크롤을 다시 올리면 원래 시작화면 디자인으로 돌아오게 만들어보세요!

 - 스크롤바를 올리면 배경이 투명해지고 로고 폰트사이즈가 원래대로 커져야합니다.

 ![20220322_123006](/assets/20220322_123006.png)

 ▲ 오늘 따라서 만들어볼 Navbar 애니메이션 (https://blackrockdigital.github.io/startbootstrap-agency/)

애니메이션이나 UI 만들 때 어떻게 만드는지 고민할 필요없이 이거 Step만 기억해주시면 됩니다.

1. 시작화면 / 최종화면 만들기

2. 자바스크립트로 최종화면으로 변하는 트리거 만들기

3. 필요하면 애니메이션주기









일단 시작화면부터 만들기



원래 있던 Navbar를 투명하게, 그리고 상단고정되게 만들어봅시다.
```
.nav-menu {
  position : fixed;
  z-index : 5;
  width : 100%;
  background : transparent;
  color : white;
}
```
기존 navbar에 이런 CSS 속성을 추가해주시면 성공입니다.









그럼 최종화면도 만들어보기



그냥 배경이 흰색이 되도록 바꾸면 최종화면이죠?

그리고 글자색도 검은색으로 바꿔주면 좋을 것 같습니다.  
```
.nav-menu {
  background : white;
  color : black;
}
```
CSS를 이렇게 수정하면 되겠죠?

그런데 클래스를 하나 더 만들어서 붙이는 방식이 좋다고 했으므로
```
.nav-black {
  background : white;
  color : black;
}
```
새로운 클래스를 하나 만들어서 부착하도록 합시다.

언제 부착하냐면.. 스크롤을 내렸을 때 부착하면 되겠죠?











자바스크립트로 최종화면으로 변하도록 명령주기



이번엔 스크롤을 내렸을 때 최종화면으로 변해야합니다.

이건 jQuery를 쓰시면 이렇게 쉽게 구현가능합니다.


```
$(window).on('scroll',function(){
  $('.nav-menu').addClass('nav-black');
});
```
새로나온 내용을 정리하자면

- $(window)라는건 viewport 입니다. (지금 보이는 브라우저 화면을 뜻함)

- on('scroll', function(){}) 은 스크롤이 되었을 때 내부 코드를 실행해주는 이벤트리스너입니다.



끝입니다. 그래서 위처럼 코드를 작성하면 스크롤을 내렸을 때 우리가 만들어놨던 최종화면 CSS 클래스를 부착해주죠?

그런데 스크롤바를 내리자마자 동작하는게 아니꼽습니다.

스크롤바를 한 100px 넘게 내렸을 때만 동작하도록 코드를 수정해봅시다.











스크롤바를 얼마나 내렸는지 체크하는 함수



jQuery에선 매우 간편하게 스크롤 높이를 체크가능한데


```
$(window).scrollTop()
```
scrollTop() 이라는 함수를 쓰시면 현재 왼쪽에 있는 요소가 위에서부터 몇 px 스크롤 되었는지 알려줍니다.

지금 위의 예제 코드는 window라고 썼으니 viewport가 몇 px 스크롤되었는지 알려주겠죠?

의심가시면 콘솔창에 저걸 출력해보시면 됩니다.







그럼 아까 스크롤바를 100px 이상 내렸을 때 아까 그 애니메이션이 동작하게 만들려면 어떻게 코드를 짜면 될까요?


직접 짜본 뒤에 펼쳐봅시다.

```
$(window).on('scroll',function(){
  만약에 지금 위에서부터 100px 이상 스크롤했을 때
  요거 실행 -> $('.nav-menu').addClass('nav-black');
});
```
이렇게 짜면 되지 않을까요?

어디서 많이본 if문을 사용하면 되겠습니다.


```
$(window).on('scroll',function(){
  if ( $(window).scrollTop() > 100 ) {
    $('.nav-menu').addClass('nav-black');
  }
});
```


그리고 마지막으로 transition 속성을 nav-menu에 사용하시면 애니메이션을 줄 수 있겠습니다.

개발 끝!


----------


### 스크롤 애니메이션 2 : 스크롤시 변하는 Navbar 숙제

저번강의 숙제 1: 스크롤시 로고 폰트사이즈가 서서히 작아지게 만들어보세요!

- 기본 시작화면의 폰트사이즈를 약간 키우고 시작하는게 좋을 것 같습니다.



저번강의 숙제 2: 스크롤을 다시 올리면 원래 시작화면 디자인으로 돌아오게 만들어보세요!

- 스크롤바를 올리면 배경이 투명해지고 로고 폰트사이즈가 원래대로 커져야합니다.

![20220322_125044](/assets/20220322_125044.png)


▲ 따라서 만들어볼 Navbar 애니메이션 (https://blackrockdigital.github.io/startbootstrap-agency/)











스크롤 이벤트 리스너 주의사항


```
$('어쩌구').on('scroll', function(){})
```
스크롤 이벤트 리스너는 왼쪽에 오는 요소가 스크롤이 될 때마다 내부 코드를 실행해주는 함수입니다.

1초에 최대 60번 실행시키기 때문에

실행횟수가 많아 브라우저가 간혹 부담을 느끼곤 합니다.  

스크롤 이벤트리스너가 많으면 스크롤 할 때마다 코드를 120개 360개 이렇게 실행해야하니 사이트가 느려질 수 있기 때문에

scroll 이벤트 리스너와 내부의 코드는 최대한 줄여서 사용하는게 좋습니다.

scroll 이벤트 리스너는 하나면 충분하니 하나만 쓰세요.















숙제1 : 스크롤바를 100px 이상 내리면 로고 폰트사이즈가 서서히 작아져야합니다.



시작화면 만들고 최종화면 만들고 자바스크립트로 명령만 주면 되겠죠?


조금이라도 직접 작성해본 후 펼쳐보는게 실력향상에 매우 도움이 됩니다.
▼ 시작화면은 로고 폰트사이즈가 좀 컸으면 합니다.


```
<div class="nav-menu">
  <h4 class="large-logo">Shirts Studio</h4>
</div>


.large-logo {
  font-size : 30px;
}

```


▼ 최종화면은 폰트사이즈가 작아져야합니다.


```
.small-logo {
  font-size : 22px;
}
```
대충 이런 식으로 코드를 짜면 되겠네요.

그런데 이걸 자바스크립트로 트리거하면 되겠죠?

100px 이상 스크롤했을 때 위와같은 CSS 속성을 추가해보도록 합시다.




```
$(window).on('scroll',function(){
  if ( $(window).scrollTop() > 100 ) {
    $('.nav-menu').addClass('nav-black');
    $('.nav-menu h4').addClass('small-logo');
  }
});
```
▲저번시간 작성했던 코드에 로고 폰트사이즈를 변경하는 코드를 한줄 추가했습니다.

이제 폰트가 서서히 변하도록 애니메이션만 넣으시면 되겠습니다.


```
.nav-menu h4 {
  font-size : 30px;
  transition : all 0.5s;
}
```
▲ 폰트사이즈가 서서히 변하는건 transition을 추가하면 매우 간단히 해결가능합니다. 끝!



-------------


###### 숙제2 : 스크롤바를 올리면 navbar가 다시 원래대로 투명해지고 폰트가 작아져야합니다.



이것도 스크롤 위치를 파악해서 정확히 명령을 주시는게 좋습니다 .

100px 보다 적게 스크롤했을 경우 애니메이션을 제거해라~ 이런 식으로 명령을 내리면 되지않을까요?

여태까지 짰던 코드에 위 내용을 추가해보도록 합시다.



펴보기전에 해보셨나요?


지금까지 작성했던 코드를 해석하자면

"지금 스크롤바를 100px 이상 내렸을 경우 애니메이션 동작시켜주세요~"

라고 한건데 그럼 이외의 경우를 체크하면 되겠죠?

if문을 하나 더 쓰거나 else 문을 사용하시면 되겠습니다.


```
$(window).on('scroll',function(){
  if ( $(window).scrollTop() > 100 ) {
    $('.nav-menu').addClass('nav-black');
    $('.nav-menu h4').addClass('small-logo');
  } else {
    스크롤바를 100px 미만 스크롤했을 시 동작시킬 코드
  }
});
```
▲ else가 "그게아니면~"이라는 뜻이랬죠?

그래서 else문 내부에 코드를 채워주시면 되겠습니다.

아까 붙였던 nav-black이라는 클래스를 제거하고 font-size도 시작화면대로 크게 키워주시면 되겠습니다.






```
$(window).on('scroll',function(){
  if ( $(window).scrollTop() > 100 ) {
    $('.nav-menu').addClass('nav-black');
    $('.nav-menu h4').addClass('small-logo');
  } else {
    $('.nav-menu').removeClass('nav-black');
    $('.nav-menu h4').removeClass('small-logo');
  }
});
```
끝입니다.

----------

### 탭기능 만들기 1


복붙용 탭 HTML/CSS 디자인  

자바스크립트 배우러 왔는데 CSS 짜고있으면 시간아까우니 준비했습니다.


```
<style>
  ul.list {
	list-style-type: none;
	margin: 0;
	padding: 0;
	border-bottom: 1px solid #ccc;
  }
  ul.list::after {
	content: '';
	display: block;
	clear: both;
  }
  .tab-button {
	display: block;
	padding: 10px 20px 10px 20px;
	float: left;
	margin-right: -1px;
	margin-bottom: -1px;
	color: grey;
	text-decoration: none;
	cursor: pointer;
  }
  .active {
	border-top: 2px solid orange;
	border-right: 1px solid #ccc;
	border-bottom: 1px solid white;
	border-left: 1px solid #ccc;
	color: black;
	margin-top: -2px;
  }
  .tab-content {
	display: none;
	padding: 10px;
  }
  .show {
	display: block;
  }
</style>


<div class="container mt-5">
	<ul class="list">
		<li class="tab-button">Products</li>
		<li class="tab-button active">Information</li>
		<li class="tab-button">Shipping</li>
	</ul>

	<div class="tab-content">
		<p>상품설명입니다. Product</p>
	</div>
	<div class="tab-content show">
		<p>상품정보입니다. Info</p>
	</div>
	<div class="tab-content">
		<p>배송정보입니다. Shipping</p>
	</div>
</div>
```
(container, mt-5 라는 클래스는 Bootstrap 문법입니다.)

설명1) 버튼은 tab-button이라는 클래스로 만들었습니다.

버튼들에 active라는 클래스명을 추가하시면 버튼을 누른듯하게 하이라이트할 수 있습니다.

설명2) 탭내용은 tab-content라는 클래스로 만들었습니다.

탭내용에 show라는 클래스명을 추가하시면 원하는 탭내용이 보입니다.

자바스크립트 파일로 관리하는 법



여러분 작업폴더 내에 .js로 끝나는 파일을 아무거나하나 만드시면

거기 안에 자바스크립트를 작성해서 보관하실 수 있습니다 .

그럼 작성한 자바스크립트를 HTML에 첨부하려면 어떻게 해야하냐면


```
<script src="아까만든 js 파일 경로"></script>
```
스크립트 태그의 src속성에 파일 경로만 적어주시면 됩니다.

파일 경로 적는 법은 그 head태그 내에 CSS파일 첨부하는 방법이랑 똑같습니다.

















탭에 자바스크립트로 생명을 부여하자



다짜고짜 자바스크립트 짜라고 하면 어렵죠?

여러분 코딩하실 땐 코드를 먼저 짜는게 아니라 한국어로 설명부터 하시는게 옳습니다.

일단 UI가 어떤식으로 동작하면 되는지 설명부터 하십시오.

대충 이런거 아닐까요.
```
첫째 버튼을 누르면
  1. 첫째 버튼에 active라는 클래스를 추가해야함 (버튼 누른듯한 하이라이트 해주려고)
  2. 첫째 내용에 show라는 클래스를 추가해야함 (탭내용 보여주려고)

둘째 버튼을 누르면
  1. 위랑 비슷
  2. 위랑 비슷

...
```
이렇게 될 것 같습니다.


한번에 버튼 3개를 개발하면 복잡할 수 있으니 첫째 버튼만 해보도록 합시다.

첫째 버튼을 누르면 동작하는 기능을 자바스크립트 코드로 빨리 옮겨보십시오.



직접 짜본 후 펼처보도록 합시다.


첫째 버튼을 누르면
  1. 첫째 버튼에 active라는 클래스를 추가해야함
  2. 첫째 내용에 show라는 클래스를 추가해야함
```
$('.tab-button').eq(0).click(function(){
  $('.tab-button').eq(0).addClass('active');
  $('.tab-content').eq(0).addClass('show');
});
```
.eq()라는 문법은 jQuery에서 셀렉터로 찾은 여러개의 HTML 요소 중에

내가 원하는 X번째 요소만 고르고 싶을 때 사용하시면 됩니다.

0번째 요소를 찾고 싶다면 eq(0) 이라고 쓰면 됩니다.

1번째 요소를 찾고 싶다면 eq(1) 이라고 쓰면 됩니다.





"가르쳐준 적도 없는데 eq를 어찌 쓰냐" 라고 물어보신다면

이런 사소한 함수들은 구글이라는 참스승에게 물어보시면 됩니다.

예전에 배운 것만 할줄 아는 사람은 기술자지 개발자가 아닙니다

여기까지 진행하면 버그가 하나 생기는군요.

첫째 버튼(버튼0)을 눌렀을 때

다른 버튼에 있던 주황색 하이라이트 부분이 사라지지 않습니다.

다른 탭내용도 사라지지 않습니다.

왜 그럴까요?

![20220322_143412](/assets/20220322_143412.png)

당연히 우리가 자바스크립트로 코드를 덜 짰기 때문이지 뭐 다른 이유가 있겠습니까.

컴퓨터는 우리의 명령 그대로 동작을 할 뿐입니다.

그럼 이전 코드를 업데이트 해보도록 합시다.




```
첫째 버튼을 누르면
  0. 모든 버튼에 있는 active 클래스 제거
  0. 모든 내용에 있는 show 클래스 제거
  1. 첫째 버튼에 active라는 클래스를 추가해야함 (버튼 누른듯한 하이라이트 해주려고)
  2. 첫째 내용에 show라는 클래스를 추가해야함 (탭내용 보여주려고)
```
▲ 코드를 이렇게 업데이트하면 아까와 같은 버그가 없어지지않을까요?


Q. 왜 모든 버튼에 있는 active 클래스를 제거하죠? 둘째 버튼에 있는거만 제거하면 되잖아요.

A. 어떤 버튼에 active가 있는지 판단하기 귀찮아서 그냥 다 제거한다고 코드짜면 되겠습니다.





그럼 빨리 위의 한글도 자바스크립트로 옮겨보도록 합시다.


직접 짜본 후 펼처보도록 합시다.

```
$('.tab-button').eq(0).click(function(){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');

  $('.tab-button').eq(0).addClass('active');
  $('.tab-content').eq(0).addClass('show');
});
```
두줄을 위에 추가했습니다.

jQuery셀렉터의 장점은, 요소가 3개든 4개든 한번에 다 찾아서 한번에 removeClass같은걸 줄 수 있다는 겁니다.

(쌩 자바스크립트 함수들은 그런거 못합니다)

---------

### 탭기능 만들기 2 : for 반복문으로 코드 줄이기


나머지 버튼1, 버튼2도 똑같이 기능개발하시면 탭이 완성됩니다.



그럼 해보도록 합시다.

버튼1을 누르면.. 어쩌구

버튼2를 누르면.. 어쩌구를 자바스크립트로 작성하시면 되겠습니다.  



직접 짜본 후 펼처보도록 합시다.

```
$('.tab-button').eq(1).click(function(){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');

  $('.tab-button').eq(1).addClass('active');
  $('.tab-content').eq(1).addClass('show');
});

$('.tab-button').eq(2).click(function(){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');

  $('.tab-button').eq(2).addClass('active');
  $('.tab-content').eq(2).addClass('show');
});
```
다음과 같은 자바스크립트를 추가하면 되겠죠?

이전 버튼0 기능개발 코드와 유사하기 때문에 설명은 생략하도록 하겠습니다.

버튼1을 누르면 모든 버튼에 붙은 주황색을 제거하고 버튼1에만 주황색을 붙이고~

버튼2를 누르면 모든 버튼에 붙은 주황색을 제거하고 버튼2에만 주황색을 붙이고~ 이렇게 진행되는 코드입니다.








다 작성하고나니 비슷한 코드들이 많습니다. 반복문으로 양을 줄여봅시다.



그 전에 일단 반복문이 무엇인지 배워보도록 합시다.

반복문은 이렇게 코드를 작성하시면 됩니다.


```
for (var i = 0; i < 3; i++) {
  여기에 반복시킬 코드를 넣습니다  
}
```
코드를 그냥 단순히 반복적으로 실행하고 싶을 때 쓰는 for 이라는 문법입니다.

위 코드는 중괄호 내부의 코드를 3번이나 반복해주는 코드입니다.





사용예시를 봅시다 .

콘솔창에 안녕이라는 글자를 3번 출력하고 싶을 때
```
console.log('안녕');
console.log('안녕');
console.log('안녕');
```
▲ 하드코딩으로 console.log('안녕')을 3번이나 쓰는게 아니라 반복문을 사용하시면 노가다 시간을 줄일 수 있습니다.


```
for (var i = 0; i < 3; i++) {
  console.log('안녕');
}
```
이렇게 쓰면 3번이 반복됩니다.

for 반복문 소괄호 안에 있는 3이라는 숫자만 여러분이 원하는 숫자로 바꿔주시면 100번이고 1000번이고 반복해줄 수 있습니다.











for 반복문의 동작원리


```
for (var i = 0; i < 3; i++) {
  console.log('안녕');
}
```
이렇게 쓰면 내부 코드가 3번이나 반복된다고 했는데, 그 이유를 설명하자면

for 반복문 안의 소괄호를 주목해주시면 됩니다.

i라는 변수를 만들어서 어찌저찌 하고 있는데

바로 i라는 변수가 조건을 충족시키지 않을 때 까지 반복문이 돈다고 보시면 됩니다.





소괄호 내의 문장3개를 해석해보도록 하겠습니다.

var i = 0은 초기값,

i < 3은 반복문이 실행되는 조건,

i++는 반복문이 돌 때마다 i라는 변수에다가 1을 더해주세요~

라는 뜻입니다.


```
for (var i = 0; i < 3; i++) {
  console.log('안녕');
}
```
그럼 위 코드의 반복문을 컴퓨터가 어떻게 해석하는지 자세히 풀어헤쳐서 설명해보도록 하겠습니다.

일단 i = 0일 때 i < 3이 맞으니 반복문이 한번 실행됩니다. 그리고 i라는 변수에 1을 더해줍니다.

i = 1이 되었는데, i < 3이 맞으니 반복문이 한번 실행됩니다. 그리고 i라는 변수에 1을 더해줍니다.

i = 2가 되었는데 i < 3이 맞으니 반복문이 한번 실행됩니다. 그리고 i라는 변수에 1을 더해줍니다.

마지막으로 i = 3이 되었는데 i < 3이 아니므로 반복문이 종료됩니다.

그래서 반복문이 3번 도는겁니다.



i 라는 변수가 진짜 그렇게 변하는지 의심스러우시다면 반복문 내에서 console.log(i) 라고 써보시면 콘솔창에서 i값을 확인할 수 있을겁니다.











그럼 아까 기능을 반복문으로 축약해보도록 합시다.


```
$('.tab-button').eq(0).click(function(){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');
  $('.tab-button').eq(0).addClass('active');
  $('.tab-content').eq(0).addClass('show');
});

$('.tab-button').eq(1).click(function(){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');
  $('.tab-button').eq(1).addClass('active');
  $('.tab-content').eq(1).addClass('show');
});

$('.tab-button').eq(2).click(function(){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');
  $('.tab-button').eq(2).addClass('active');
  $('.tab-content').eq(2).addClass('show');
});
```
탭기능을 만드는 코드를 모아놨더니 18줄이네요. (세상에)

그런데 비슷한 코드 뭉텅이들이 3번 반복되는 모습을 보아하니 반복문안에 담으면 뭔가 될 것 같아서 반복문안에 담았습니다.




```
for (var i = 0; i < 3; i++) {
  $('.tab-button').eq(0).click(function(){
    $('.tab-button').removeClass('active');
    $('.tab-content').removeClass('show');
    $('.tab-button').eq(0).addClass('active');
    $('.tab-content').eq(0).addClass('show');
  });
}
```
▲코드가 3분의 1로 줄었습니다. 짝짝짝

하지만 반복문 안에 이렇게 그대로 담으면 뭔가 안될 것 같습니다.

왜냐면 아까 18줄의 코드는 똑같은 코드를 그대로 3번 복붙한 코드가 아니라

코드 중간중간에 숫자가 달라지는 부분이 있었습니다. eq(0) eq(1) 뭐 이런 부분이요.

그것까지 신경써서 반복문을 돌려야합니다.

어떻게 반복문을 수정하면 될까요?

아까 반복문의 원리에서 설명한 i라는 변수를 잘 떠올리신 후 직접 코드를 수정해보시면 되겠습니다.



공짜답안 좋아하면 머리빠짐


아까 18줄의 코드는 코드 한 덩이를 복붙할 때 eq() 안에 있는 숫자가 각각 0, 1, 2로 변경됩니다.

그럼 이거랑 똑같이 만들려면 반복문안의 eq(0)이라는 숫자를 하드코딩해서 집어넣는게 아니라


```
for (var i = 0; i < 3; i++) {
  $('.tab-button').eq(반복문이 돌때마다 0,1,2가 되는 변수).click(function(){
    $('.tab-button').removeClass('active');
    $('.tab-content').removeClass('show');
    $('.tab-button').eq(반복문이 돌때마다 0,1,2가 되는 변수).addClass('active');
    $('.tab-content').eq(반복문이 돌때마다 0,1,2가 되는 변수).addClass('show');
  });

}
```
▲ '반복문이 돌때마다 0,1,2가 되는 변수'를 여기에 집어넣으시면 되겠군요.

앗 근데 아까 반복문 원리를 설명할 때 짚고넘어간 i 라는 변수가 딱 그 역할을 하네요.

그럼 i를 집어넣어보시면 되겠습니다.


```
for (let i = 0; i < 3; i++) {
  $('.tab-button').eq(i).click(function(){
    $('.tab-button').removeClass('active');
    $('.tab-content').removeClass('show');
    $('.tab-button').eq(i).addClass('active');
    $('.tab-content').eq(i).addClass('show');
  });

}
```
▲짝짝짝 그리고 반복문 내의 변수를 var이 아니라 let 변수로 변경했습니다.

let 변수를 사용해야 이벤트리스너를 반복문 돌릴 때 잘 동작합니다.

그 이유는 밑에서 설명해드리겠습니다.

아무튼 여기까지 짜시면 탭기능완성입니다.



[collapse]












조금 더 다양한 상황에 대응할 수 있는 코드로 변경해보자



지금 탭3개가 정상 작동하는데,

갑자기 못된 퍼블리셔가 탭 버튼과 내용을 2개 더 추가하면 탭이 정상적으로 동작하지 않습니다.

(반복문을 5번돌아라~라고 위의 코드를 수정해야 모든 탭이 정상 작동되겠죠)

그래서 반복문을 "지금 HTML 내에 있는 탭버튼 갯수만큼 돌려라~"라고 코드를 짜놓으면

탭이 몇개있든 간에 매번 자바스크립트 코드를 수정하지 않고도 잘 동작하겠군요.

이건 직접 구글을 찾아서 구현해보시면 되겠습니다.

찾아보셔야지 저에게 물어보시면 안됩니다

```
for (let i = 0; i < $('.tab-button').length;  i++) {
  $('.tab-button').eq(i).click(function(){
    $('.tab-button').removeClass('active');
    $('.tab-content').removeClass('show');
    $('.tab-button').eq(i).addClass('active');
    $('.tab-content').eq(i).addClass('show');
  });

}
```
▲ 3번 반복하라던 하드코딩된 숫자 대신에 이상한 코드를 넣었습니다.

tab-button이라는 요소가 페이지 내에 몇개있는지 알려주는 length 함수입니다.

그럼 앞으로 탭이 몇개있든 간에 우리가 코드를 직접 수정할 필요가 없겠네요

[collapse]












참고 : 왜 var을 쓰면 안되고 let을 쓰면 잘 되는거죠?


```
for (let i = 0; i < 3;  i++) {
  $('.tab-button').eq(i).click(function(){
    $('.tab-button').removeClass('active');
    $('.tab-content').removeClass('show');
    $('.tab-button').eq(i).addClass('active');
    $('.tab-content').eq(i).addClass('show');
  });
}
```
▲ 반복문 안에 click이라는 이벤트 리스너가 있습니다.

반복문 내의 이벤트리스너 내에서 i라는 변수를 쓰시려면 변수를 애초에 let으로 만들어야 잘 동작합니다.

왜 그러냐면 ... 컴퓨터 입장에서 설명해보도록 하겠습니다.



0. 컴퓨터는 위에서부터 한줄한줄 코드를 해석합니다.

1. 근데 해석하다가 for 반복문 내의 이벤트리스너를 만납니다. 이벤트리스너 안의 코드는 바로바로 실행되는 코드가 아닙니다. 사용자가 클릭했을 시 실행되는 코드입니다.   

2. 그래서 이벤트리스너 내의 코드는 실행하지 않고 다음 줄로 지나갑니다.  

3. 반복문이 다 돌고난 후 한참 후에, 사용자가 버튼2 (세번째 버튼)을 클릭한걸 발견합니다.

4. 컴퓨터가 앗! 하며 이벤트리스너 내의 코드를 실행시키려합니다.


```
$('.tab-button').eq(i).addClass('active');
$('.tab-content').eq(i).addClass('show');

```
▲ 요것들이 바로 이벤트리스너 내의 코드들입니다.

4. 그런데 이벤트리스너 내의 코드 중에 i라는 변수를 발견합니다. 컴퓨터는 변수를 만나면 이걸 실제 값인 숫자나 문자로 바꾸고 싶어합니다.

5. 주변을 살펴보니 반복문을 다 돌고난 i라는 변수가 3이 되어있는걸 찾아냅니다. (반복문이 다 돌고난 후에 i라는 변수는 3이 되어 남아있습니다.)

6. 그래서 eq() 안에 3을 집어넣습니다.

7. 하지만 $('.tab-button').eq(3)은 없습니다. (네번째 버튼은 없잖아요)

8. 그래서 에러를 냅니다.







그래서 작동되지 않는 것입니다.

var i = 0 이라고 정의하시면 변수의 범위가 for 반복문 이상으로 넓어져서 그렇습니다.

let i = 0 이라고 정의하시면 i라는 변수는 반복문 내에서 다른 코드가 참조할 수 있는 '범위' 를 갖기 때문에

이벤트리스너 내에서 i를 찾을 때 각각 0,1,2의 값을 참조할 수 있습니다.

예전에 var 이라는 변수밖에 없었을 땐 중요하게 다뤘었는데

요즘은 let이라는 변수를 쓰기만 하면 버그가 전혀 없으니 깊게 이해안하셔도 상관없습니다.

---------

### 이벤트 버블링과 이벤트 함수


이벤트 버블링이라는 현상이 있습니다.



어떤 HTML 태그에 이벤트가 발생하면 그의 모든 상위요소까지 이벤트가 실행되는 현상입니다.

클릭이라는 이벤트로 예를 들어보면,

HTML 태그에 클릭이 발생하면 그의 모든 상위요소까지 자동으로 클릭된다는 말입니다.


```
<div>
  <div>
    <p>안녕</p>
  </div>
</div>
```
▲위의 코드에서 p태그 안녕이라는 글자를 클릭하면 브라우저는 사용자가 클릭을 총 3번 했다고 인지합니다.

p랑 그 위의 div랑 그 위의 div랑 이렇게요.

이게 이벤트 버블링인데 브라우저는 이벤트 버블링이 항상 일어나도록 코드가 짜여있습니다.

그냥 자연스러운 현상입니다.  











모달창 배경을 누르면 닫히는 기능을 추가해봅시다.



앞선 강의에서 모달창을 하나 제작해서 띄워봤습니다.
```
<div class="black-background">
  <div class="white-background">
    모달창 내용
  </div>
</div>
```
▲ 모달창 HTML은 대충 이런 식으로 코드가 짜여있을 겁니다.

그럼 배경 (black-background 라는 클래스로 만든 부분)을 누르면 닫히는 기능을 만들어보도록 합시다.

이쯤되면 이 정도는 다 할줄 알죠?
```
$('.black-background').click(function(){
  $('.black-background').hide()
});
```
▲ hide 함수 아니면 display 속성을 none으로 바꿔주시면 되겠습니다.

여기까지 하면 성공인데

버그가 하나 있습니다.

검은 배경 뿐만 아니라 흰배경, input, 글자 등 모달창 내부의 어떤걸 눌러도 다 닫힙니다.







= 이벤트 버블링때문에 일어나는 현상입니다.

어떤 요소에 클릭이라는 이벤트가 일어나면 그 상위요소들도 클릭이벤트가 일어납니다.


```
<div class="black-background">
  <div class="white-background">
    모달창 내용
  </div>
</div>
```
▲ 그러니까 white-background라는 div를 클릭하면 그 상위요소인 black-background라는 div도 역시 클릭한 것이죠.

그래서 흰배경을 눌러도 모달창이 닫히는 겁니다.

그럼 해결해보도록 합시다.

해결해보기 전에 이런 상황에서 자주 사용하는 이벤트관련 함수/메소드들을 살펴보도록 합시다.









이벤트리스너 안에서 쓰는 이벤트 함수들



이벤트리스너 콜백함수안에 파라미터를 하나 추가하면 이벤트관련 함수들을 쓰실 수 있습니다.


```
$('.black-background').click(function(e){
  e.target;
  e.currentTarget;
  e.preventDefault();
  e.stopPropagation();
});
```
▲ 파라미터 이름은 아무렇게나 하시면 됩니다. (보통 e 혹은 event라고 많이들 작명합니다)

e.target은 지금 실제 클릭한 요소

e.currentTarget은 지금 이벤트리스너가 달린 곳 (참고로 this라고 쓰셔도 같은 의미입니다.)

e.preventDefault()는 기본 동작을 막을 때 쓰고

e.stopPropagation()은 내 상위요소로의 이벤트 버블링을 중단할 때 씁니다.

여기서 중요한건 e.target입니다.

브라우저는 바보처럼 버블링이 일어난다고 해도 그래도 사용자가 실제로 클릭한 그 요소는 찾아낼 수 있습니다.













그럼 모달창 닫기 버그를 해결해봅시다.



코드를 대충 이렇게 수정하면 되지 않을까요?
```
$('.black-background').click(function(){
  음 지금 실제로 누른게 검은 배경일 때만 $('.black-background').hide() 해주셈
});
```
이렇게 짜면 될 것 같습니다.

자바스크립트로 어떻게 번역하면 될까요?

고민도 안해보고 바로 답보는 사람은 나쁜 사람입니다.

```
$('.black-background').click(function(){
  if ( e.target == e.currentTarget ){
    $('.black-background').hide()
  }
});
```
이렇게 짜면 될 것 같습니다.

유사품으로 e.target == this 라고 비교하셔도 됩니다.





e.target == $('.black-background')

조건식을 이렇게 해도 대충 의미는 맞는데 작동하진 않습니다.

왜냐면.... e.target과 $('.black-background')를 콘솔창에 출력해보면 형식이 조금 다릅니다.

e.target은 쌩 자바스크립트로 찾은 HTML요소가 나오고

$('.black-background')는 jQuery object 같은게 나옵니다.

그래서 둘을 비교하면 항상 다르다고 나올겁니다.





e.target과 쌩자바스크립트 셀렉터로 찾은 (getElement뭐시기) black-background가 같다고 비교하는건 괜찮습니다.

둘다 쌩 자바스크립트 문법이니까요.

-----------

### 탭기능 다시만들기 : 이벤트 버블링 응용과 dataset

이벤트버블링을 알고계시면 이벤트리스너를 줄여가며 개발할 수도 있습니다.

필수나 그런건 아니고 알면 언젠가 도움되는 내용이기 때문에

전에 만들었던 탭기능을 다시 만들어봅시다. 원래 복습을 해야 실력이 느는 것임





전에 만들어둔 탭기능 코드

```
<div class="container mt-5">
  <ul class="list">
    <li class="tab-button" data-id="0">Products</li>
    <li class="tab-button active" data-id="1">Information</li>
    <li class="tab-button" data-id="2">Shipping</li>
  </ul>
  <div class="tab-content">
    <p>상품설명입니다. Product</p>
  </div>
  <div class="tab-content show">
    <p>상품정보입니다. Info</p>
  </div>
  <div class="tab-content">
    <p>배송정보입니다. Shipping</p>
  </div>
</div>


for (let i = 0; i < $('.tab-button').length; i++) {
  $('.tab-button').eq(i).click(function(){
    $('.tab-button').removeClass('active');
    $('.tab-content').removeClass('show');
    $('.tab-button').eq(i).addClass('active');
    $('.tab-content').eq(i).addClass('show');
  });
}
```





함수로 축약하기



긴 코드를 짧게 한단어로 축약하고 싶으면 함수 만들어쓰라고 했습니다.

그래서 우리의 탭기능도 길고 복잡한 부분 함수로 축약해봅시다.

심심해서 그렇습니다.


```
for (let i = 0; i < $('.tab-button').length; i++) {
  $('.tab-button').eq(i).click(function(){
    탭열기(i)
  });
}


function 탭열기(숫자){
  $('.tab-button').removeClass('active');
  $('.tab-content').removeClass('show');
  $('.tab-button').eq(숫자).addClass('active');
  $('.tab-content').eq(숫자).addClass('show');
}
 ```

버튼 누르면 뭐 실행해주는 4줄을 축약했습니다. 이거 말고 이벤트리스너까지도 함수로 축약해도 상관없을 듯요

근데 함수만들 때 주의점은
```
$('.tab-button').eq(i)
```
이런 식의 코드를 축약할 때 i라는 변수가 하나 있었는데

함수만들 때 안에 있던 변수는 여러분이 꼭 파라미터 등으로 정의를 해주셔야합니다.

안그러면 i가 없다고 에러날 수 있습니다.

그래서 저는 "i를 파라미터로 기입해주겠다~" 라고 정의해놨습니다.

그럼 이제 앞으로 탭열기() 라고 쓸 때마다 숫자를 기입할 수 있는데 그걸 i 변수자리에 집어넣기로 했습니다.



이제 0번 버튼 누르면 0이 함수안에 파라미터로 전해지고 그게 $('.tab-button').eq(0) 이렇게 채워짐

그래서 암튼 탭기능 잘 동작합니다.











탭기능 다시만들어봅시다



이전 코드는 이벤트리스너를 3개 사용했습니다.

근데 1개만 사용해도 탭기능을 똑같이 만들어낼 수 있습니다.
```
<ul class="list">
```
 여기다가 이벤트리스너 하나만 부착해도 모든 기능을 만들 수 있다는겁니다.

왜겠습니까 이벤트 버블링 덕분임


```
<ul class="list"> ← 여기에 이벤트리스너 답시다
  <li class="tab-button">Products</li>
  <li class="tab-button active">Information</li>
  <li class="tab-button">Shipping</li>
</ul>
 ```



이렇게 하면 님들이 어떤 <li>를 누르든 저기 달아둔 이벤트리스너안의 코드가 동작합니다.

그럼 이벤트리스너 안에 이런 식으로 코드 짜놓으면 탭기능 완성이겠네요

"만약에 이 사람이 실제 누른게 버튼0이면.. 탭0 열어주셈"

"만약에 이 사람이 실제 누른게 버튼1이면.. 탭1 열어주셈"

...

진짜입니다.





그래서 이벤트리스너를 줄여서 코드짜고 싶으시면 상위요소에 이벤트리스너 하나만 달아보십시오.

이벤트리스너를 줄이면 1. 코드양이 줄고 2. 반복문 안쓸 수도 있고 3. 컴퓨터의 자원인 램을 덜 사용할 수 있습니다.

만드는데 필요한 개념은 저번시간에 설명해드렸으니 탭기능 완성하는건 알아서 해보도록 합시다.

최대한 알아서 잘 해보십시오


.list 요소를 누르면

"내가 실제 누른게 버튼0이면 탭0 열어주셈~" 이렇게 코드짜면 됩니다.


```
$('.list').click(function(e){
  if ( e.target == document.querySelectorAll('.tab-button')[0] ){
    탭열기(0)
  }
  if ( e.target == document.querySelectorAll('.tab-button')[1] ){
    탭열기(1)
  }
  (이하 생략)
});
```
이러면 되겠군요

querySelectorAll()은 jquery의 $ 셀렉터랑 유사한 기능을 제공합니다.

근데 찾고나서 [0] 이런 식으로 위에서 몇번째 요소를 사용할 지를 지정해주셔야합니다.



저런 식으로 코드 짜놓으면 탭기능 완성입니다.





근데 더 쉽게 개발할 수 있습니다



HTML 요소에 몰래 정보를 숨겨두는 dataset이라는 문법을 이용하면 됩니다.

잠깐 개념정리 들어갑니다.



HTML에 몰래 정보를 숨기고 싶으면 이렇게 작성할 수 있습니다.
```
<ul class="list">
  <li class="tab-button" data-id="0">Products</li>
  <li class="tab-button active">Information</li>
  <li class="tab-button">Shipping</li>
</ul>
```
이렇게 하면 li에 id : 0 이라는 정보를 몰래 숨겨둘 수 있습니다.

data-작명="값" 이렇게 맘대로 입력해주면 됩니다.

일반 유저는 모르고 개발자만 알 수 있습니다.





숨겨둔 정보를 뽑아쓰려면 자바스크립트로 그 요소를 찾은 다음 .dataset.id 만 뭍이면 됩니다.
```
document.querySelectorAll('.tab-button')[0].dataset.id
```
이걸 출력해보면 아마 0이 나올걸요





이게 정보 몰래 숨기고 출력하는 dataset이라는 문법입니다.

하지만 이걸 왜 배우는지가 중요합니다. 대체 왜 알아야하냐면

이걸 알면 이런 식으로 개발이 가능하기 때문입니다.








```
<ul class="list">
  <li class="tab-button" data-id="0">Products</li>
  <li class="tab-button active" data-id="1">Information</li>
  <li class="tab-button" data-id="2">Shipping</li>
</ul>
```
HTML을 이렇게 바꿔봅시다. 버튼마다 몰래 0,1,2 숫자를 저장해두는겁니다.




```
$('.list').click(function(e){
  탭열기(방금누른버튼에숨겨진 data-id를 알려주는 변수?)
});
```
그 다음에 자바스크립트를 이렇게 수정하면 탭기능 개발 끝인데얌

이렇게 하면 if문 그딴거 필요없을 것 같은데요

아무튼 저런 변수? 같은게 있습니까. 버튼0을 누르면 거기 숨겨져있던 0을 출력해주는 그런 변수나 코드같은거요.



그것은 5초전에 배웠기 때문에 알아서 해봅시다


방금누른버튼에숨겨진 data-id를 자바스크립트로 번역해봅시다.

방금누른 버튼은 e.target이고

거기 숨어있던 data-id를 출력하려면 .dataset.id를 붙이면 된다고 했습니다.


```
$('.list').click(function(e){
  탭열기(e.target.dataset.id)
});
```
그래서 이렇게 쓰시면 탭기능 개발 끝입니다.

HTML 잘하시면 반복문 if문 그딴거 필요없어짐








참고 : jQuery 스타일로 데이터 몰래저장하는 법


```
$(HTML요소).data('name', 'kim')
$(HTML요소).data('name')
```
첫 줄 처럼 코드 짜시면 name이라는 이름으로 kim이라는 자료를 저장할 수 있습니다.

이걸 꺼내서 출력하거나 그러고 싶으면 .data('자료이름') 을 쓰시면 됩니다.

실험해보십시오.



아까 배운 쌩자바스크립트 data-id 문법은 IE 11+ 에서 이용가능해서

실제로는 호환성이 더 나은 jQuery 버전을 자주 사용합니다.

이건 심지어 나중에 배울 object array 자료도 저장가능


--------


### Array 와 Object 자료형 기초


Array 자료형



여러가지 자료를 한곳에 저장하고 싶을 때 사용하는 자료형입니다.
```
var 어레이 = ['BMW', 520, 'white'];
```
1. 대괄호를 열고 자료를 집어넣으시면 됩니다. (변수에 저장해서 쓰는게 일반적입니다.)

2. 내부 자료들을 콤마로 하나씩 구분해서 집어넣습니다.

끝입니다.





그럼 저장한 자료를 뽑는 법도 알아봅시다.
```
var 어레이 = ['BMW', 520, 'white'];
console.log(어레이[1]);
```
어레이는 대괄호를 뒤에 붙여서 원하는 내부 자료를 뽑아낼 수 있습니다.

대괄호 내에는 자료의 번호가 들어갑니다. 0이라고 쓰면 0번째 자료, 1이라고 쓰면 1번째 자료를 출력해줍니다.

끝입니다.















Object 자료형



역시 여러가지 자료를 한곳에 저장하고 싶을 때 사용하는 자료형입니다.
```
var 오브젝트 = { brand : 'BMW', model : 520 };
```
1. 중괄호를 열고 자료를 집어넣으시면 됩니다. (변수에 저장해서 쓰는게 일반적입니다.)

2. 그런데 자료 왼쪽에 자료의 이름과 콜론을 붙여서 저장하셔야합니다.

자료에 이름을 써서 저장하는 것이지요.

자료의 이름은 보통 key 라는 용어로 칭하고 실제 자료는 value라고 칭합니다.





그럼 저장한 자료를 뽑는 법도 알아봅시다.
```
var 오브젝트 = { brand : 'BMW', model : 520 };
console.log(오브젝트.brand);
```
오브젝트는 마침표를 찍고 자료의 이름(key)를 불러주시면 자료를 뽑을 수 있습니다.

또는 참고로 오브젝트['brand'] 이런 식으로도 뽑으실 수 있습니다.

끝입니다.









수업시간 예제 : 상품목록 데이터바인딩



다음과 같은 HTML 상품 목록과 자바스크립트 데이터가 있습니다.
```
<h4 id="title">상품제목</h4>
<p id="text">상품내용</p>

<script>
  var 자료 = [ { brand : 'BMW' }, { model : 520 } ];
</script>
```
자료라는 변수에 저장된 BMW라는 데이터와 520이라는 데이터를 꺼내

상품제목 h4태그, 상품내용 p태그 안에 채워넣고 싶으면 어떻게 자바스크립트 코드를 짜야할까요?

(HTML 코드를 건드리지 말고 자바스크립트만 짜서 구현해야합니다.)


직접 짜본 후 열어보도록 합시다.
자바스크립트로 HTML 내용을 바꾸고 싶을 때 어떤 코드를 사용했었죠?

 $('어쩌구').html('안녕')
이런 식으로 사용하면 어쩌구라는 요소의 내용물을 '안녕'으로 바꿀 수 있다고 했죠?

그럼 BMW라는 데이터를 array에서 끄집어내서 상품제목 h4태그 내의 내용물을 바꿔보도록 합시다.






```
<script>
  var 자료 = [ { brand : 'BMW' }, { model : 520 } ];

  $('#title').html(자료...?);
</script>
```
그런데 자료라는 변수에서 BMW라는 글자를 어떻게 끄집어낼지 모르겟죠?

그럴 땐 콘솔창을 활용해서 계속 이리저리 출력해보시면 됩니다.






```
console.log(자료)
```
이렇게 쓰면 [{ ... },{ ... }] 대충 이런 식으로 콘솔창에 뭔가 출력이 되죠?

콘솔창에서 이건 array라는 자료형입니다 라고 간추려서 알려주고 있는 듯 합니다.

시작이 대괄호면 무조건 array고, 시작이 중괄호면 무조건 object 자료형입니다.

그래서 array이기 때문에 array에서 자료를 뽑으려면 일단 대괄호를 쳐서 뽑습니다.




```
console.log(자료[0])
```
이렇게 쓰면 { brand : 'BMW' } 요거가 출력이 되죠?

그래서 자료[0]은 object 자료형인 것 같습니다.

그럼 object에서 내가 원하는 BMW라는 자료를 어떻게 뽑습니까. 마침표찍고 이름을 부르면 된댔죠?






```
console.log(자료[0].brand)
```
이렇게 쓰면 내가 원하는 자료가 뿅하고 나오게됩니다. 그럼 아까 코드를 이렇게 수정하면 되겠네요.










```
<script>
  var 자료 = [ { brand : 'BMW' }, { model : 520 } ];

  $('#title').html(자료[0].brand);
</script>
```
이렇게 한줄을 쓰면 HTML 안의 내용물이 바뀌게 됩니다.

요런 자바스크립트로 데이터를 HTML에 꽂아넣는 작업을 데이터바인딩이라고 합니다.



---
### 쇼핑몰 상품진열 기능 만들기 (array of objects 다루기)


그냥 문법만 하면 재미가 없으니 쇼핑몰 상품목록을 만들어보며 배워봅시다.

일단 Bootstrap 설치하고 시작합시다.

HTML파일 새로 만들고 getbootstrap.com 들어가서 starter template 복붙하면 끝입니다.

다만 jQuery 사용시 starter template 밑에 있는 jQuery가 slim 버전이라면 일반버전으로 바꾸시길 바랍니다.

그리고 거기 붙여넣을 상품 레이아웃은

```
<div class="card-group container">
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5>Card title</h5>
      <p>가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5>Card title</h5>
      <p>가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5>Card title</h5>
      <p>가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
</div>

<script>
  var products = [
    { id : 0, price : 70000, title : 'Blossom Dress' },
    { id : 1, price : 50000, title : 'Springfield Shirt' },
    { id : 2, price : 60000, title : 'Black Monastery' }
  ]
</script>
```


웹서비스 개발방식은 두가지가 있습니다



1. 서버에서 HTML 파일을 미리 다 완성해서 보내주기

2. 서버에서 텅빈 HTML 파일 + 상품데이터만 보내고 HTML을 완성하는건 프론트엔드에서 자바스크립트로 시키기

택1 합니다. 각각 장단점이 있겠죠?

우리는 2번이라고 가정하고 체험해봅시다. 서버가 껍데기만 있는 HTML을 보내고 데이터도 같이 보냈다고 칩시다.

이걸 가지고 프론트엔드에서 한번 상품목록을 만들어봅시다.













데이터를 HTML에 꽂아넣어보자



위에서 HTML과 데이터를 복붙해봤습니다.

데이터는 var products 라는 변수 안에 저장이 되어있습니다. 대충 서버가 보낸 데이터라고 생각해보십시오.

실제 개발현장에서도 자바스크립트 변수 이런데에 저장되어있음


```
var products = [
 { id : 0, price : 70000, title : 'Blossom Dress' },
 { id : 1, price : 50000, title : 'Springfield Shirt' },
 { id : 2, price : 60000, title : 'Black Monastery' }
]
```
데이터는 어려워보이지만 실은 별거 아닙니다. 축약하면 [{}, {}, {}] 이렇게 생긴 array 자료입니다.

array 안에 {} object가 3개 들어있는 것일 뿐이고

그리고 {} 안에 상품의 가격, 제목 이런 것들이 들어가 있습니다.

(참고로 array, object 자료 안엔 또 다른 array, object를 맘대로 집어넣을 수 있습니다.)



왜 이런 식으로 데이터를 만들었냐고요?

상품1제목, 상품1가격, 상품1번호

상품2제목, 상품2가격, 상품2번호

.. 이런 것들을 하나의 변수에 저장한다고 생각해보십시오. 저게 꺼내쓸 때 편할걸요?





그래서 빨리 자바스크립트로 코드를 짜서 products 안에 있던 상품명과 가격들을 HTML에 꽂아넣어보십시오.

데이터를 HTML에 꽂아넣는 행위를 멋진 용어로 데이터바인딩이라고 합니다.

이에 필요한 문법은 예전에 다 배웠으니 다음 시간까지 알아서 완성해오셈


전 이렇게 했는데 여러분은 알아서 하십시오


첫째 상품명 하나만 해봅시다.
```
<h5 class="title">Card title</h5>
```
일단 첫 제목을 찾기쉽게 class를 주었습니다. 제맘임




```
 $('.title').html(products 안에있는 첫상품제목)
 ```
그 다음에 그걸 자바스크립트로 찾아서 바꿔달라고 하면 됩니다.

근데 products 안에 있는 첫 상품제목을 자바스크립트로 어떻게 표현합니까.

array 안에서 자료를 꺼내면 되는 것입니다. 자료 꺼내는 문법은 예전에 다 배우셨음





크롬 콘솔창 이런 곳에 직접 실험해보십시오.

products라고 쓰면 [{},{},{}] 이런 자료가 남습니다.

아무리 복잡해보이는 자료도 시작 괄호만 잘 보면 원하는걸 꺼낼 수 있습니다.

[ 이걸로 시작하면 무조건 array,

{ 이걸로 시작하면 무조건 object라서요.

그래서 products 라는건 array이기 때문에 products[0] 뭐 이런 식으로 꺼내면 되겠네요.





이번엔 콘솔창에 products[0] 이라고 쓰면 {} 이런 자료가 남습니다.

복잡해보여도 시작 괄호만 잘 보시면 된다니깐요

{ 이걸로 시작하면 무조건 object라서

products[0].어쩌구 이렇게 하면 원하는 데이터를 꺼내쓸 수 있겠군요.

한번 실험해보십시오.






```
 $('.title').html(products[0].title)
 ```
그래서 이렇게 코드 한줄 짜면 데이터바인딩 끝입니다.

나머지 상품들의 가격, 상품명은 다음시간까지 알아서 채워옵시다.

다음 시간엔 정렬기능 만들 것임


 ------

### 인터랙티브 form 만들기 : input과 change 이벤트


복붙용 select form 기본 디자인



select라는 인풋이 포함된 폼 UI입니다. 빨리 붙여넣기합시다.

(Bootstrap이 설치되어있어야 예쁘게 나옵니다.)


```
<form class="container my-5">
  <div class="form-group">

    <p>상품선택</p>
    <select class="form-control" id="option1">
      <option>모자</option>
      <option>셔츠</option>
    </select>

  </div>
</form>

```








change, input 이라는 이벤트



input, select, textarea 태그는 form 안에서 사용자가 값을 입력할 수 있는 공간을 제공하는 input 역할을 합니다.

이런 태그들에 사용자가 값을 입력하거나 변경했을 때를 체크할 수 있는 이벤트가 있습니다.

change와 input이라고 부르는 이벤트입니다. (태그명 아닙니다)
```
$('input').on('change', function(){
  인풋 값이 변경되었을 때 실행할 코드
});

$('input').on('input', function(){
  인풋 값이 변경되었을 때 실행할 코드  
});
```
이런 식으로 이벤트리스너를 달아서 사용하시면 인풋에 입력한 값이 변경될 때를 체크할 수 있습니다.

하지만 change와 input은 각각 발동되는 시점이 다른데

input은 값이 변경될 때마다 실행됩니다. (심지어 타이핑하는 도중에도 실행됨)

change는 input태그인 경우엔 값이 변경되고 입력란 바깥을 클릭했을 때 실행됩니다.

change는 select태그인 경우엔 값이 변경될 때 실행됩니다.









셔츠를 선택하면 셔츠사이즈를 고를 수 있는 UI를 등장시키는 기능만들기  



아까 복붙한 폼에서 모자 말고 셔츠를 선택하면 세부 사이즈를 고르는 UI를 등장시켜야합니다.

UI라는게 별건 없고 그냥 추가적인 select 태그를 하단에 등장시키고 싶은겁니다.

그럼 이런거 어떻게 만들죠?

그냥 UI만드는 법을 잘 생각해보면 됩니다. 미리 만들어놓고 특정 상황에서 보여주기만 하면 되는 것입니다.

HTML 디자인은 미리 해드림




```
<form class="container my-5">
    <div class="form-group">

      <p>상품선택</p>
      <select class="form-control" id="option1">
        <option>모자</option>
        <option>셔츠</option>
      </select>

      <div class="size-select">
        <p class="mt-4">사이즈선택</p>
        <select class="form-control" id="option2">
          <option>95</option>
          <option>100</option>
          <option>105</option>
        </select>
      </div>

    </div>
</form>
```

그래서 일단 UI를 만들고 div class="size-select"라는 태그로 감쌌습니다.

그리고 일단 숨깁니다.





그럼 이제 명령을 주시면 됩니다.

사용자가 #option1이라는 select폼을 조작할 때

만약 셔츠라는 값을 입력했다면

UI를 보여주시면 됩니다.

어떻게 자바스크립트를 짜면 될까요?  

직접 짜본 후 펼쳐보도록 합시다.

```
$('#option1').on('change', function(){

    if ( $('#option1').val() == '셔츠' ) {
      $('.size-select').show();
    }

});
```
해석하자면..

첫째 select에 change 이벤트가 발동하면

만약에 사용자가 입력한 값이 셔츠면

아까 만들었던 사이즈선택 UI를 보여줍니다.

끝입니다.





"그럼 셔츠가 아닐 때 사이즈선택 UI를 숨기려면" 어떻게 코드를 짜야할까요?

else나 if 문을 하나 더 써서 개발하시면 되겠죠?

설명은 생략하겠습니다.

---------

### 인터랙티브 form 만들기2 : HTML을 동적으로 생성하기


동적으로 HTML 생성해서 UI를 만들어보자



여태까지 제작했던 UI 들은

'미리 HTML을 만들어놓고' 클릭등이 일어났을 때 보여주는 형태로 제작을 했었습니다.

이번엔 약간 다른 방식으로 만들어보도록 합시다.

자바스크립트로 HTML을 코딩해서 집어넣어도 똑같이 UI들을 만들어낼 수 있습니다.







자바스크립트로 HTML을 만드는 방법



그냥 자바스크립트의 문자 자료형에 열심히 HTML 코드를 짜신 후

jQuery 함수 등을 이용해 원하는 곳에 HTML을 집어넣으시면 됩니다.


```
var 템플릿 = '<p>안녕하세요</p>'
$('div').append(템플릿);
```
이런 식입니다. append() 함수는 내부에 특정 HTML을 추가해주세요~ 라는 의미로 사용하시면 됩니다.

또는 예전에 배웠던 .html() 함수로도 가능합니다.




```
var 템플릿 = '<p>안녕하세요</p>'
$('div').html(템플릿);
```
html() 함수를 쓰시면 내부를 <p>안녕하세요</p>라는걸로 통째로 바꿔버립니다.

(append는 추가, html은 교체용으로 사용하시면 됩니다)











예제 : 셔츠를 선택하면 option 태그를 생성하기



셔츠를 선택하면 특정 코드를 실행하는 부분은 이렇게 됩니다.

(저번시간 코드 그대로 재활용)


```
$('#option1').on('change', function(){
      if ( $('#option1').val() == '셔츠' ) {
         //실행할 코드
      }
});
```
실행할 코드 부분에

"95,100,105의 값을 담을 수 있는 option태그 3개를 생성해주세요"라고 코드를 짜면 되겠군요?

뭔 HTML을 생성할지 풀어서 설명하자면
```
<option>95</option>
<option>100</option>
<option>105</option>
```
위와 같은 HTML을 생성하면 되겠군요. 어떻게 코드를 짜면 될까요?

```
$('#option1').on('change', function(){
      if ( $('#option1').val() == '셔츠' ) {
         var 템플릿 = '<option>95</option><option>100</option><option>105</option>';
         $('#option2').append(템플릿);
      }
});
```
이렇게 두줄을 추가하면 되겠습니다.

자바스크립트로 HTML을 작성하려면 따옴표 안에서 문자처럼 담으시면 되고

그리고 원하는 곳에 append()혹은 html()을 해주시면 됩니다.

자바스크립트로 HTML 작성시 활용할 수 있는 `역따옴표` 문법



Backquote, 역따옴표라고 부르는 기호입니다. (키보드 물결기호 밑에 있음)

일반 따옴표들과 똑같이 문자 자료형을 만들 때 씁니다.

하지만 장점이 하나가 있는데

역따옴표를 쓰시면 안에 엔터키를 입력할 수 있습니다.


```
var 문자 = '원래 문자안에
엔터키는 안됩니다';

var 문자2 = `근데 역따옴표는
엔터키 가능`;
```
그래서 자바스크립트로 HTML을 짤 때

엔터키를 허용하는 역따옴표 안에서 짜시면 HTML이 훨씬 보기쉬워집니다.

다만 ES6 신문법이기 때문에 브라우저 호환성을 생각한다면 Babel 등을 이용해 옛날 문법으로 바꾸는 과정을 거쳐야합니다.















그럼 사용자가 이번엔 바지를 입력했을 때, 다른 option이 뜨게 하려면?



위 코드에선 셔츠를 선택하면 95, 100, 105의 옵션태그들이 뜹니다.

그럼 이번엔 바지를 선택하면 28, 30, 32라는 옵션태그들이 뜨도록 코드를 추가해봅시다.

(바지라는 옵션이 없으면 하나 추가해주십시오)

이상은 도와주지 않습니다. 빨리 혼자 짜십시오.


도움의 손길
위의 코드에선 if라는 문법으로 사용자가 선택한 값이 셔츠인지 검사를 거쳤었습니다.

그럼 이번엔 사용자가 선택한 값이 바지인지 검사를 거치면 되지않을까요?


직접 짜본 후 펼쳐보도록 합시다.

```
$('#option1').on('change', function(){
      if ( $('#option1').val() == '셔츠' ) {
         var 템플릿 = '<option>95</option><option>100</option><option>105</option>';
         $('#option2').append(템플릿);
      } else {
         var 템플릿 = '<option>28</option><option>30</option><option>32</option>';
         $('#option2').append(템플릿);
      }
});
```
if문이나 else 문을 추가해주신 후 28, 30, 32라는 option태그를 추가하는 코드를 작성하면 되겠군요.

그런데 버그가 있을 수 있습니다.



append()라는 문법은 HTML을 하단에 추가해라~ 라는 뜻이기 떄문에

셔츠, 바지를 번갈아 선택하면 HTML이 계속 길게 추가되죠?

그래서 html()함수를 이용하시면 깔끔하게 코드를 갈아치울 수 있겠군요.

버그해결방법은 강의끝날 때 쯤에 나옵니다만 충분히 혼자하실 수 있을겁니다.


---------


### 인터랙티브 form 만들기3 : forEach 반복문을 사용해보자


반복문을 이용하면 HTML을 많이 만들어낼 수 있습니다.



비슷한 형태의 HTML이 많이 필요한 경우

반복문을 사용하시면 코드가 짧아집니다.

예를 들면, option 태그를 무려 10개 생성이 필요한 경우

option 태그를 생성하는 코드를 반복문을 돌려서 10번 실행시키면 되겠죠?


```
for (var i = 0; i < 10; i++) {
  var 템플릿 = `<option>26</option>`;
  $('#option2').append(템플릿);
}
(기억나시죠... 반복문...?)
```


그런데 지금
```
<option>26</option>
```
이라는 똑같은 태그만 10개 생성하고 있는게 문제입니다.

태그를 생성할 때 26, 28, 30, 32... 이런 숫자들을 넣어서 태그를 10개 생성하려면 어떻게 해야할까요?













일단 이런건 array 등으로 정리부터 합시다.



어떤 사이즈를 집어넣고 싶은지 일단 사이즈를 한 곳에 정리부터 해보도록 합시다.



var 사이즈 = [26, 28, 30, 32, 34, 36];
넘 길까봐 6개만 적어놨습니다.

그럼 이 데이터들로 option 태그를 6개를 만들어보도록 합시다.

저번시간에 했던 코드를 수정해봅니다.


```
var 사이즈 = [26,28,30,32,34,36];

$('#option1').on('change', function(){
  if ($('#option1').val() == '바지'){

     for (var i = 0; i < 6; i++) {
       var 템플릿 = `<option>26</option>`;
       $('#option2').append(템플릿);
     }

 }
});
```
▲ if문까지는 저번시간과 똑같은데 이번엔 for 반복문으로 HTML을 생성해보도록 합시다.

여기까지 하면 26이라는 option태그가 6개나 생성이됩니다.

그런데 option태그 내의 숫자를 26,28,30 이런 아까 정리해놨던 사이즈가 들어가게 만들고 싶다면

이렇게 코드를 짜면 되지 않을까요?








```
var 사이즈 = [26,28,30,32,34,36];

$('#option1').on('change', function(){
  if ($('#option1').val() == '바지'){

     for (var i = 0; i < 6; i++) {
       var 템플릿 = `<option>${사이즈[i]}</option>`;
       $('#option2').append(템플릿);
     }

 }
});
```
▲ option 태그 안에 이상한 ${} 기호를 집어넣었습니다.



자바스크립트 역따옴표로 만든 문자자료형은 중간중간 변수 등을 집어넣고 싶다면

${} 기호를 이용해 집어넣을 수 있습니다.

중괄호 안에 여러분이 넣고싶은 변수 이름을 써주시면 됩니다.

그런데 그 변수는 사이즈[i]입니다.

= 아까 만들어뒀던 사이즈라는 자료의 i번째 데이터입니다.

새빨개서 뭔가 어려워보이죠? 별거없습니다.





반복문이 돌 때마다 i라는 숫자는 0,1,2,3,4,5가 되기 때문에

사이즈[i]라고 쓰시면 반복문이 돌 때마다 사이즈라는 [array]에 저장된 0번째, 1번째, 2번째... 5번째 데이터를 출력할 수 있습니다.

이는 곧 26,28,30 ... 36 이라는 숫자죠?

이렇게 해서 결과적으로
```
<option>26</option>
<option>28</option>
<option>30</option>
<option>32</option>
<option>34</option>
<option>36</option>
```


태그들이 생성되는 겁니다.


forEach 반복문을 이용해서 다시 만들어보자



array에 있는 자료들을 하나씩 뽑아내고 싶을 경우 쓸 수 있는 쉬운 반복문이 하나 있습니다.

forEach 라는 일종의 반복문이고 이렇게 쓰시면 됩니다.


```
var 사이즈 = [26,28,30,32,34,36];

사이즈.forEach(function(i){
  console.log(i) //사이즈 개수만큼 반복할 코드, i는 저장된 데이터
});
```
▲ 사이즈라는 array에 있는 자료들이 하나씩 콘솔창에 출력됩니다.

forEach()라고 쓰시면 되고 안에 콜백함수를 하나 집어넣어주시면 됩니다.

그러면 forEach 왼쪽에 있는 자료에 저장된 데이터 개수만큼 function 내부의 코드를 반복해줍니다.



그리고 그 콜백함수에 파라미터를 하나 집어넣어주시면 되는데 그 파라미터가 의미하는 바는

"forEach 왼쪽에 있는 자료에 저장된 하나하나의 데이터"입니다.










그럼 아까 코드를 forEach로 다시 바꿔보도록 합시다.


```
var 사이즈 = [26,28,30,32,34,36];

$('#option1').on('change', function(){
  if ($('#option1').val() == '바지'){

     사이즈.forEach(function(i){
        var 템플릿 = `<option>${i}</option>`;
        $('#option2').append(템플릿);
     });
 }
});
```
▲ for 반복문보다 약간 코드가 더 짧아졌습니다.

아까는
```
<option>${사이즈[i]}</option>
```
이렇게 썼지만

지금 forEach 반복문에서 i라는건 저장된 데이터를 뜻하니
```
<option>${i}</option>
```
이렇게만 써도 잘 동작합니다.

끝입니다요.


Arrow Function을 알아보자



참고로 자바스크립트에서 콜백함수를 사용할 때 콜백함수를 조금 더 예쁜 모양으로 사용가능합니다.


```
var 사이즈 = [26,28,30,32,34,36];
사이즈.forEach(function(i){
    console.log(i)
});

사이즈.forEach((i) => {
    console.log(i)
});
```


▲ function이라는 키워드 대신 => 라는 화살표를 이용가능합니다. 멋진 용어로 Arrow Function이라고 합니다.

다만 소괄호 오른쪽에 쓴다는 점이 조금 다르네요.

ES6 문법이니 브라우저 호환성이 안좋을 순 있지만 영어가 줄어들어 훨씬 보기 좋습니다.



특징은

1. 파라미터(구멍)가 하나면 소괄호를 생략가능합니다.

2. 함수의 중괄호 내에 return 어쩌구~ 한줄밖에 없으면 {} 중괄호도 생략가능합니다.  

3. function 문법 내에선 this라는 키워드의 값이 새롭게 변합니다. 하지만 arrow function의 경우 그냥 함수 바깥에 있던 this를 그대로 사용합니다.

- 그래서 function 내에서 this값을 쓰고 싶을 때 arrow function을 쓸지 말지를 잘 생각해보셔야합니다.


-------


### 상품정렬 기능 만들기 (sort, map, filter)


오늘의 5시간 분량 숙제 :

1. 가나다순 정렬버튼 & 기능 만들어오셈

2. 5만원이하 가격필터 버튼 & 기능 만들어오셈

숙제 힌트
1번은 알아서 하시고

2번은 약간 어려울 수 있는데 버튼누르면 5만원 이하 상품만 보여야됩니다.

그럼 나머지 2개의 상품은 안보여야되는데 이게 살짝 복잡해질 수 있습니다.



그래서 그냥 애초에

- 상품 HTML을 짜놓지말고 다 비워두고

- 5만원이하 버튼을 누르면 products라는 array에서 5만원 이하만 필터함

- products라는 array 갯수만큼 상품 HTML을 동적으로 생성해주셈~

이런 식으로 코드짜는건 어떨까요.



상품목록 HTML을 첨부터 싸그리 비워놓고 버튼 누를 때마다 HTML 생성을 직접 하는겁니다.

그럼 맨 사이트 처음 방문시에 상품이 안뜨겠지만 그건 알아서 하십시오.

아무튼 이건 저의 권장사항일 뿐이지 구현방법은 수백가지입니다.


저번시간에 해오랬던 데이터바인딩은 이렇게함


일단 HTML에는

```
<h5 class="title">Card title</h5>
<p class="price">가격 : 70000</p>
```
이런 식으로 class 명들을 부여했습니다.




```
$('.title').eq(0).html(products[0].title);
$('.price').eq(0).html('가격 : ' + products[0].price);
$('.title').eq(1).html(products[1].title);
$('.price').eq(1).html('가격 : ' + products[1].price);
$('.title').eq(2).html(products[2].title);
$('.price').eq(2).html('가격 : ' + products[2].price);
```
그리고 상품3개 전부 가격, 제목 데이터바인딩했습니다 끝

반복문 쓰고싶은 충동이 들지 않습니까 그렇다면 쓰면 됩니다.


-----


Array자료를 정렬하고 싶으면 sort()를 붙입니다


```
var 어레이 = [7,3,5,2,40];
```
예를 들어서 이런 자료가 있는데 이걸 숫자순이나 문자순으로 정렬하고 싶은겁니다.

그럴 땐 array에만 붙일 수 있는 기본함수인 sort()를 쓰시면 됩니다.




```
var 어레이 = [7,3,5,2,40];
어레이.sort();
```
이렇게 sort()만 붙이면 문자순으로 정렬됩니다. 콘솔창에서 출력한번 해보십시오.

[2,3,40,5,7] 순으로 정렬되어있을겁니다.






```
var 어레이 = [7,3,5,2,40];
어레이.sort(function(a,b){
  return a - b
});
```
이렇게 쓰시면 숫자오름차순 정렬이 가능합니다.

2,3,5,7,40 순으로 정렬될걸요?



Q. 왜 저따구로 복잡하게 써야하나요? 이해가 안감

A. 이해가 아니라 암기의 영역입니다. 자바스크립트 만든 사람이 저렇게 쓰라고 만들어놓은 것이니 외워서 씁시다.





하지만 sort 함수의 동작 원리를 잠깐 설명해드리자면

① sort 함수의 파라미터두개는 array 자료 안에 있던 데이터들을 의미합니다.

a, b 이건 그니까 7, 3 이거랑 똑같다고 보시면 됩니다.



② sort 함수는 양수(+)를 return 하면 a를 오른쪽 b를 왼쪽으로 보냄

음수(-)를 return 하면 a를 왼쪽 b를 오른쪽으로 보냄

이렇게 동작하도록 되어있습니다.



③ sort 함수는 a, b자리에 7과 3을 대입해보고 끝나는게 아니라

7, 5

7, 2 등

array 안에 있는 모든 자료들을 다 알아서 적용해봅니다.






```
var 어레이 = [7,3,5,2,40];
어레이.sort(function(a,b){
  return a - b
});
```
그래서 sort함수 안에 return a - b 이렇게 쓰시면 숫자오름차순 정렬이 가능한 것입니다.

a,b가 7,3 이라고 가정하면 7 - 3인 4를 return 하지않습니까.

양수를 return하는 경우 7은 오른쪽 3은 왼쪽으로 보냅니다.  

그냥 논리력 테스트입니다.







Q. 그럼 3 2 1 순으로 숫자내림차순 정렬은 어떻게 코드를 짜면 될까요?

논리력 테스트시간이니 알아서 해보도록 합시다.



Q. 문자 역순정렬은 어떻게 코드를 짜면 될까요?

array 안에 ['b', 'a', 'c'] 문자가 들어있다고 칩시다. 그걸 c b a 순으로 정렬하려면 어떻게합니까.

이것도 논리력 테스트라 알아서 합시다. 힌트는 문자자료는 부등호로 비교가 가능합니다.

'a' < 'b' 이건 true가 그 자리에 남고

'a' > 'b' 이건 false입니다.













그럼 products라는 array를 가격순 정렬하려면


![20220323_011233](/assets/20220323_011233.png)


products라는 array를 가격순으로 정렬하려면 어떻게 할까요?

지금은 5만원짜리가 중간에 껴있는데 이걸 맨 앞으로 옮기자는겁니다.

역시 이것도 array자료기 때문에 sort()를 사용하면 됩니다.






```
<button id="sortPrice">가격순정렬</button>
```
일단 버튼하나 만들고 이거 누르면 정렬해봅시다.






```
$('#sortPrice').click(function(){
  products.sort(function(a,b){
    return a - b
  });
})
```
이렇게 쓰면 가격순 정렬된다면서요 안되는데요? 사기꾼인듯

그것은 sort() 함수 동작원리를 다시 한번 생각해보면 됩니다.



1. a와 b는 products안에 있던 자료들을 의미합니다.

2. sort함수는 +를 return하면 b를 왼쪽으로 보냅니다.

원리가 이렇기 때문에 저렇게 코드짜면 정렬이 안되는 것입니다.

a와 b는 지금 {} 이런 자료기 때문에 그렇습니다. {} - {} 해봤자 양수가 나옵니까 음수가 나옵니까 아무것도 안나옵니다.

그래서 {} 이것끼리 빼보지말고 {} 안에 있던 가격 이런걸 빼보십시오.


  알아서합시다

  ```
  $('#sortPrice').click(function(){
    products.sort(function(a,b){
      return a.price - b.price
    });
  })
  ```
  이러면 버튼누르면 products라는 array가 정렬되어있습니다.

  콘솔창에 출력해보면 정말 5만원짜리 상품이 맨 앞에 있군요  


  Q. products는 정렬 잘 되는데 왜 HTML은 안바뀜?

A. 지능이 없는 컴퓨터는 자동으로 뭐 해주지 않습니다. 컴퓨터에게 뭔가 기대하지 마시고 HTML도 바꾸라고 코드를 직접 짜십시오.



그니까 1. 버튼을 누르면 2. products라는 array 정렬해주시고 3. products에 있던 첫째 상품의 제목을 HTML에 데이터바인딩해주세요~ 이렇게 코드를 짜면 기능구현 끝이겠군요.











Array 자료에서 원하는 것만 거를 때 filter 함수를 씁니다



예를 들어서 array안에 있는 것들 중 4 미만인 숫자만 남기고 싶습니까.

그러면 filter() 함수가 제격입니다.


```
var 어레이 = [7,3,5,2,40];
var 뉴어레이 = 어레이.filter(function(a){
  return a < 4
})
```
뉴어레이를 출력해보면 진짜 [2,3] 이것만 남아있습니다.

filter 함수 동작원리는

① 함수 안의 a라는 파라미터는 array 자료안에 있던 하나하나의 데이터를 의미합니다.

② return 오른쪽에 조건식을 적어주시면 조건식이 참인 경우에만 그 자료를 퉤 뱉습니다.

③ 그리고 filter함수의 결과는 저렇게 새로운 변수에 담아서 쓰라고 되어있습니다.



그래서 위의 코드는 [2,3]만 남는 것입니다.

filter() 함수는 비교적 신문법이라서 sort()와 다르게 원본을 수정하지 않아서 저렇게 변수에 담아쓰는 것만 좀 주의하면 됩니다.











Array 자료들에 똑같은 작업을 시킬 때 map을 씁니다



예를 들어서 array안에 있는 것에 전부 2를 곱해주고 싶습니까

그러면 map() 함수가 제격입니다. 수학에서의 mapping 이런거에서 따온 이름인데 몰라도 됩니다.


```
var 어레이 = [7,3,5,2,40];
var 뉴어레이 = 어레이.map(function(a){
  return a * 2
})
```
뉴어레이를 출력해보면 진짜 [14,6,10,4,80] 이 출력됩니다.



map 함수 동작원리는

① 함수 안의 a라는 파라미터는 array 자료안에 있던 하나하나의 데이터를 의미합니다.

② return 오른쪽에 array 자료에 적용할 수식을 적으면 됩니다.

③ 그리고 map 함수의 결과는 저렇게 새로운 변수에 담아서 쓰라고 되어있습니다.

그려면 수식이 적용된 결과를 퉤 뱉어줍니다.



보통 기존 array를 조작한 새로운 array를 만들 때 사용합니다.









강의 듣는게 중요한게 아니라 오늘의 숙제나 해보도록 합시다.

----

### 상품정렬 기능 만들기 숙제풀이 & 응용문제


응용0. '가나다'순 정렬말고 '다나가'순 정렬은?

응용1. 사이트 처음 접속시 상품3개가 안보인다면 상품3개가 잘 보이게 어떻게함?

응용2. 필터버튼을 만드는게 아니라 <input>을 이용하려면?

응용3. 원래대로 버튼을 만들고 싶으면?



이런 것들도 심심할 때 해보면 좋은 연습이 되지않을까요.









Q1. 버튼누르면 가나다순 정렬?

저는 이렇게 했는데 이게 중요합니까


직접 좌절을 맛보는게 중요합니다.

버튼을 누르면 products.sort() 를 써서 products를 문자정렬하라고 했고

그 다음에 데이터바인딩을 해서 HTML을 바꿔줬습니다. 끝




```
$('#abc').click(function(){
    products.sort(function(a,b){
      if (a.title < b.title == true ) {
        return -1
      } else {
        return 1
      }
    })

    $('.title').eq(0).html(products[0].title);
    $('.price').eq(0).html('가격 : ' + products[0].price);
    $('.title').eq(1).html(products[1].title);
    $('.price').eq(1).html('가격 : ' + products[1].price);
    $('.title').eq(2).html(products[2].title);
    $('.price').eq(2).html('가격 : ' + products[2].price);
});
 ```



문자정렬하는 부분을 설명하자면

자바스크립트에선 문자 두개를 부등호로 비교가 가능합니다.

'ㄱ' < 'ㄴ' 이건 true라고 판정해줍니다.

그렇기 때문에 a상품제목 < b상품제목 이게 true면 - 를 return 해주세요~라고 코드를 짰을 뿐입니다.

- 를 return하면 b를 오른쪽으로 보내기 때문입니다.  





오늘의 교훈은 저거 데이터바인딩하는 코드가 넘나 길고 다른 곳에서 많이 사용하면

함수로 축약하거나 그러는게 어떨까요.

Q2. 버튼 누르면 6만원 이하 상품만?

심심해서 5만원 말고 6만원 이하로 바꿔서 해봤습니다


버튼 누르면 products라는 것에서 6만원 이하 상품만 남기도록 코드를 짰습니다.

출력해보면 [{}, {}] 이렇게 두개 상품만 남게요


```
$('#filter').click(function(){
    var 새상품 = products.filter(function(a){
      return a.price <= 60000
    });
    console.log(새상품);
});
```

-#filter라는 버튼 누르면 필터를 해주고, 새상품이라는걸 출력해보면 상품2개만 잘 남아있습니다.

그럼 이제 뭐해야합니까 HTML도 이거에 맞게 바꾸라고 명령주면 끝나지 않겠습니까.

근데 기존에 보이고 있던 HTML을 지우거나 하려면

- div중에 여기 목록에없는 div를 찾아서 display : none을 줘야하고

- 그러려면 div에다가 미리 data-id 이런걸 심어놓던가 하면 편할텐데

이런 식을 코드를 짜야하는데 이러면 또 어렵기 때문에

그냥 전에 배웠던 "HTML 동적으로 생성하기" 스킬을 써봅시다.







"products라는 자료에 있는 데이터 갯수만큼 상품 HTML을 생성해주세요~" 라고 코드를 짤 것입니다.

HTML 생성하는건 저번시간에 따르면 append() 이런거 쓰면 편리하다고 했는데


```
var template = `<div>안녕</div>`;
 $('원하는위치').append(template)
 ```
이러면 원하는 곳에 div박스같은걸 내부에 추가해줄 수 있다고 했습니다.

이걸 씁시다. 몇번써야합니까 2번써야하죠? 상품 2개니까요.



그래서 손수 2번 복붙하면 되는데

손수 2번 복붙하는 것 보다는 반복문이 낫겠죠?

왜냐면 필터하고난 상품이 2개가 아니라 3개면 어쩔겁니까 그때마다 코드를 수정할 수는 없잖아요.

확장성을 위해선 반복문이 좋을 듯요





 ```

$('#filter').click(function(){
    var 새상품 = products.filter(function(a){
      return a.price <= 60000
    });
    console.log(새상품);

    새상품.forEach(function(a){
      var template = `<div>이거 상품카드임</div>`;
      $('.card-group').append(template)
    })
});
```
그래서 전 forEach 반복문을 사용했습니다.

그러면 새상품이라는 array안의 자료 갯수만큼 내부 코드를 반복해줍니다. 끝

이제 <div>안에 상품스럽게 알아서 HTML 꾸미시면 되겠습니다.





중간중간에 상품명, 상품가격 이런거 넣고싶으면
```
var template = `<div>${a.title}</div>`;
```
이렇게 쓰면 되겠네요

하지만 강의 듣다보면 뇌를 안쓰고 생각없이 따라치게 됩니다.

a가 뭐게요?

안알랴줌







Q. 어 그럼 버튼 누르면 기존 상품들은 가만히 있고 2개가 더 추가되어서 총 5개가 보이네요?

A. 그럼 기본으로 보이고 있던 HTML을 주석처리 해놓으면 되겠군요







Q. 어 그럼 사이트 맨 처음에 들어가면 기존 상품들이 아예 안보이는데요?

A. 그럼 사이트 방문시 상품 3개의 HTML을 동적으로 만들어주라고 코드 짜면 되겠군요



------------


### Ajax 요청하기 1 : 개념설명


(숙제) 버튼을 누르면 Ajax요청을 해서 받아온 데이터로 글자를 바꾸자

버튼과 h4태그를 하나씩 만든 후,

https://codingapple1.github.io/hello.txt 여기로 Ajax GET 요청을 해서 데이터를 받아온 뒤에

받아온 데이터로 h4 태그 내용을 바꿔치기해보세요.







예제용  임시 서버 URL :

https://codingapple1.github.io/hello.txt (여기로 GET요청을 하면 인사말이 딸려옵니다.)

Ajax란?



서버에 요청을 해서 데이터를 가져오거나 보내고싶을 때가 있습니다.

그런데 서버에 요청을 할 때 새로고침 없이 데이터를 주고받을 수 있게 도와주는게 바로 Ajax입니다.

Ajax를 이용하면 새로고침 없이 여러분이 아이디와 비번을 서버로 보낼 수도 있고

새로고침없이도 쇼핑몰 상품들을 하단에 더 불러올 수 있습니다.

근데 서버에 요청을 한다는 소리가 뭔지 모르겠죠?







서버란?



그냥 요청을 하면 데이터를 갖다주는 기계일 뿐입니다.

예를 들면 네이버 웹툰서버는 유저가 요청하면 네이버 웹툰 이미지를 갖다주는 기계일 뿐입니다.









요청이란?



서버에 뭐 요청을 한다고 설명했는데.. 서버에 요청을 하는 방법은 전통적으로 두가지가 있습니다.

1. GET 요청 : URL을 입력해서 서버가 주는 데이터를 받아올 수 있습니다.

- 보통 웹페이지를 읽거나 데이터를 받아올 때 많이 사용합니다.  

- URL에 여러가지 정보를 추가해서 서버로 원하는 데이터를 전송할 수도 있습니다.

- 우리가 브라우저 주소창에 naver.com 이렇게 때려박는게 바로 GET 요청 방법 중의 하나입니다.





2. POST 요청 : 원하는 데이터를 서버로 전송할 수 있습니다.

- 로그인하거나 블로그 글발행처럼 정보를 전송할 때 많이 사용합니다.

- GET요청처럼 URL에 정보를 추가하지않고 정보를 다른 곳에 숨겨서 전달합니다.



근데 GET, POST 요청시 보통 페이지가 새로고침이 되는게 일반적인데, Ajax를 쓰시면 새로고침 없이도 GET, POST 요청을 보낼 수 있습니다.











jQuery로 Ajax요청하기



Ajax요청을 하는 법은 쉽습니다. $.ajax() 라는 함수를 쓰고 안에 {} 오브젝트 형식으로 몇개만 셋팅해주시면 됩니다.


```
$.ajax({
    url : 'https://naver.com',
    type : 'GET'
});

```

{} 오브젝트 안에는 url, type 이 두개가 필수로 들어갑니다.

url 정보란엔 데이터 요청할 서버 URL,

type 정보란엔 요청의 종류를 적어주시면 됩니다.

그럼 위의 코드는 naver.com에다가 GET요청을 하는 코드입니다.

끝입니다.


서버에 인사말 요청하기



https://codingapple1.github.io/hello.txt (여기로 GET요청을 하면 인사말이 딸려옵니다.)

여기로 GET요청을 해보는 코드를 짜보십시오.



짜보셨습니까

```
$.ajax({
    url : 'https://codingapple1.github.io/hello.txt',
    type : 'GET'
});
```
이렇게 하시면 되겠습니다.

혹은 확인해보고 싶으면 브라우저 주소창에 그대로 저 주소를 복붙해보시길 바랍니다.

왜냐면 브라우저 주소창은 GET 요청할 수 있는 공간이기 때문입니다.

-----

요청결과(데이터)를 출력해보기



Ajax요청을 하면 데이터를 받아온다고 했는데

데이터는 도대체 어딨는 것입니까? 라고 물어보신다면 대답해드리는게 인지상정


```
$.ajax({
    url : 'https://codingapple1.github.io/hello.txt',
    type : 'GET'
}).done(function(데이터){
  console.log(데이터);
});
```
ajax() 뒤에 .done() 함수를 붙인 뒤에 콜백함수를 하나 추가해줍니다.

그 다음에 콜백함수에 파라미터 아무거나 집어넣으신 후에 그걸 콘솔창에 출력해보시면

그것이 바로 받아온 데이터입니다.

(done함수는 그냥 복붙해서 쓰시면 됩니다.)

그럼 이제 done 함수 내에 아무렇게나 코드를 짜서 데이터를 이리저리 조작하고 숙제도 해보고 그러면 되겠죠?


-----

### Ajax 요청하기 2 : 상품 더보기 기능 만들기


예제용 임시 서버 URL :

https://codingapple1.github.io/hello.txt (여기로 GET요청을 하면 인사말이 딸려옵니다.)

https://codingapple1.github.io/data.json (여기로 GET요청을 하면 상품데이터가 딸려옵니다.)


저번시간숙제) 버튼을 누르면 데이터를 받아와서 h4 태그에 집어넣으려면?



일단 버튼을 누르면 Ajax 요청을 하는 코드부터 짜보도록 합시다.

버튼을 클릭했을 때 ajax()함수를 실행하게 만들면 되겠죠?

해보셨습니까

```
$('어쩌구버튼').click(function(){
  $.ajax({
    url : 'https://codingapple1.github.io/hello.txt',
    type : 'GET'
  }).done(function(데이터){
    console.log(데이터);
  });
});
 ```

그 다음엔 받아온 데이터를 h4에 꽂아야합니다.

데이터는 어딨냐면... done 함수 내의 파라미터가 바로 데이터라고 했습니다.

그럼 그 파라미터를 h4에 집어넣으시면 되겠죠?


```
$('어쩌구버튼').click(function(){
  $.ajax({
    url : 'https://codingapple1.github.io/hello.txt',
    type : 'GET'
  }).done(function(데이터){
    $('h4태그').html(데이터)
  });
});
```
이렇게 하면 되겠네요.

이전에 다 배웠던 것들이라 설명은 스킵하겠습니다.

Ajax에 추가로 들어갈 수 있는 내용들이 많습니다.



```
$.ajax({
    url : 'https://codingapple1.github.io/hello.txt',
    type : 'GET',
    data : '어쩌구',
    dataType : '저쩌구'
});
```

중괄호 내에 여러가지 프로퍼티들을 설정해주면 조금 더 상세한 ajax 요청이 가능합니다.

어떤 것들이 있는지는 구글 찾으면 다 나오기 때문에 필요할 때 찾아쓰도록 합시다.



```
$.ajax({
    url : 'https://codingapple1.github.io/hello.txt',
    type : 'GET'
}).fail(function(){
  //요청이 실패했을 때 실행할 코드
}).always(function(){
  //실패하든 성공하든 항상 실행할 코드
})
```

.done 함수 말고도 뒤에 붙일 수 있는 함수는 fail, always가 있습니다.

용도는 위에 써있는 그대로입니다.

fail 함수는 파라미터를 3개 추가해서 쓸 수 있는데




```
$.ajax({
    url : 'https://이상한URL.com',
    type : 'GET'
}).fail(function( jqXHR, textStatus, errorThrown ){
  console.log(errorThrown)
})
```
textStatus, errorThrown을 출력해보면 Ajax 요청이 왜 실패했는지 이유를 알려줍니다.


상품 더보기 버튼을 만들어보자



버튼을 누르면 서버에 Ajax 요청을 해서 상품목록 데이터를 가져온 뒤에 HTML에 표시해보도록 합시다.

어떤 서버에 요청할거냐면..

https://codingapple1.github.io/data.json

여기에 요청할겁니다. 이걸 브라우저에 그대로 때려박아도 결과를 보실 수 있겠지만
```
{"brand" : "Hyundai", "model" : "Kona", "price" : 30000, "img" : "https://codingapple1.github.io/kona.jpg"}
```
요청에 성공하면 이런 자료가 나옵니다. 자동차파는 쇼핑몰의 데이터라고 생각하시면 되겠습니다.

버튼을 누르면 이 데이터를 Ajax로 요청한 뒤에 여러분 HTML에 박아넣어보도록 합시다.

HTML은 대충 이렇게 준비하시면 되겠습니다.




```
<div class="card">
    <img src="" class="card-img-top">
    <div class="card-body">
      <h5 class="card-title">임시 제목</h5>
      <p class="card-text">임시 가격</p>
      <a href="#" class="btn btn-primary">더 알아보기</a>
    </div>
  </div>

<button class="btn btn-danger">상품을 불러오는 버튼</button>
```
(▲ Bootstrap이 설치되어있어야 이쁘게 나옵니다)



빨리 하단에 Ajax 요청을 하는 코드를 짜보십시오.

잘 짜셨다면 버튼을 누르면 예쁜 자동차 사진, 제목, 가격이 HTML에 표기되어야합니다.


-----


직접 해보셨습니까

```
$('.btn-danger').click(function(){
  $.ajax({
    url : 'https://codingapple1.github.io/data.json',
    type : 'GET'
  }).done(function(데이터){
    $('.card-title').html(데이터.model);
    $('.card-img-top').attr('src', 데이터.img);
  });
});
```
이렇게 하면 되겠네요.

새로 배우는게 없기 때문에 가격 등은 알아서 해보시길 바랍니다.


----


아까 object 자료형은 왜 따옴표가 쳐있죠?


```
{"brand" : "Hyundai", "model" : "Kona", "price" : 30000, "img" : "https://codingapple1.github.io/kona.jpg"}
```
Ajax 요청을 하면 위의 자료가 온다고 했는데,

잘 보시면 key 값에 전부 따옴표가 쳐있습니다.

이건 object가 아니라, JSON이라는 자료형입니다.

(object의 키값에 전부 따옴표를 쳐서 만들어내는 자료형입니다.)

![20220323_014342](/assets/20220323_014342.png)


JSON은 보통 서버에서 데이터를 보내줄 때 object, array 대신자주 활용하는 자료형입니다.

"object를 그냥 보내면 되는거지 왜 굳이 JSON처럼 따옴표를 쳐서 보내는지?" 물어보신다면..

원래 데이터를 주고받을 때 텍스트형식이 아니면 데이터가 중간에 깨질 수 있습니다.

그래서 object 자료를 저렇게 따옴표 쳐서 텍스트 비스무리하게 만들어서 보내는 것입니다.







그런데 문제가 있습니다.

JSON은 object처럼 쩜을 찍어서 원하는 자료를 꺼낼 수가 없습니다.  

그래서 JSON 자료를 받아오시면 object로 변환하는 과정이 필요합니다.

(그래야 원하는 데이터를 쉽게 뽑아쓰니까요)


```
var 오브젝트 = JSON.parse(여러분의 제이슨데이터)
```
JSON.parse()라는 함수에 담으면 따옴표가 제거된 object가 생성됩니다.

그 반대도 있습니다.

 


```
var 제이슨 = JSON.stringify(여러분의 오브젝트데이터)
```
JSON.stringify()라는 함수에 담으면 object 자료형에 따옴표를 예쁘게 쳐서 JSON을 만들어줍니다.

하지만 아까처럼 jQuery ajax 함수를 쓰면 JSON을 가져와도 지가 알아서 쓰기좋게 object로 변환해주기 때문에 따로 신경쓸 필요는 없습니다. -->
