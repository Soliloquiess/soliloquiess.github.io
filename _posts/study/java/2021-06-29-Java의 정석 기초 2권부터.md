---
title: "[자바]Java 정석 기본편 제네릭스 12장 이후"
layout: post
subtitle: Java
date: "2021-06-29 07:52:51 +0900"

categories: study
tags: Java
# layout: post
# title:  WebFrontEnd
# subtitle:   "시작하기"
# categories: study
# tags: java
comments: true
---

### 제네릭스, 열거형, 어노테이션

#### 제네릭스 : 다양의 타입의 객체를 다루는 메서드나 컴파일 시 타입 체크를 해주는 기능.

객체 타입 컴파일 시 타입 안정성을 높이고 형 변환의 번거로움이 줄어든다.

##### 제네릭스의 장점

1. 타입 안정성을 제공한다.
2. 타입 체크와 형변환을 생략할 수 있으므로 코드가 간결해진다.

---

#### 타입변수

- ArrayList 클래스의 선언에서 클래스의 이름 옆의 <> 안에 있는 E를 타입변수라고 하며 일반적으로는 Type의 첫글자인 T를 쓴다.

물론 T만 쓰는게 아니고 다른걸 써도 된다.

ArrayList< E > 의 경우 Element의 E를 쓰거나 Map< K,V >와 같이 여러개일 경우 콤마로도 구분이 가능하다.

그리고 ArrayList와 같은 제네릭 클래스 생성시 참조변수와 생성자에 타입 변수 E 대신 Tv와 같은 실제타입을 지정해 줘야한다.

ArrayList < Tv > tvList = new ArrayList< Tv >();

---

#### 제네릭스의 용어

class Box < T > {}
라는 제네릭 클래스 BOX 가 선언되어 있을 떄

BOX< T > : 제네릭 클래스 'T의 Box' 또는 'T Box'라고 읽는다.

T: 타입 변수 또는 타입 매개변수(T는 타입 문자)
Box : 원시타입(raw type)

---

#### 와일드 카드

- 제네릭 클래스를 생성시 참조변수에 지정된 제네릭 타입과 생성자에 지정된 제네릭 타입은 일치해야 한다.

ArrayList< Tv > list = new ArrayList< Tv >()

만약 일치하지 않으면 컴파일 에러가 난다.

그럼 제네릭 타이벵 다형성을 쓰는 법은 없나?

제네릭 타입으로 와일드 카드를 사용하면 된다.

와일드 카드는 기호 "?"를 사용하는데 'extends'와 'super로 상한, 하한을 제한할 수 있다.

< ? extends T > : 와일드 카드의 상한 제한. T와 그 자손들만 가능
< ? super T > : 와일드 카드의 하한 제한 . T와 그 조상들만 가능
< ? > : 제한 없음. 모든 타입이 가능 < ? extends Object >와 동일.

---

#### 어노테이션이란

- 주석처럼 프로그래밍 언어에 영향을 미치지 않으면서도 다른 프로그램에게 유용한 정보를 제공할 수 있다라는 장점이 있다.( 어노테이션의 뜻은 주석, 주해 , 메모이다.)

---

### 쓰레드

#### 프로세스(Process)와 쓰레드(thread)

- 프로세스란 간단히 말해서 실행중인 프로그램이다. 프로개름을 실행하면 OS로 부터 실행에 필요한 자원(메모리)을 할당받아 프로세스가 된다.

프로세스는 프로그램을 수행하는데 필요한 데이터와 메모리 등 자원 그리고 쓰레드로 구성되어 있으며, 프로세스의 자원을 이용해서 실제로 작업을 수행하는 것이 쓰레드다.

그래서 모든 프로세스에는 최소한 하나 이상의 쓰레드가 존재하며, 둘 이상의 쓰레드를 가진 프로세스를 '멀티쓰레드 프로세스'라고 한다.

---

#### 멀티쓰레딩의 장단점

- DOS 와 같은 OS는 한번에 한 가지 작업만 할 수 있다. 반면에 윈도우와 같은 멀티 태스킹이 가능한 OS는 동시에 여러 작업을 수행할 수 있다.

싱글 쓰레드 프로그램과 멀티 쓰레드 프로그램의 차이도 이와 같다고 생각하면 된다.

###### 멀티쓰레드의 장점.

- CPU의 사용률을 향상시킨다.
- 자원을 보다 효율적으로 사용할 수 있다.
- 사용자에 대한 응답성이 향상된다.
- 작업이 분리되어 코드가 간결해진다.

메신저로 채팅하면서 파일을 다운로드 받거나 음성대화를 나눌 수 있는 것이 가능한 이유가 바로 멀티쓰레드로 작성되어있기 때문이다.

만약 싱글 쓰레드로 작성되어 있다면 파일을 다운 받을 시 다른 일(채팅)을 전혀 할 수 없을 것이다.

여러 사용자에게 서비스를 해주는 서버인 경우 멀티스레드로 작성하는 것은 필수적이여서
하나의 서버프로세스가 여러개의 스레드를 생성해서 스레드와 사용자의 요청이 일대이로 처리되도록 프로그래밍 해야한다.

만일 싱글스레드로 서버 프로그램을 작성한다면 사용자의 요청마다 새로운 프로세스를 생성해야하는 데 프로세스를 생성하는 것은 쓰레드를 생성하는 것에 비해 더 많은 시간과 메모리 공간이 필요하므로 더 많은 수의 사용자 요청을 서비스 하기 어렵다.

그러나 멀티스레드가 꼭 좋은것만 있는것은 아닌데 멀티쓰레드는 여러 쓰레드가 같은 프로세스 내에서 자원을 공유하면서 작업을 하기 때문에 발생할 수 있는 동기화, 교착상태와 같은 문제들을 고려해서 신중히 프로그래밍 해야한다.

---

#### 쓰레드의 구현과 실행

- 쓰레드를 구현하는 건 Thread 클래스 상속 받는 것과 Runnable 인터페이스를 구현하는 법 모두 두가지가 있다. 어느 쪽을 선택해도 별 차이는 없지만 Thread 클래스를 상속한다면 다른 클래스를 상속받을수 없으므로 Runnable 인터페이스를 구현하는 법이 일반적이다.

###### Runnable 인터페이스를 구현하는 방법은 재사용성이 높고 코드의 일관성을 유지할 수 있기 떄문에 보다 객체지향적인 방법이다.
