

어플리케이션 역할은 모듈로서 jsp가 해주는 것 처럼 자바 컴파일 해서 나온 결과를 웹 서버에 준다.



기존의 웹 서버 방식과 애플리케이션 서버 방식

#### JSP = javaSever Page의 약자.
자바 언어 기반으로 하는 스크립트 언어
자바 장점 그대로 활용
쉽게 웹개발 가능.

#### 웹 컨테이너
- 웹 어플리케이션을 실행할 수 있는 서버 프로그램.
- 자바의 웹 컨테이너 = JSP와 Servlet을 지원.


-------


웹에서는 실행의 주체가 톰캣이다. (자바가 아니라)

그럼 톰캣이 jar파일을 가지고 있어야 실행함.
이클립스에서 아무리 jar를 가져도 톰캣 자체에 jar를 파일을 지니지 않으면 오류가 나게 된다.


가지고 있으려면 web-inf아래 lib 파일에 있어야 한다.

deployment assembly 로 사용해서
maven dependency web-inf/lib 설정


mvn 설치 후 cmd에서 mvn package실행

![20220421_102458](/assets/20220421_102458.png)

패키지 경로 - 클래스명 으로 jar 파일 생성

----


#### 라이프 사이클

mvn 5minutes을 보고 실행한뒤
classess-com-mocpnmapny-app 가면 클래스 파일이 있음

이걸 jar압축한것

```
\Web\my-app\target>jar cvf test.jar classes/ 로 가서

jar cvf test.jar classes/.
```
를 실행시 추가됨.


혹시라도 안되면 target 지우고

mvn colpile 입력 후 실행하면 app.class 파일이 생성되게 됨.
jar 파일은 없어진다.

jar 파일 만들기 위해 mvn package입력


----

![20220421_103431](/assets/20220421_103431.png)

compile은 2번째 까지
package까지하면 4번쨰 까지
deploy하면 마지막 까지 라이프사이클

그 아래 2개는 의존성과 별로 상관이 없는 것들이다.


properties는 환경변수


mvn clean package는 한번 다운 받은게 있으면 있는 거 그대로 사용해서 빠름.

이 현상은 maven 동작 뿐 아니라 우리가 쓰는 라이브러리도 마찬가지.


어떤 그냥 다 날리고 다시 받으면 되긴 관리하는데 문제는 프레임 워크 가면 ant폴더가 10기가 이러기도 한다. 그럼 날리면 새로 다 받아야 되는데 이건 매우 비효율적.

그래서 피치못하지 않은 사정이 아니면 jar파일을 지울 경우가 있으면 하나씩 지워가는게 좋다.


https://maven.apache.org/guides/getting-started/index.html


```
mvn archetype:generate ^
    -DarchetypeGroupId=org.apache.maven.archetypes ^
    -DarchetypeArtifactId=maven-archetype-webapp ^
    -DgroupId=com.bit.mvn ^
    -DartifactId=web07

```
를 (따로 web07 프로젝트  안 만들고 부모 폴더에서 실행)
그리고 뒤에 ^가 있어야 됨.
잘못 쓴게 아니다.

Define value for property 'version' 1.0-SNAPSHOT: 여기서 멈추는데 그냥 엔터 침

 Y: 에서도 멈추는 데 y입력


그럼 본 파일에 없던 web07이 생성 된 걸 볼 수 있다.


![20220421_112517](/assets/20220421_112517.png)

그리고 cd web07로 가서  mvn package 입력

![20220421_112730](/assets/20220421_112730.png)

 -------

 ![20220421_113129](/assets/20220421_113129.png)

위 부분을 root로 바꾸고 mvn clean package입력

![20220421_113208](/assets/20220421_113208.png)

그럼 본래의 web07이 타겟에 다시 들어가면 war파일의 이름이 바뀐걸 볼 수 있다.

![20220421_120118](/assets/20220421_120118.png)

maven project 임포트


----


![20220421_120212](/assets/20220421_120212.png)

![20220421_120255](/assets/20220421_120255.png)

내장 된 mvn이 아닌 윈도우에 설치한 maven을 쓰려면 위처럼 하면 된다.


----



![20220421_120610](/assets/20220421_120610.png)



new maven project로 그 이전꺼는 next를 눌러주고 기다리면 위와 같은 목록이 뜬다(기다려야됨. 바로 안 뜰 수 있음)


![20220421_120752](/assets/20220421_120752.png)

![20220421_121110](/assets/20220421_121110.png)

--------
